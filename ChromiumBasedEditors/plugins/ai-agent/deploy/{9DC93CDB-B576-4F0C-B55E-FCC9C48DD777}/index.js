const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["angular-html.js","html.js","javascript.js","css.js","angular-ts.js","scss.js","apl.js","xml.js","java.js","json.js","astro.js","typescript.js","postcss.js","tsx.js","blade.js","html-derivative.js","sql.js","bsl.js","sdbl.js","cairo.js","python.js","cobol.js","coffee.js","cpp.js","regexp.js","glsl.js","c.js","crystal.js","shellscript.js","edge.js","elixir.js","elm.js","erb.js","ruby.js","haml.js","graphql.js","jsx.js","lua.js","yaml.js","erlang.js","markdown.js","fortran-fixed-form.js","fortran-free-form.js","fsharp.js","gdresource.js","gdshader.js","gdscript.js","git-commit.js","diff.js","git-rebase.js","glimmer-js.js","glimmer-ts.js","hack.js","handlebars.js","http.js","hxml.js","haxe.js","jinja.js","jison.js","julia.js","r.js","latex.js","tex.js","liquid.js","marko.js","less.js","mdc.js","nginx.js","nim.js","perl.js","php.js","pug.js","qml.js","razor.js","csharp.js","rst.js","cmake.js","sas.js","shaderlab.js","hlsl.js","shellsession.js","soy.js","sparql.js","turtle.js","stata.js","svelte.js","templ.js","go.js","ts-tags.js","twig.js","vue.js","vue-html.js","vue-vine.js","stylus.js","xsl.js"])))=>i.map(i=>d[i]);
function GB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ub={exports:{}},Uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function WB(){if(mT)return Uu;mT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var gT;function KB(){return gT||(gT=1,Ub.exports=WB()),Ub.exports}var w=KB(),Fb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function YB(){if(yT)return ze;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function E(A,ee,fe){this.props=A,this.context=ee,this.refs=x,this.updater=fe||y}E.prototype.isReactComponent={},E.prototype.setState=function(A,ee){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,ee,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=E.prototype;function T(A,ee,fe){this.props=A,this.context=ee,this.refs=x,this.updater=fe||y}var k=T.prototype=new S;k.constructor=T,_(k,E.prototype),k.isPureReactComponent=!0;var L=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function j(A,ee,fe,O,me,Ce){return fe=Ce.ref,{$$typeof:t,type:A,key:ee,ref:fe!==void 0?fe:null,props:Ce}}function $(A,ee){return j(A.type,ee,void 0,void 0,void 0,A.props)}function H(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function B(A){var ee={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(fe){return ee[fe]})}var Y=/\/+/g;function ne(A,ee){return typeof A=="object"&&A!==null&&A.key!=null?B(""+A.key):ee.toString(36)}function re(){}function Z(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(re,re):(A.status="pending",A.then(function(ee){A.status==="pending"&&(A.status="fulfilled",A.value=ee)},function(ee){A.status==="pending"&&(A.status="rejected",A.reason=ee)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ae(A,ee,fe,O,me){var Ce=typeof A;(Ce==="undefined"||Ce==="boolean")&&(A=null);var ye=!1;if(A===null)ye=!0;else switch(Ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(A.$$typeof){case t:case e:ye=!0;break;case h:return ye=A._init,ae(ye(A._payload),ee,fe,O,me)}}if(ye)return me=me(A),ye=O===""?"."+ne(A,0):O,L(me)?(fe="",ye!=null&&(fe=ye.replace(Y,"$&/")+"/"),ae(me,ee,fe,"",function(mt){return mt})):me!=null&&(H(me)&&(me=$(me,fe+(me.key==null||A&&A.key===me.key?"":(""+me.key).replace(Y,"$&/")+"/")+ye)),ee.push(me)),1;ye=0;var ve=O===""?".":O+":";if(L(A))for(var Ne=0;Ne<A.length;Ne++)O=A[Ne],Ce=ve+ne(O,Ne),ye+=ae(O,ee,fe,Ce,me);else if(Ne=g(A),typeof Ne=="function")for(A=Ne.call(A),Ne=0;!(O=A.next()).done;)O=O.value,Ce=ve+ne(O,Ne++),ye+=ae(O,ee,fe,Ce,me);else if(Ce==="object"){if(typeof A.then=="function")return ae(Z(A),ee,fe,O,me);throw ee=String(A),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ye}function U(A,ee,fe){if(A==null)return A;var O=[],me=0;return ae(A,O,"","",function(Ce){return ee.call(fe,Ce,me++)}),O}function X(A){if(A._status===-1){var ee=A._result;ee=ee(),ee.then(function(fe){(A._status===0||A._status===-1)&&(A._status=1,A._result=fe)},function(fe){(A._status===0||A._status===-1)&&(A._status=2,A._result=fe)}),A._status===-1&&(A._status=0,A._result=ee)}if(A._status===1)return A._result.default;throw A._result}var z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function le(){}return ze.Children={map:U,forEach:function(A,ee,fe){U(A,function(){ee.apply(this,arguments)},fe)},count:function(A){var ee=0;return U(A,function(){ee++}),ee},toArray:function(A){return U(A,function(ee){return ee})||[]},only:function(A){if(!H(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ze.Component=E,ze.Fragment=n,ze.Profiler=s,ze.PureComponent=T,ze.StrictMode=r,ze.Suspense=u,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ze.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},ze.cache=function(A){return function(){return A.apply(null,arguments)}},ze.cloneElement=function(A,ee,fe){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var O=_({},A.props),me=A.key,Ce=void 0;if(ee!=null)for(ye in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!P.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(O[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)O.children=fe;else if(1<ye){for(var ve=Array(ye),Ne=0;Ne<ye;Ne++)ve[Ne]=arguments[Ne+2];O.children=ve}return j(A.type,me,void 0,void 0,Ce,O)},ze.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:i,_context:A},A},ze.createElement=function(A,ee,fe){var O,me={},Ce=null;if(ee!=null)for(O in ee.key!==void 0&&(Ce=""+ee.key),ee)P.call(ee,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(me[O]=ee[O]);var ye=arguments.length-2;if(ye===1)me.children=fe;else if(1<ye){for(var ve=Array(ye),Ne=0;Ne<ye;Ne++)ve[Ne]=arguments[Ne+2];me.children=ve}if(A&&A.defaultProps)for(O in ye=A.defaultProps,ye)me[O]===void 0&&(me[O]=ye[O]);return j(A,Ce,void 0,void 0,null,me)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(A){return{$$typeof:c,render:A}},ze.isValidElement=H,ze.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:X}},ze.memo=function(A,ee){return{$$typeof:d,type:A,compare:ee===void 0?null:ee}},ze.startTransition=function(A){var ee=I.T,fe={};I.T=fe;try{var O=A(),me=I.S;me!==null&&me(fe,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(le,z)}catch(Ce){z(Ce)}finally{I.T=ee}},ze.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ze.use=function(A){return I.H.use(A)},ze.useActionState=function(A,ee,fe){return I.H.useActionState(A,ee,fe)},ze.useCallback=function(A,ee){return I.H.useCallback(A,ee)},ze.useContext=function(A){return I.H.useContext(A)},ze.useDebugValue=function(){},ze.useDeferredValue=function(A,ee){return I.H.useDeferredValue(A,ee)},ze.useEffect=function(A,ee,fe){var O=I.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return O.useEffect(A,ee)},ze.useId=function(){return I.H.useId()},ze.useImperativeHandle=function(A,ee,fe){return I.H.useImperativeHandle(A,ee,fe)},ze.useInsertionEffect=function(A,ee){return I.H.useInsertionEffect(A,ee)},ze.useLayoutEffect=function(A,ee){return I.H.useLayoutEffect(A,ee)},ze.useMemo=function(A,ee){return I.H.useMemo(A,ee)},ze.useOptimistic=function(A,ee){return I.H.useOptimistic(A,ee)},ze.useReducer=function(A,ee,fe){return I.H.useReducer(A,ee,fe)},ze.useRef=function(A){return I.H.useRef(A)},ze.useState=function(A){return I.H.useState(A)},ze.useSyncExternalStore=function(A,ee,fe){return I.H.useSyncExternalStore(A,ee,fe)},ze.useTransition=function(){return I.H.useTransition()},ze.version="19.1.1",ze}var bT;function vx(){return bT||(bT=1,Fb.exports=YB()),Fb.exports}var C=vx();const Ee=Pa(C),FO=GB({__proto__:null,default:Ee},[C]);var zb={exports:{}},Fu={},Hb={exports:{}},qb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function XB(){return vT||(vT=1,(function(t){function e(U,X){var z=U.length;U.push(X);e:for(;0<z;){var le=z-1>>>1,A=U[le];if(0<s(A,X))U[le]=X,U[z]=A,z=le;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var X=U[0],z=U.pop();if(z!==X){U[0]=z;e:for(var le=0,A=U.length,ee=A>>>1;le<ee;){var fe=2*(le+1)-1,O=U[fe],me=fe+1,Ce=U[me];if(0>s(O,z))me<A&&0>s(Ce,O)?(U[le]=Ce,U[me]=z,le=me):(U[le]=O,U[fe]=z,le=fe);else if(me<A&&0>s(Ce,z))U[le]=Ce,U[me]=z,le=me;else break e}}return X}function s(U,X){var z=U.sortIndex-X.sortIndex;return z!==0?z:U.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],h=1,m=null,g=3,y=!1,_=!1,x=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function L(U){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=U)r(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function I(U){if(x=!1,L(U),!_)if(n(u)!==null)_=!0,P||(P=!0,ne());else{var X=n(d);X!==null&&ae(I,X.startTime-U)}}var P=!1,j=-1,$=5,H=-1;function B(){return E?!0:!(t.unstable_now()-H<$)}function Y(){if(E=!1,P){var U=t.unstable_now();H=U;var X=!0;try{e:{_=!1,x&&(x=!1,T(j),j=-1),y=!0;var z=g;try{t:{for(L(U),m=n(u);m!==null&&!(m.expirationTime>U&&B());){var le=m.callback;if(typeof le=="function"){m.callback=null,g=m.priorityLevel;var A=le(m.expirationTime<=U);if(U=t.unstable_now(),typeof A=="function"){m.callback=A,L(U),X=!0;break t}m===n(u)&&r(u),L(U)}else r(u);m=n(u)}if(m!==null)X=!0;else{var ee=n(d);ee!==null&&ae(I,ee.startTime-U),X=!1}}break e}finally{m=null,g=z,y=!1}X=void 0}}finally{X?ne():P=!1}}}var ne;if(typeof k=="function")ne=function(){k(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Z=re.port2;re.port1.onmessage=Y,ne=function(){Z.postMessage(null)}}else ne=function(){S(Y,0)};function ae(U,X){j=S(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var z=g;g=X;try{return U()}finally{g=z}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=g;g=U;try{return X()}finally{g=z}},t.unstable_scheduleCallback=function(U,X,z){var le=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?le+z:le):z=le,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=z+A,U={id:h++,callback:X,priorityLevel:U,startTime:z,expirationTime:A,sortIndex:-1},z>le?(U.sortIndex=z,e(d,U),n(u)===null&&U===n(d)&&(x?(T(j),j=-1):x=!0,ae(I,z-le))):(U.sortIndex=A,e(u,U),_||y||(_=!0,P||(P=!0,ne()))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var X=g;return function(){var z=g;g=X;try{return U.apply(this,arguments)}finally{g=z}}}})(qb)),qb}var _T;function JB(){return _T||(_T=1,Hb.exports=XB()),Hb.exports}var Gb={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function ZB(){if(wT)return On;wT=1;var t=vx();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,On.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(u,d,null,h)},On.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},On.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},On.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},On.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},On.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},On.requestFormReset=function(u){r.d.r(u)},On.unstable_batchedUpdates=function(u,d){return u(d)},On.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},On.useFormStatus=function(){return a.H.useHostTransitionStatus()},On.version="19.1.1",On}var xT;function zO(){if(xT)return Gb.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=ZB(),Gb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function QB(){if(ST)return Fu;ST=1;var t=JB(),e=vx(),n=zO();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(i(o)!==o)throw Error(r(188))}function u(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,p=l;;){var b=f.return;if(b===null)break;var v=b.alternate;if(v===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===v.child){for(v=b.child;v;){if(v===f)return c(b),o;if(v===p)return c(b),l;v=v.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=v;else{for(var R=!1,M=b.child;M;){if(M===f){R=!0,f=b,p=v;break}if(M===p){R=!0,p=b,f=v;break}M=M.sibling}if(!R){for(M=v.child;M;){if(M===f){R=!0,f=v,p=b;break}if(M===p){R=!0,p=v,f=b;break}M=M.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function d(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=d(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var re=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===re?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case k:return(o.displayName||"Context")+".Provider";case T:return(o._context.displayName||"Context")+".Consumer";case L:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return l=o.displayName||null,l!==null?l:Z(o.type)||"Memo";case $:l=o._payload,o=o._init;try{return Z(o(l))}catch{}}return null}var ae=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},le=[],A=-1;function ee(o){return{current:o}}function fe(o){0>A||(o.current=le[A],le[A]=null,A--)}function O(o,l){A++,le[A]=o.current,o.current=l}var me=ee(null),Ce=ee(null),ye=ee(null),ve=ee(null);function Ne(o,l){switch(O(ye,l),O(Ce,o),O(me,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?zC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=zC(l),o=HC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}fe(me),O(me,o)}function mt(){fe(me),fe(Ce),fe(ye)}function Rt(o){o.memoizedState!==null&&O(ve,o);var l=me.current,f=HC(l,o.type);l!==f&&(O(Ce,o),O(me,f))}function kt(o){Ce.current===o&&(fe(me),fe(Ce)),ve.current===o&&(fe(ve),Nu._currentValue=z)}var xn=Object.prototype.hasOwnProperty,Sn=t.unstable_scheduleCallback,cr=t.unstable_cancelCallback,ti=t.unstable_shouldYield,ts=t.unstable_requestPaint,En=t.unstable_now,Nc=t.unstable_getCurrentPriorityLevel,$o=t.unstable_ImmediatePriority,Es=t.unstable_UserBlockingPriority,Cs=t.unstable_NormalPriority,ja=t.unstable_LowPriority,Vo=t.unstable_IdlePriority,Dr=t.log,Li=t.unstable_setDisableYieldValue,se=null,he=null;function Ae(o){if(typeof Dr=="function"&&Li(o),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(se,o)}catch{}}var Oe=Math.clz32?Math.clz32:ns,st=Math.log,Vn=Math.LN2;function ns(o){return o>>>=0,o===0?32:31-(st(o)/Vn|0)|0}var Cn=256,ur=4194304;function Un(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function jt(o,l,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,v=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var M=p&134217727;return M!==0?(p=M&~v,p!==0?b=Un(p):(R&=M,R!==0?b=Un(R):f||(f=M&~o,f!==0&&(b=Un(f))))):(M=p&~v,M!==0?b=Un(M):R!==0?b=Un(R):f||(f=p&~o,f!==0&&(b=Un(f)))),b===0?0:l!==0&&l!==b&&(l&v)===0&&(v=b&-b,f=l&-l,v>=f||v===32&&(f&4194048)!==0)?l:b}function Tn(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function fn(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(){var o=Cn;return Cn<<=1,(Cn&4194048)===0&&(Cn=256),o}function $a(){var o=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),o}function Uo(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function rs(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Uy(o,l,f,p,b,v){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var M=o.entanglements,V=o.expirationTimes,K=o.hiddenUpdates;for(f=R&~f;0<f;){var ie=31-Oe(f),ue=1<<ie;M[ie]=0,V[ie]=-1;var Q=K[ie];if(Q!==null)for(K[ie]=null,ie=0;ie<Q.length;ie++){var te=Q[ie];te!==null&&(te.lane&=-536870913)}f&=~ue}p!==0&&Zd(o,p,0),v!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=v&~(R&~l))}function Zd(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Oe(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|f&4194090}function Qd(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var p=31-Oe(f),b=1<<p;b&l|o[p]&l&&(o[p]|=l),f&=~b}}function jc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Bc(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $c(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:cT(o.type))}function eh(o,l){var f=X.p;try{return X.p=o,l()}finally{X.p=f}}var An=Math.random().toString(36).slice(2),nn="__reactFiber$"+An,Rn="__reactProps$"+An,Di="__reactContainer$"+An,Vc="__reactEvents$"+An,Fy="__reactListeners$"+An,ss="__reactHandles$"+An,th="__reactResources$"+An,Fo="__reactMarker$"+An;function Uc(o){delete o[nn],delete o[Rn],delete o[Vc],delete o[Fy],delete o[ss]}function Ni(o){var l=o[nn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Di]||f[nn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=KC(o);o!==null;){if(f=o[nn])return f;o=KC(o)}return l}o=f,f=o.parentNode}return null}function ji(o){if(o=o[nn]||o[Di]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Nr(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Bi(o){var l=o[th];return l||(l=o[th]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Bt(o){o[Fo]=!0}var nh=new Set,rh={};function ni(o,l){fr(o,l),fr(o+"Capture",l)}function fr(o,l){for(rh[o]=l,o=0;o<l.length;o++)nh.add(l[o])}var zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sh={},ih={};function Hy(o){return xn.call(ih,o)?!0:xn.call(sh,o)?!1:zy.test(o)?ih[o]=!0:(sh[o]=!0,!1)}function Va(o,l,f){if(Hy(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Ua(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function jr(o,l,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+p)}}var $i,oh;function Ts(o){if($i===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);$i=l&&l[1]||"",oh=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+o+oh}var Fc=!1;function zc(o,l){if(!o||Fc)return"";Fc=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var Q=te}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(te){Q=te}o.call(ue.prototype)}}else{try{throw Error()}catch(te){Q=te}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),R=v[0],M=v[1];if(R&&M){var V=R.split(`
`),K=M.split(`
`);for(b=p=0;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;for(;b<K.length&&!K[b].includes("DetermineComponentFrameRoot");)b++;if(p===V.length||b===K.length)for(p=V.length-1,b=K.length-1;1<=p&&0<=b&&V[p]!==K[b];)b--;for(;1<=p&&0<=b;p--,b--)if(V[p]!==K[b]){if(p!==1||b!==1)do if(p--,b--,0>b||V[p]!==K[b]){var ie=`
`+V[p].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=p&&0<=b);break}}}finally{Fc=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ts(f):""}function qy(o){switch(o.tag){case 26:case 27:case 5:return Ts(o.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return zc(o.type,!1);case 11:return zc(o.type.render,!1);case 1:return zc(o.type,!0);case 31:return Ts("Activity");default:return""}}function ah(o){try{var l="";do l+=qy(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Zn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function lh(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Hc(o){var l=lh(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,v=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(R){p=""+R,v.call(this,R)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fa(o){o._valueTracker||(o._valueTracker=Hc(o))}function ch(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return o&&(p=lh(o)?o.checked?"true":"false":o.value),o=p,o!==f?(l.setValue(o),!0):!1}function za(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Gy=/[\n"\\]/g;function Qn(o){return o.replace(Gy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qc(o,l,f,p,b,v,R,M){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Zn(l)):o.value!==""+Zn(l)&&(o.value=""+Zn(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?Ha(o,R,Zn(l)):f!=null?Ha(o,R,Zn(f)):p!=null&&o.removeAttribute("value"),b==null&&v!=null&&(o.defaultChecked=!!v),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.name=""+Zn(M):o.removeAttribute("name")}function uh(o,l,f,p,b,v,R,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(o.type=v),l!=null||f!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;f=f!=null?""+Zn(f):"",l=l!=null?""+Zn(l):f,M||l===o.value||(o.value=l),o.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=M?o.checked:!!p,o.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R)}function Ha(o,l,f){l==="number"&&za(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Vi(o,l,f,p){if(o=o.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=l.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+Zn(f),l=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function fh(o,l,f){if(l!=null&&(l=""+Zn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Zn(f):""}function zo(o,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(ae(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=Zn(l),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p)}function dr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(o,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,f):typeof f!="number"||f===0||dh.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function hh(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&f[b]!==p&&As(o,b,p)}else for(var v in l)l.hasOwnProperty(v)&&As(o,v,l[v])}function Gc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(o){return Ky.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Wc=null;function Ga(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var er=null,Ui=null;function Kc(o){var l=ji(o);if(l&&(o=l.stateNode)){var f=o[Rn]||null;e:switch(o=l.stateNode,l.type){case"input":if(qc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Qn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==o&&p.form===o.form){var b=p[Rn]||null;if(!b)throw Error(r(90));qc(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===o.form&&ch(p)}break e;case"textarea":fh(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Vi(o,!!f.multiple,l,!1)}}}var Yc=!1;function Wa(o,l,f){if(Yc)return o(l,f);Yc=!0;try{var p=o(l);return p}finally{if(Yc=!1,(er!==null||Ui!==null)&&(Yh(),er&&(l=er,o=Ui,Ui=er=null,Kc(l),o)))for(l=0;l<o.length;l++)Kc(o[l])}}function Fi(o,l){var f=o.stateNode;if(f===null)return null;var p=f[Rn]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(is)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Xc=!1}var Rs=null,Hi=null,Ka=null;function Ya(){if(Ka)return Ka;var o,l=Hi,f=l.length,p,b="value"in Rs?Rs.value:Rs.textContent,v=b.length;for(o=0;o<f&&l[o]===b[o];o++);var R=f-o;for(p=1;p<=R&&l[f-p]===b[v-p];p++);return Ka=b.slice(o,1<p?1-p:void 0)}function Xa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ja(){return!0}function D(){return!1}function W(o){function l(f,p,b,v,R){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(f=o[M],this[M]=f?f(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ja:D,this.isPropagationStopped=D,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),l}var oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Se=W(oe),Ct=h({},oe,{view:0,detail:0}),kn=W(Ct),hr,rn,qi,os=h({},Ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==qi&&(qi&&o.type==="mousemove"?(hr=o.screenX-qi.screenX,rn=o.screenY-qi.screenY):rn=hr=0,qi=o),hr)},movementY:function(o){return"movementY"in o?o.movementY:rn}}),Jc=W(os),ph=h({},os,{dataTransfer:0}),mh=W(ph),Zc=h({},Ct,{relatedTarget:0}),Gi=W(Zc),X6=h({},oe,{animationName:0,elapsedTime:0,pseudoElement:0}),J6=W(X6),Z6=h({},oe,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Q6=W(Z6),e8=h({},oe,{data:0}),X1=W(e8),t8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s8(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=r8[o])?!!l[o]:!1}function Yy(){return s8}var i8=h({},Ct,{key:function(o){if(o.key){var l=t8[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Xa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?n8[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(o){return o.type==="keypress"?Xa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),o8=W(i8),a8=h({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=W(a8),l8=h({},Ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),c8=W(l8),u8=h({},oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),f8=W(u8),d8=h({},os,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),h8=W(d8),p8=h({},oe,{newState:0,oldState:0}),m8=W(p8),g8=[9,13,27,32],Xy=is&&"CompositionEvent"in window,Qc=null;is&&"documentMode"in document&&(Qc=document.documentMode);var y8=is&&"TextEvent"in window&&!Qc,Z1=is&&(!Xy||Qc&&8<Qc&&11>=Qc),Q1=" ",eS=!1;function tS(o,l){switch(o){case"keyup":return g8.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Za=!1;function b8(o,l){switch(o){case"compositionend":return nS(l);case"keypress":return l.which!==32?null:(eS=!0,Q1);case"textInput":return o=l.data,o===Q1&&eS?null:o;default:return null}}function v8(o,l){if(Za)return o==="compositionend"||!Xy&&tS(o,l)?(o=Ya(),Ka=Hi=Rs=null,Za=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Z1&&l.locale!=="ko"?null:l.data;default:return null}}var _8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!_8[o.type]:l==="textarea"}function sS(o,l,f,p){er?Ui?Ui.push(p):Ui=[p]:er=p,l=tp(l,"onChange"),0<l.length&&(f=new Se("onChange","change",null,f,p),o.push({event:f,listeners:l}))}var eu=null,tu=null;function w8(o){BC(o,0)}function gh(o){var l=Nr(o);if(ch(l))return o}function iS(o,l){if(o==="change")return l}var oS=!1;if(is){var Jy;if(is){var Zy="oninput"in document;if(!Zy){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),Zy=typeof aS.oninput=="function"}Jy=Zy}else Jy=!1;oS=Jy&&(!document.documentMode||9<document.documentMode)}function lS(){eu&&(eu.detachEvent("onpropertychange",cS),tu=eu=null)}function cS(o){if(o.propertyName==="value"&&gh(tu)){var l=[];sS(l,tu,o,Ga(o)),Wa(w8,l)}}function x8(o,l,f){o==="focusin"?(lS(),eu=l,tu=f,eu.attachEvent("onpropertychange",cS)):o==="focusout"&&lS()}function S8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gh(tu)}function E8(o,l){if(o==="click")return gh(l)}function C8(o,l){if(o==="input"||o==="change")return gh(l)}function T8(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var pr=typeof Object.is=="function"?Object.is:T8;function nu(o,l){if(pr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!xn.call(l,b)||!pr(o[b],l[b]))return!1}return!0}function uS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function fS(o,l){var f=uS(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=l&&p>=l)return{node:f,offset:l-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=uS(f)}}function dS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?dS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function hS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=za(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=za(o.document)}return l}function Qy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var A8=is&&"documentMode"in document&&11>=document.documentMode,Qa=null,e0=null,ru=null,t0=!1;function pS(o,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;t0||Qa==null||Qa!==za(p)||(p=Qa,"selectionStart"in p&&Qy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ru&&nu(ru,p)||(ru=p,p=tp(e0,"onSelect"),0<p.length&&(l=new Se("onSelect","select",null,l,f),o.push({event:l,listeners:p}),l.target=Qa)))}function Ho(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var el={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},n0={},mS={};is&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function qo(o){if(n0[o])return n0[o];if(!el[o])return o;var l=el[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in mS)return n0[o]=l[f];return o}var gS=qo("animationend"),yS=qo("animationiteration"),bS=qo("animationstart"),R8=qo("transitionrun"),k8=qo("transitionstart"),M8=qo("transitioncancel"),vS=qo("transitionend"),_S=new Map,r0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");r0.push("scrollEnd");function as(o,l){_S.set(o,l),ni(l,[o])}var wS=new WeakMap;function Br(o,l){if(typeof o=="object"&&o!==null){var f=wS.get(o);return f!==void 0?f:(l={value:o,source:l,stack:ah(l)},wS.set(o,l),l)}return{value:o,source:l,stack:ah(l)}}var $r=[],tl=0,s0=0;function yh(){for(var o=tl,l=s0=tl=0;l<o;){var f=$r[l];$r[l++]=null;var p=$r[l];$r[l++]=null;var b=$r[l];$r[l++]=null;var v=$r[l];if($r[l++]=null,p!==null&&b!==null){var R=p.pending;R===null?b.next=b:(b.next=R.next,R.next=b),p.pending=b}v!==0&&xS(f,b,v)}}function bh(o,l,f,p){$r[tl++]=o,$r[tl++]=l,$r[tl++]=f,$r[tl++]=p,s0|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function i0(o,l,f,p){return bh(o,l,f,p),vh(o)}function nl(o,l){return bh(o,null,null,l),vh(o)}function xS(o,l,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,v=o.return;v!==null;)v.childLanes|=f,p=v.alternate,p!==null&&(p.childLanes|=f),v.tag===22&&(o=v.stateNode,o===null||o._visibility&1||(b=!0)),o=v,v=v.return;return o.tag===3?(v=o.stateNode,b&&l!==null&&(b=31-Oe(f),o=v.hiddenUpdates,p=o[b],p===null?o[b]=[l]:p.push(l),l.lane=f|536870912),v):null}function vh(o){if(50<Ru)throw Ru=0,fb=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var rl={};function O8(o,l,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(o,l,f,p){return new O8(o,l,f,p)}function o0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ri(o,l){var f=o.alternate;return f===null?(f=mr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function SS(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function _h(o,l,f,p,b,v){var R=0;if(p=o,typeof o=="function")o0(o)&&(R=1);else if(typeof o=="string")R=IB(o,f,me.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=mr(31,f,l,b),o.elementType=H,o.lanes=v,o;case _:return Go(f.children,b,v,l);case x:R=8,b|=24;break;case E:return o=mr(12,f,l,b|2),o.elementType=E,o.lanes=v,o;case I:return o=mr(13,f,l,b),o.elementType=I,o.lanes=v,o;case P:return o=mr(19,f,l,b),o.elementType=P,o.lanes=v,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case k:R=10;break e;case T:R=9;break e;case L:R=11;break e;case j:R=14;break e;case $:R=16,p=null;break e}R=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=mr(R,f,l,b),l.elementType=o,l.type=p,l.lanes=v,l}function Go(o,l,f,p){return o=mr(7,o,p,l),o.lanes=f,o}function a0(o,l,f){return o=mr(6,o,null,l),o.lanes=f,o}function l0(o,l,f){return l=mr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var sl=[],il=0,wh=null,xh=0,Vr=[],Ur=0,Wo=null,si=1,ii="";function Ko(o,l){sl[il++]=xh,sl[il++]=wh,wh=o,xh=l}function ES(o,l,f){Vr[Ur++]=si,Vr[Ur++]=ii,Vr[Ur++]=Wo,Wo=o;var p=si;o=ii;var b=32-Oe(p)-1;p&=~(1<<b),f+=1;var v=32-Oe(l)+b;if(30<v){var R=b-b%5;v=(p&(1<<R)-1).toString(32),p>>=R,b-=R,si=1<<32-Oe(l)+b|f<<b|p,ii=v+o}else si=1<<v|f<<b|p,ii=o}function c0(o){o.return!==null&&(Ko(o,1),ES(o,1,0))}function u0(o){for(;o===wh;)wh=sl[--il],sl[il]=null,xh=sl[--il],sl[il]=null;for(;o===Wo;)Wo=Vr[--Ur],Vr[Ur]=null,ii=Vr[--Ur],Vr[Ur]=null,si=Vr[--Ur],Vr[Ur]=null}var Fn=null,Mt=null,it=!1,Yo=null,ks=!1,f0=Error(r(519));function Xo(o){var l=Error(r(418,""));throw ou(Br(l,o)),f0}function CS(o){var l=o.stateNode,f=o.type,p=o.memoizedProps;switch(l[nn]=o,l[Rn]=p,f){case"dialog":Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":case"embed":Ze("load",l);break;case"video":case"audio":for(f=0;f<Mu.length;f++)Ze(Mu[f],l);break;case"source":Ze("error",l);break;case"img":case"image":case"link":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"input":Ze("invalid",l),uh(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Fa(l);break;case"select":Ze("invalid",l);break;case"textarea":Ze("invalid",l),zo(l,p.value,p.defaultValue,p.children),Fa(l)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||FC(l.textContent,f)?(p.popover!=null&&(Ze("beforetoggle",l),Ze("toggle",l)),p.onScroll!=null&&Ze("scroll",l),p.onScrollEnd!=null&&Ze("scrollend",l),p.onClick!=null&&(l.onclick=np),l=!0):l=!1,l||Xo(o)}function TS(o){for(Fn=o.return;Fn;)switch(Fn.tag){case 5:case 13:ks=!1;return;case 27:case 3:ks=!0;return;default:Fn=Fn.return}}function su(o){if(o!==Fn)return!1;if(!it)return TS(o),it=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Ab(o.type,o.memoizedProps)),f=!f),f&&Mt&&Xo(o),TS(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Mt=cs(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Mt=null}}else l===27?(l=Mt,lo(o.type)?(o=Ob,Ob=null,Mt=o):Mt=l):Mt=Fn?cs(o.stateNode.nextSibling):null;return!0}function iu(){Mt=Fn=null,it=!1}function AS(){var o=Yo;return o!==null&&(rr===null?rr=o:rr.push.apply(rr,o),Yo=null),o}function ou(o){Yo===null?Yo=[o]:Yo.push(o)}var d0=ee(null),Jo=null,oi=null;function Wi(o,l,f){O(d0,l._currentValue),l._currentValue=f}function ai(o){o._currentValue=d0.current,fe(d0)}function h0(o,l,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===f)break;o=o.return}}function p0(o,l,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var v=b.dependencies;if(v!==null){var R=b.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=b;for(var V=0;V<l.length;V++)if(M.context===l[V]){v.lanes|=f,M=v.alternate,M!==null&&(M.lanes|=f),h0(v.return,f,o),p||(R=null);break e}v=M.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=f,v=R.alternate,v!==null&&(v.lanes|=f),h0(R,f,o),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===o){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function au(o,l,f,p){o=null;for(var b=l,v=!1;b!==null;){if(!v){if((b.flags&524288)!==0)v=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var M=b.type;pr(b.pendingProps.value,R.value)||(o!==null?o.push(M):o=[M])}}else if(b===ve.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Nu):o=[Nu])}b=b.return}o!==null&&p0(l,o,f,p),l.flags|=262144}function Sh(o){for(o=o.firstContext;o!==null;){if(!pr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zo(o){Jo=o,oi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Mn(o){return RS(Jo,o)}function Eh(o,l){return Jo===null&&Zo(o),RS(o,l)}function RS(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},oi===null){if(o===null)throw Error(r(308));oi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else oi=oi.next=l;return f}var P8=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},I8=t.unstable_scheduleCallback,L8=t.unstable_NormalPriority,Wt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m0(){return{controller:new P8,data:new Map,refCount:0}}function lu(o){o.refCount--,o.refCount===0&&I8(L8,function(){o.controller.abort()})}var cu=null,g0=0,ol=0,al=null;function D8(o,l){if(cu===null){var f=cu=[];g0=0,ol=bb(),al={status:"pending",value:void 0,then:function(p){f.push(p)}}}return g0++,l.then(kS,kS),l}function kS(){if(--g0===0&&cu!==null){al!==null&&(al.status="fulfilled");var o=cu;cu=null,ol=0,al=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function N8(o,l){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<f.length;b++)(0,f[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var MS=U.S;U.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&D8(o,l),MS!==null&&MS(o,l)};var Qo=ee(null);function y0(){var o=Qo.current;return o!==null?o:gt.pooledCache}function Ch(o,l){l===null?O(Qo,Qo.current):O(Qo,l.pool)}function OS(){var o=y0();return o===null?null:{parent:Wt._currentValue,pool:o}}var uu=Error(r(460)),PS=Error(r(474)),Th=Error(r(542)),b0={then:function(){}};function IS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ah(){}function LS(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Ah,Ah),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,NS(o),o;default:if(typeof l.status=="string")l.then(Ah,Ah);else{if(o=gt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,NS(o),o}throw fu=l,uu}}var fu=null;function DS(){if(fu===null)throw Error(r(459));var o=fu;return fu=null,o}function NS(o){if(o===uu||o===Th)throw Error(r(483))}var Ki=!1;function v0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Yi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Xi(o,l,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(ot&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=vh(o),xS(o,null,f),l}return bh(o,p,l,f),vh(o)}function du(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,Qd(o,f)}}function w0(o,l){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,v=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};v===null?b=v=R:v=v.next=R,f=f.next}while(f!==null);v===null?b=v=l:v=v.next=l}else b=v=l;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var x0=!1;function hu(){if(x0){var o=al;if(o!==null)throw o}}function pu(o,l,f,p){x0=!1;var b=o.updateQueue;Ki=!1;var v=b.firstBaseUpdate,R=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var V=M,K=V.next;V.next=null,R===null?v=K:R.next=K,R=V;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,M=ie.lastBaseUpdate,M!==R&&(M===null?ie.firstBaseUpdate=K:M.next=K,ie.lastBaseUpdate=V))}if(v!==null){var ue=b.baseState;R=0,ie=K=V=null,M=v;do{var Q=M.lane&-536870913,te=Q!==M.lane;if(te?(et&Q)===Q:(p&Q)===Q){Q!==0&&Q===ol&&(x0=!0),ie!==null&&(ie=ie.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var je=o,Ie=M;Q=l;var ut=f;switch(Ie.tag){case 1:if(je=Ie.payload,typeof je=="function"){ue=je.call(ut,ue,Q);break e}ue=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ie.payload,Q=typeof je=="function"?je.call(ut,ue,Q):je,Q==null)break e;ue=h({},ue,Q);break e;case 2:Ki=!0}}Q=M.callback,Q!==null&&(o.flags|=64,te&&(o.flags|=8192),te=b.callbacks,te===null?b.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ie===null?(K=ie=te,V=ue):ie=ie.next=te,R|=Q;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;te=M,M=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);ie===null&&(V=ue),b.baseState=V,b.firstBaseUpdate=K,b.lastBaseUpdate=ie,v===null&&(b.shared.lanes=0),so|=R,o.lanes=R,o.memoizedState=ue}}function jS(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function BS(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)jS(f[o],l)}var ll=ee(null),Rh=ee(0);function $S(o,l){o=pi,O(Rh,o),O(ll,l),pi=o|l.baseLanes}function S0(){O(Rh,pi),O(ll,ll.current)}function E0(){pi=Rh.current,fe(ll),fe(Rh)}var Ji=0,Ge=null,lt=null,$t=null,kh=!1,cl=!1,ea=!1,Mh=0,mu=0,ul=null,j8=0;function It(){throw Error(r(321))}function C0(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!pr(o[f],l[f]))return!1;return!0}function T0(o,l,f,p,b,v){return Ji=v,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=o===null||o.memoizedState===null?xE:SE,ea=!1,v=f(p,b),ea=!1,cl&&(v=US(l,f,p,b)),VS(o),v}function VS(o){U.H=Nh;var l=lt!==null&&lt.next!==null;if(Ji=0,$t=lt=Ge=null,kh=!1,mu=0,ul=null,l)throw Error(r(300));o===null||sn||(o=o.dependencies,o!==null&&Sh(o)&&(sn=!0))}function US(o,l,f,p){Ge=o;var b=0;do{if(cl&&(ul=null),mu=0,cl=!1,25<=b)throw Error(r(301));if(b+=1,$t=lt=null,o.updateQueue!=null){var v=o.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=H8,v=l(f,p)}while(cl);return v}function B8(){var o=U.H,l=o.useState()[0];return l=typeof l.then=="function"?gu(l):l,o=o.useState()[0],(lt!==null?lt.memoizedState:null)!==o&&(Ge.flags|=1024),l}function A0(){var o=Mh!==0;return Mh=0,o}function R0(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function k0(o){if(kh){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}kh=!1}Ji=0,$t=lt=Ge=null,cl=!1,mu=Mh=0,ul=null}function tr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ge.memoizedState=$t=o:$t=$t.next=o,$t}function Vt(){if(lt===null){var o=Ge.alternate;o=o!==null?o.memoizedState:null}else o=lt.next;var l=$t===null?Ge.memoizedState:$t.next;if(l!==null)$t=l,lt=o;else{if(o===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));lt=o,o={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},$t===null?Ge.memoizedState=$t=o:$t=$t.next=o}return $t}function M0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(o){var l=mu;return mu+=1,ul===null&&(ul=[]),o=LS(ul,o,l),l=Ge,($t===null?l.memoizedState:$t.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?xE:SE),o}function Oh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return gu(o);if(o.$$typeof===k)return Mn(o)}throw Error(r(438,String(o)))}function O0(o){var l=null,f=Ge.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=Ge.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=M0(),Ge.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),p=0;p<o;p++)f[p]=B;return l.index++,f}function li(o,l){return typeof l=="function"?l(o):l}function Ph(o){var l=Vt();return P0(l,lt,o)}function P0(o,l,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,v=p.pending;if(v!==null){if(b!==null){var R=b.next;b.next=v.next,v.next=R}l.baseQueue=b=v,p.pending=null}if(v=o.baseState,b===null)o.memoizedState=v;else{l=b.next;var M=R=null,V=null,K=l,ie=!1;do{var ue=K.lane&-536870913;if(ue!==K.lane?(et&ue)===ue:(Ji&ue)===ue){var Q=K.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ue===ol&&(ie=!0);else if((Ji&Q)===Q){K=K.next,Q===ol&&(ie=!0);continue}else ue={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(M=V=ue,R=v):V=V.next=ue,Ge.lanes|=Q,so|=Q;ue=K.action,ea&&f(v,ue),v=K.hasEagerState?K.eagerState:f(v,ue)}else Q={lane:ue,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(M=V=Q,R=v):V=V.next=Q,Ge.lanes|=ue,so|=ue;K=K.next}while(K!==null&&K!==l);if(V===null?R=v:V.next=M,!pr(v,o.memoizedState)&&(sn=!0,ie&&(f=al,f!==null)))throw f;o.memoizedState=v,o.baseState=R,o.baseQueue=V,p.lastRenderedState=v}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function I0(o){var l=Vt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,v=l.memoizedState;if(b!==null){f.pending=null;var R=b=b.next;do v=o(v,R.action),R=R.next;while(R!==b);pr(v,l.memoizedState)||(sn=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),f.lastRenderedState=v}return[v,p]}function FS(o,l,f){var p=Ge,b=Vt(),v=it;if(v){if(f===void 0)throw Error(r(407));f=f()}else f=l();var R=!pr((lt||b).memoizedState,f);R&&(b.memoizedState=f,sn=!0),b=b.queue;var M=qS.bind(null,p,b,o);if(yu(2048,8,M,[o]),b.getSnapshot!==l||R||$t!==null&&$t.memoizedState.tag&1){if(p.flags|=2048,fl(9,Ih(),HS.bind(null,p,b,f,l),null),gt===null)throw Error(r(349));v||(Ji&124)!==0||zS(p,l,f)}return f}function zS(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Ge.updateQueue,l===null?(l=M0(),Ge.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function HS(o,l,f,p){l.value=f,l.getSnapshot=p,GS(l)&&WS(o)}function qS(o,l,f){return f(function(){GS(l)&&WS(o)})}function GS(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!pr(o,f)}catch{return!0}}function WS(o){var l=nl(o,2);l!==null&&_r(l,o,2)}function L0(o){var l=tr();if(typeof o=="function"){var f=o;if(o=f(),ea){Ae(!0);try{f()}finally{Ae(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:o},l}function KS(o,l,f,p){return o.baseState=f,P0(o,lt,typeof p=="function"?p:li)}function $8(o,l,f,p,b){if(Dh(o))throw Error(r(485));if(o=l.action,o!==null){var v={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};U.T!==null?f(!0):v.isTransition=!1,p(v),f=l.pending,f===null?(v.next=l.pending=v,YS(l,v)):(v.next=f.next,l.pending=f.next=v)}}function YS(o,l){var f=l.action,p=l.payload,b=o.state;if(l.isTransition){var v=U.T,R={};U.T=R;try{var M=f(b,p),V=U.S;V!==null&&V(R,M),XS(o,l,M)}catch(K){D0(o,l,K)}finally{U.T=v}}else try{v=f(b,p),XS(o,l,v)}catch(K){D0(o,l,K)}}function XS(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){JS(o,l,p)},function(p){return D0(o,l,p)}):JS(o,l,f)}function JS(o,l,f){l.status="fulfilled",l.value=f,ZS(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,YS(o,f)))}function D0(o,l,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,ZS(l),l=l.next;while(l!==p)}o.action=null}function ZS(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function QS(o,l){return l}function eE(o,l){if(it){var f=gt.formState;if(f!==null){e:{var p=Ge;if(it){if(Mt){t:{for(var b=Mt,v=ks;b.nodeType!==8;){if(!v){b=null;break t}if(b=cs(b.nextSibling),b===null){b=null;break t}}v=b.data,b=v==="F!"||v==="F"?b:null}if(b){Mt=cs(b.nextSibling),p=b.data==="F!";break e}}Xo(p)}p=!1}p&&(l=f[0])}}return f=tr(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QS,lastRenderedState:l},f.queue=p,f=vE.bind(null,Ge,p),p.dispatch=f,p=L0(!1),v=V0.bind(null,Ge,!1,p.queue),p=tr(),b={state:l,dispatch:null,action:o,pending:null},p.queue=b,f=$8.bind(null,Ge,b,v,f),b.dispatch=f,p.memoizedState=o,[l,f,!1]}function tE(o){var l=Vt();return nE(l,lt,o)}function nE(o,l,f){if(l=P0(o,l,QS)[0],o=Ph(li)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=gu(l)}catch(R){throw R===uu?Th:R}else p=l;l=Vt();var b=l.queue,v=b.dispatch;return f!==l.memoizedState&&(Ge.flags|=2048,fl(9,Ih(),V8.bind(null,b,f),null)),[p,v,o]}function V8(o,l){o.action=l}function rE(o){var l=Vt(),f=lt;if(f!==null)return nE(l,f,o);Vt(),l=l.memoizedState,f=Vt();var p=f.queue.dispatch;return f.memoizedState=o,[l,p,!1]}function fl(o,l,f,p){return o={tag:o,create:f,deps:p,inst:l,next:null},l=Ge.updateQueue,l===null&&(l=M0(),Ge.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,l.lastEffect=o),o}function Ih(){return{destroy:void 0,resource:void 0}}function sE(){return Vt().memoizedState}function Lh(o,l,f,p){var b=tr();p=p===void 0?null:p,Ge.flags|=o,b.memoizedState=fl(1|l,Ih(),f,p)}function yu(o,l,f,p){var b=Vt();p=p===void 0?null:p;var v=b.memoizedState.inst;lt!==null&&p!==null&&C0(p,lt.memoizedState.deps)?b.memoizedState=fl(l,v,f,p):(Ge.flags|=o,b.memoizedState=fl(1|l,v,f,p))}function iE(o,l){Lh(8390656,8,o,l)}function oE(o,l){yu(2048,8,o,l)}function aE(o,l){return yu(4,2,o,l)}function lE(o,l){return yu(4,4,o,l)}function cE(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function uE(o,l,f){f=f!=null?f.concat([o]):null,yu(4,4,cE.bind(null,l,o),f)}function N0(){}function fE(o,l){var f=Vt();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&C0(l,p[1])?p[0]:(f.memoizedState=[o,l],o)}function dE(o,l){var f=Vt();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&C0(l,p[1]))return p[0];if(p=o(),ea){Ae(!0);try{o()}finally{Ae(!1)}}return f.memoizedState=[p,l],p}function j0(o,l,f){return f===void 0||(Ji&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=mC(),Ge.lanes|=o,so|=o,f)}function hE(o,l,f,p){return pr(f,l)?f:ll.current!==null?(o=j0(o,f,p),pr(o,l)||(sn=!0),o):(Ji&42)===0?(sn=!0,o.memoizedState=f):(o=mC(),Ge.lanes|=o,so|=o,l)}function pE(o,l,f,p,b){var v=X.p;X.p=v!==0&&8>v?v:8;var R=U.T,M={};U.T=M,V0(o,!1,l,f);try{var V=b(),K=U.S;if(K!==null&&K(M,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=N8(V,p);bu(o,l,ie,vr(o))}else bu(o,l,p,vr(o))}catch(ue){bu(o,l,{then:function(){},status:"rejected",reason:ue},vr())}finally{X.p=v,U.T=R}}function U8(){}function B0(o,l,f,p){if(o.tag!==5)throw Error(r(476));var b=mE(o).queue;pE(o,b,l,z,f===null?U8:function(){return gE(o),f(p)})}function mE(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:z},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function gE(o){var l=mE(o).next.queue;bu(o,l,{},vr())}function $0(){return Mn(Nu)}function yE(){return Vt().memoizedState}function bE(){return Vt().memoizedState}function F8(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=vr();o=Yi(f);var p=Xi(l,o,f);p!==null&&(_r(p,l,f),du(p,l,f)),l={cache:m0()},o.payload=l;return}l=l.return}}function z8(o,l,f){var p=vr();f={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Dh(o)?_E(l,f):(f=i0(o,l,f,p),f!==null&&(_r(f,o,p),wE(f,l,p)))}function vE(o,l,f){var p=vr();bu(o,l,f,p)}function bu(o,l,f,p){var b={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Dh(o))_E(l,b);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var R=l.lastRenderedState,M=v(R,f);if(b.hasEagerState=!0,b.eagerState=M,pr(M,R))return bh(o,l,b,0),gt===null&&yh(),!1}catch{}finally{}if(f=i0(o,l,b,p),f!==null)return _r(f,o,p),wE(f,l,p),!0}return!1}function V0(o,l,f,p){if(p={lane:2,revertLane:bb(),action:p,hasEagerState:!1,eagerState:null,next:null},Dh(o)){if(l)throw Error(r(479))}else l=i0(o,f,p,2),l!==null&&_r(l,o,2)}function Dh(o){var l=o.alternate;return o===Ge||l!==null&&l===Ge}function _E(o,l){cl=kh=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function wE(o,l,f){if((f&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,Qd(o,f)}}var Nh={readContext:Mn,use:Oh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},xE={readContext:Mn,use:Oh,useCallback:function(o,l){return tr().memoizedState=[o,l===void 0?null:l],o},useContext:Mn,useEffect:iE,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,Lh(4194308,4,cE.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Lh(4194308,4,o,l)},useInsertionEffect:function(o,l){Lh(4,2,o,l)},useMemo:function(o,l){var f=tr();l=l===void 0?null:l;var p=o();if(ea){Ae(!0);try{o()}finally{Ae(!1)}}return f.memoizedState=[p,l],p},useReducer:function(o,l,f){var p=tr();if(f!==void 0){var b=f(l);if(ea){Ae(!0);try{f(l)}finally{Ae(!1)}}}else b=l;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=z8.bind(null,Ge,o),[p.memoizedState,o]},useRef:function(o){var l=tr();return o={current:o},l.memoizedState=o},useState:function(o){o=L0(o);var l=o.queue,f=vE.bind(null,Ge,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:N0,useDeferredValue:function(o,l){var f=tr();return j0(f,o,l)},useTransition:function(){var o=L0(!1);return o=pE.bind(null,Ge,o.queue,!0,!1),tr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var p=Ge,b=tr();if(it){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),gt===null)throw Error(r(349));(et&124)!==0||zS(p,l,f)}b.memoizedState=f;var v={value:f,getSnapshot:l};return b.queue=v,iE(qS.bind(null,p,v,o),[o]),p.flags|=2048,fl(9,Ih(),HS.bind(null,p,v,f,l),null),f},useId:function(){var o=tr(),l=gt.identifierPrefix;if(it){var f=ii,p=si;f=(p&~(1<<32-Oe(p)-1)).toString(32)+f,l=""+l+"R"+f,f=Mh++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=j8++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:$0,useFormState:eE,useActionState:eE,useOptimistic:function(o){var l=tr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=V0.bind(null,Ge,!0,f),f.dispatch=l,[o,l]},useMemoCache:O0,useCacheRefresh:function(){return tr().memoizedState=F8.bind(null,Ge)}},SE={readContext:Mn,use:Oh,useCallback:fE,useContext:Mn,useEffect:oE,useImperativeHandle:uE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:dE,useReducer:Ph,useRef:sE,useState:function(){return Ph(li)},useDebugValue:N0,useDeferredValue:function(o,l){var f=Vt();return hE(f,lt.memoizedState,o,l)},useTransition:function(){var o=Ph(li)[0],l=Vt().memoizedState;return[typeof o=="boolean"?o:gu(o),l]},useSyncExternalStore:FS,useId:yE,useHostTransitionStatus:$0,useFormState:tE,useActionState:tE,useOptimistic:function(o,l){var f=Vt();return KS(f,lt,o,l)},useMemoCache:O0,useCacheRefresh:bE},H8={readContext:Mn,use:Oh,useCallback:fE,useContext:Mn,useEffect:oE,useImperativeHandle:uE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:dE,useReducer:I0,useRef:sE,useState:function(){return I0(li)},useDebugValue:N0,useDeferredValue:function(o,l){var f=Vt();return lt===null?j0(f,o,l):hE(f,lt.memoizedState,o,l)},useTransition:function(){var o=I0(li)[0],l=Vt().memoizedState;return[typeof o=="boolean"?o:gu(o),l]},useSyncExternalStore:FS,useId:yE,useHostTransitionStatus:$0,useFormState:rE,useActionState:rE,useOptimistic:function(o,l){var f=Vt();return lt!==null?KS(f,lt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:O0,useCacheRefresh:bE},dl=null,vu=0;function jh(o){var l=vu;return vu+=1,dl===null&&(dl=[]),LS(dl,o,l)}function _u(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Bh(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function EE(o){var l=o._init;return l(o._payload)}function CE(o){function l(q,F){if(o){var G=q.deletions;G===null?(q.deletions=[F],q.flags|=16):G.push(F)}}function f(q,F){if(!o)return null;for(;F!==null;)l(q,F),F=F.sibling;return null}function p(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function b(q,F){return q=ri(q,F),q.index=0,q.sibling=null,q}function v(q,F,G){return q.index=G,o?(G=q.alternate,G!==null?(G=G.index,G<F?(q.flags|=67108866,F):G):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function R(q){return o&&q.alternate===null&&(q.flags|=67108866),q}function M(q,F,G,ce){return F===null||F.tag!==6?(F=a0(G,q.mode,ce),F.return=q,F):(F=b(F,G),F.return=q,F)}function V(q,F,G,ce){var _e=G.type;return _e===_?ie(q,F,G.props.children,ce,G.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$&&EE(_e)===F.type)?(F=b(F,G.props),_u(F,G),F.return=q,F):(F=_h(G.type,G.key,G.props,null,q.mode,ce),_u(F,G),F.return=q,F)}function K(q,F,G,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=l0(G,q.mode,ce),F.return=q,F):(F=b(F,G.children||[]),F.return=q,F)}function ie(q,F,G,ce,_e){return F===null||F.tag!==7?(F=Go(G,q.mode,ce,_e),F.return=q,F):(F=b(F,G),F.return=q,F)}function ue(q,F,G){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=a0(""+F,q.mode,G),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case g:return G=_h(F.type,F.key,F.props,null,q.mode,G),_u(G,F),G.return=q,G;case y:return F=l0(F,q.mode,G),F.return=q,F;case $:var ce=F._init;return F=ce(F._payload),ue(q,F,G)}if(ae(F)||ne(F))return F=Go(F,q.mode,G,null),F.return=q,F;if(typeof F.then=="function")return ue(q,jh(F),G);if(F.$$typeof===k)return ue(q,Eh(q,F),G);Bh(q,F)}return null}function Q(q,F,G,ce){var _e=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:M(q,F,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return G.key===_e?V(q,F,G,ce):null;case y:return G.key===_e?K(q,F,G,ce):null;case $:return _e=G._init,G=_e(G._payload),Q(q,F,G,ce)}if(ae(G)||ne(G))return _e!==null?null:ie(q,F,G,ce,null);if(typeof G.then=="function")return Q(q,F,jh(G),ce);if(G.$$typeof===k)return Q(q,F,Eh(q,G),ce);Bh(q,G)}return null}function te(q,F,G,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return q=q.get(G)||null,M(F,q,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return q=q.get(ce.key===null?G:ce.key)||null,V(F,q,ce,_e);case y:return q=q.get(ce.key===null?G:ce.key)||null,K(F,q,ce,_e);case $:var Ye=ce._init;return ce=Ye(ce._payload),te(q,F,G,ce,_e)}if(ae(ce)||ne(ce))return q=q.get(G)||null,ie(F,q,ce,_e,null);if(typeof ce.then=="function")return te(q,F,G,jh(ce),_e);if(ce.$$typeof===k)return te(q,F,G,Eh(F,ce),_e);Bh(F,ce)}return null}function je(q,F,G,ce){for(var _e=null,Ye=null,Te=F,De=F=0,an=null;Te!==null&&De<G.length;De++){Te.index>De?(an=Te,Te=null):an=Te.sibling;var rt=Q(q,Te,G[De],ce);if(rt===null){Te===null&&(Te=an);break}o&&Te&&rt.alternate===null&&l(q,Te),F=v(rt,F,De),Ye===null?_e=rt:Ye.sibling=rt,Ye=rt,Te=an}if(De===G.length)return f(q,Te),it&&Ko(q,De),_e;if(Te===null){for(;De<G.length;De++)Te=ue(q,G[De],ce),Te!==null&&(F=v(Te,F,De),Ye===null?_e=Te:Ye.sibling=Te,Ye=Te);return it&&Ko(q,De),_e}for(Te=p(Te);De<G.length;De++)an=te(Te,q,De,G[De],ce),an!==null&&(o&&an.alternate!==null&&Te.delete(an.key===null?De:an.key),F=v(an,F,De),Ye===null?_e=an:Ye.sibling=an,Ye=an);return o&&Te.forEach(function(po){return l(q,po)}),it&&Ko(q,De),_e}function Ie(q,F,G,ce){if(G==null)throw Error(r(151));for(var _e=null,Ye=null,Te=F,De=F=0,an=null,rt=G.next();Te!==null&&!rt.done;De++,rt=G.next()){Te.index>De?(an=Te,Te=null):an=Te.sibling;var po=Q(q,Te,rt.value,ce);if(po===null){Te===null&&(Te=an);break}o&&Te&&po.alternate===null&&l(q,Te),F=v(po,F,De),Ye===null?_e=po:Ye.sibling=po,Ye=po,Te=an}if(rt.done)return f(q,Te),it&&Ko(q,De),_e;if(Te===null){for(;!rt.done;De++,rt=G.next())rt=ue(q,rt.value,ce),rt!==null&&(F=v(rt,F,De),Ye===null?_e=rt:Ye.sibling=rt,Ye=rt);return it&&Ko(q,De),_e}for(Te=p(Te);!rt.done;De++,rt=G.next())rt=te(Te,q,De,rt.value,ce),rt!==null&&(o&&rt.alternate!==null&&Te.delete(rt.key===null?De:rt.key),F=v(rt,F,De),Ye===null?_e=rt:Ye.sibling=rt,Ye=rt);return o&&Te.forEach(function(qB){return l(q,qB)}),it&&Ko(q,De),_e}function ut(q,F,G,ce){if(typeof G=="object"&&G!==null&&G.type===_&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case g:e:{for(var _e=G.key;F!==null;){if(F.key===_e){if(_e=G.type,_e===_){if(F.tag===7){f(q,F.sibling),ce=b(F,G.props.children),ce.return=q,q=ce;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$&&EE(_e)===F.type){f(q,F.sibling),ce=b(F,G.props),_u(ce,G),ce.return=q,q=ce;break e}f(q,F);break}else l(q,F);F=F.sibling}G.type===_?(ce=Go(G.props.children,q.mode,ce,G.key),ce.return=q,q=ce):(ce=_h(G.type,G.key,G.props,null,q.mode,ce),_u(ce,G),ce.return=q,q=ce)}return R(q);case y:e:{for(_e=G.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){f(q,F.sibling),ce=b(F,G.children||[]),ce.return=q,q=ce;break e}else{f(q,F);break}else l(q,F);F=F.sibling}ce=l0(G,q.mode,ce),ce.return=q,q=ce}return R(q);case $:return _e=G._init,G=_e(G._payload),ut(q,F,G,ce)}if(ae(G))return je(q,F,G,ce);if(ne(G)){if(_e=ne(G),typeof _e!="function")throw Error(r(150));return G=_e.call(G),Ie(q,F,G,ce)}if(typeof G.then=="function")return ut(q,F,jh(G),ce);if(G.$$typeof===k)return ut(q,F,Eh(q,G),ce);Bh(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,F!==null&&F.tag===6?(f(q,F.sibling),ce=b(F,G),ce.return=q,q=ce):(f(q,F),ce=a0(G,q.mode,ce),ce.return=q,q=ce),R(q)):f(q,F)}return function(q,F,G,ce){try{vu=0;var _e=ut(q,F,G,ce);return dl=null,_e}catch(Te){if(Te===uu||Te===Th)throw Te;var Ye=mr(29,Te,null,q.mode);return Ye.lanes=ce,Ye.return=q,Ye}finally{}}}var hl=CE(!0),TE=CE(!1),Fr=ee(null),Ms=null;function Zi(o){var l=o.alternate;O(Kt,Kt.current&1),O(Fr,o),Ms===null&&(l===null||ll.current!==null||l.memoizedState!==null)&&(Ms=o)}function AE(o){if(o.tag===22){if(O(Kt,Kt.current),O(Fr,o),Ms===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ms=o)}}else Qi()}function Qi(){O(Kt,Kt.current),O(Fr,Fr.current)}function ci(o){fe(Fr),Ms===o&&(Ms=null),fe(Kt)}var Kt=ee(0);function $h(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Mb(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function U0(o,l,f,p){l=o.memoizedState,f=f(p,l),f=f==null?l:h({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var F0={enqueueSetState:function(o,l,f){o=o._reactInternals;var p=vr(),b=Yi(p);b.payload=l,f!=null&&(b.callback=f),l=Xi(o,b,p),l!==null&&(_r(l,o,p),du(l,o,p))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var p=vr(),b=Yi(p);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=Xi(o,b,p),l!==null&&(_r(l,o,p),du(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=vr(),p=Yi(f);p.tag=2,l!=null&&(p.callback=l),l=Xi(o,p,f),l!==null&&(_r(l,o,f),du(l,o,f))}};function RE(o,l,f,p,b,v,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,v,R):l.prototype&&l.prototype.isPureReactComponent?!nu(f,p)||!nu(b,v):!0}function kE(o,l,f,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==o&&F0.enqueueReplaceState(l,l.state,null)}function ta(o,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(o=o.defaultProps){f===l&&(f=h({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}var Vh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function ME(o){Vh(o)}function OE(o){console.error(o)}function PE(o){Vh(o)}function Uh(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function IE(o,l,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function z0(o,l,f){return f=Yi(f),f.tag=3,f.payload={element:null},f.callback=function(){Uh(o,l)},f}function LE(o){return o=Yi(o),o.tag=3,o}function DE(o,l,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var v=p.value;o.payload=function(){return b(v)},o.callback=function(){IE(l,f,p)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){IE(l,f,p),typeof b!="function"&&(io===null?io=new Set([this]):io.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function q8(o,l,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&au(l,f,b,!0),f=Fr.current,f!==null){switch(f.tag){case 13:return Ms===null?hb():f.alternate===null&&Ot===0&&(Ot=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===b0?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),mb(o,p,b)),!1;case 22:return f.flags|=65536,p===b0?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),mb(o,p,b)),!1}throw Error(r(435,f.tag))}return mb(o,p,b),hb(),!1}if(it)return l=Fr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==f0&&(o=Error(r(422),{cause:p}),ou(Br(o,f)))):(p!==f0&&(l=Error(r(423),{cause:p}),ou(Br(l,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=Br(p,f),b=z0(o.stateNode,p,b),w0(o,b),Ot!==4&&(Ot=2)),!1;var v=Error(r(520),{cause:p});if(v=Br(v,f),Au===null?Au=[v]:Au.push(v),Ot!==4&&(Ot=2),l===null)return!0;p=Br(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=z0(f.stateNode,p,o),w0(f,o),!1;case 1:if(l=f.type,v=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(io===null||!io.has(v))))return f.flags|=65536,b&=-b,f.lanes|=b,b=LE(b),DE(b,o,f,p),w0(f,b),!1}f=f.return}while(f!==null);return!1}var NE=Error(r(461)),sn=!1;function dn(o,l,f,p){l.child=o===null?TE(l,null,f,p):hl(l,o.child,f,p)}function jE(o,l,f,p,b){f=f.render;var v=l.ref;if("ref"in p){var R={};for(var M in p)M!=="ref"&&(R[M]=p[M])}else R=p;return Zo(l),p=T0(o,l,f,R,v,b),M=A0(),o!==null&&!sn?(R0(o,l,b),ui(o,l,b)):(it&&M&&c0(l),l.flags|=1,dn(o,l,p,b),l.child)}function BE(o,l,f,p,b){if(o===null){var v=f.type;return typeof v=="function"&&!o0(v)&&v.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=v,$E(o,l,v,p,b)):(o=_h(f.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(v=o.child,!J0(o,b)){var R=v.memoizedProps;if(f=f.compare,f=f!==null?f:nu,f(R,p)&&o.ref===l.ref)return ui(o,l,b)}return l.flags|=1,o=ri(v,p),o.ref=l.ref,o.return=l,l.child=o}function $E(o,l,f,p,b){if(o!==null){var v=o.memoizedProps;if(nu(v,p)&&o.ref===l.ref)if(sn=!1,l.pendingProps=p=v,J0(o,b))(o.flags&131072)!==0&&(sn=!0);else return l.lanes=o.lanes,ui(o,l,b)}return H0(o,l,f,p,b)}function VE(o,l,f){var p=l.pendingProps,b=p.children,v=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=v!==null?v.baseLanes|f:f,o!==null){for(b=l.child=o.child,v=0;b!==null;)v=v|b.lanes|b.childLanes,b=b.sibling;l.childLanes=v&~p}else l.childLanes=0,l.child=null;return UE(o,l,p,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ch(l,v!==null?v.cachePool:null),v!==null?$S(l,v):S0(),AE(l);else return l.lanes=l.childLanes=536870912,UE(o,l,v!==null?v.baseLanes|f:f,f)}else v!==null?(Ch(l,v.cachePool),$S(l,v),Qi(),l.memoizedState=null):(o!==null&&Ch(l,null),S0(),Qi());return dn(o,l,b,f),l.child}function UE(o,l,f,p){var b=y0();return b=b===null?null:{parent:Wt._currentValue,pool:b},l.memoizedState={baseLanes:f,cachePool:b},o!==null&&Ch(l,null),S0(),AE(l),o!==null&&au(o,l,p,!0),null}function Fh(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function H0(o,l,f,p,b){return Zo(l),f=T0(o,l,f,p,void 0,b),p=A0(),o!==null&&!sn?(R0(o,l,b),ui(o,l,b)):(it&&p&&c0(l),l.flags|=1,dn(o,l,f,b),l.child)}function FE(o,l,f,p,b,v){return Zo(l),l.updateQueue=null,f=US(l,p,f,b),VS(o),p=A0(),o!==null&&!sn?(R0(o,l,v),ui(o,l,v)):(it&&p&&c0(l),l.flags|=1,dn(o,l,f,v),l.child)}function zE(o,l,f,p,b){if(Zo(l),l.stateNode===null){var v=rl,R=f.contextType;typeof R=="object"&&R!==null&&(v=Mn(R)),v=new f(p,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=F0,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=p,v.state=l.memoizedState,v.refs={},v0(l),R=f.contextType,v.context=typeof R=="object"&&R!==null?Mn(R):rl,v.state=l.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(U0(l,f,R,p),v.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&F0.enqueueReplaceState(v,v.state,null),pu(l,p,v,b),hu(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){v=l.stateNode;var M=l.memoizedProps,V=ta(f,M);v.props=V;var K=v.context,ie=f.contextType;R=rl,typeof ie=="object"&&ie!==null&&(R=Mn(ie));var ue=f.getDerivedStateFromProps;ie=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||K!==R)&&kE(l,v,p,R),Ki=!1;var Q=l.memoizedState;v.state=Q,pu(l,p,v,b),hu(),K=l.memoizedState,M||Q!==K||Ki?(typeof ue=="function"&&(U0(l,f,ue,p),K=l.memoizedState),(V=Ki||RE(l,f,V,p,Q,K,R))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=K),v.props=p,v.state=K,v.context=R,p=V):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{v=l.stateNode,_0(o,l),R=l.memoizedProps,ie=ta(f,R),v.props=ie,ue=l.pendingProps,Q=v.context,K=f.contextType,V=rl,typeof K=="object"&&K!==null&&(V=Mn(K)),M=f.getDerivedStateFromProps,(K=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==ue||Q!==V)&&kE(l,v,p,V),Ki=!1,Q=l.memoizedState,v.state=Q,pu(l,p,v,b),hu();var te=l.memoizedState;R!==ue||Q!==te||Ki||o!==null&&o.dependencies!==null&&Sh(o.dependencies)?(typeof M=="function"&&(U0(l,f,M,p),te=l.memoizedState),(ie=Ki||RE(l,f,ie,p,Q,te,V)||o!==null&&o.dependencies!==null&&Sh(o.dependencies))?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,te,V),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,te,V)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===o.memoizedProps&&Q===o.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&Q===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=te),v.props=p,v.state=te,v.context=V,p=ie):(typeof v.componentDidUpdate!="function"||R===o.memoizedProps&&Q===o.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&Q===o.memoizedState||(l.flags|=1024),p=!1)}return v=p,Fh(o,l),p=(l.flags&128)!==0,v||p?(v=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,o!==null&&p?(l.child=hl(l,o.child,null,b),l.child=hl(l,null,f,b)):dn(o,l,f,b),l.memoizedState=v.state,o=l.child):o=ui(o,l,b),o}function HE(o,l,f,p){return iu(),l.flags|=256,dn(o,l,f,p),l.child}var q0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G0(o){return{baseLanes:o,cachePool:OS()}}function W0(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=zr),o}function qE(o,l,f){var p=l.pendingProps,b=!1,v=(l.flags&128)!==0,R;if((R=v)||(R=o!==null&&o.memoizedState===null?!1:(Kt.current&2)!==0),R&&(b=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(it){if(b?Zi(l):Qi(),it){var M=Mt,V;if(V=M){e:{for(V=M,M=ks;V.nodeType!==8;){if(!M){M=null;break e}if(V=cs(V.nextSibling),V===null){M=null;break e}}M=V}M!==null?(l.memoizedState={dehydrated:M,treeContext:Wo!==null?{id:si,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},V=mr(18,null,null,0),V.stateNode=M,V.return=l,l.child=V,Fn=l,Mt=null,V=!0):V=!1}V||Xo(l)}if(M=l.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Mb(M)?l.lanes=32:l.lanes=536870912,null;ci(l)}return M=p.children,p=p.fallback,b?(Qi(),b=l.mode,M=zh({mode:"hidden",children:M},b),p=Go(p,b,f,null),M.return=l,p.return=l,M.sibling=p,l.child=M,b=l.child,b.memoizedState=G0(f),b.childLanes=W0(o,R,f),l.memoizedState=q0,p):(Zi(l),K0(l,M))}if(V=o.memoizedState,V!==null&&(M=V.dehydrated,M!==null)){if(v)l.flags&256?(Zi(l),l.flags&=-257,l=Y0(o,l,f)):l.memoizedState!==null?(Qi(),l.child=o.child,l.flags|=128,l=null):(Qi(),b=p.fallback,M=l.mode,p=zh({mode:"visible",children:p.children},M),b=Go(b,M,f,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,hl(l,o.child,null,f),p=l.child,p.memoizedState=G0(f),p.childLanes=W0(o,R,f),l.memoizedState=q0,l=b);else if(Zi(l),Mb(M)){if(R=M.nextSibling&&M.nextSibling.dataset,R)var K=R.dgst;R=K,p=Error(r(419)),p.stack="",p.digest=R,ou({value:p,source:null,stack:null}),l=Y0(o,l,f)}else if(sn||au(o,l,f,!1),R=(f&o.childLanes)!==0,sn||R){if(R=gt,R!==null&&(p=f&-f,p=(p&42)!==0?1:jc(p),p=(p&(R.suspendedLanes|f))!==0?0:p,p!==0&&p!==V.retryLane))throw V.retryLane=p,nl(o,p),_r(R,o,p),NE;M.data==="$?"||hb(),l=Y0(o,l,f)}else M.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=V.treeContext,Mt=cs(M.nextSibling),Fn=l,it=!0,Yo=null,ks=!1,o!==null&&(Vr[Ur++]=si,Vr[Ur++]=ii,Vr[Ur++]=Wo,si=o.id,ii=o.overflow,Wo=l),l=K0(l,p.children),l.flags|=4096);return l}return b?(Qi(),b=p.fallback,M=l.mode,V=o.child,K=V.sibling,p=ri(V,{mode:"hidden",children:p.children}),p.subtreeFlags=V.subtreeFlags&65011712,K!==null?b=ri(K,b):(b=Go(b,M,f,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,M=o.child.memoizedState,M===null?M=G0(f):(V=M.cachePool,V!==null?(K=Wt._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=OS(),M={baseLanes:M.baseLanes|f,cachePool:V}),b.memoizedState=M,b.childLanes=W0(o,R,f),l.memoizedState=q0,p):(Zi(l),f=o.child,o=f.sibling,f=ri(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=f,l.memoizedState=null,f)}function K0(o,l){return l=zh({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function zh(o,l){return o=mr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Y0(o,l,f){return hl(l,o.child,null,f),o=K0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function GE(o,l,f){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),h0(o.return,l,f)}function X0(o,l,f,p,b){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=f,v.tailMode=b)}function WE(o,l,f){var p=l.pendingProps,b=p.revealOrder,v=p.tail;if(dn(o,l,p.children,f),p=Kt.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&GE(o,f,l);else if(o.tag===19)GE(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(O(Kt,p),b){case"forwards":for(f=l.child,b=null;f!==null;)o=f.alternate,o!==null&&$h(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),X0(l,!1,b,f,v);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&$h(o)===null){l.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}X0(l,!0,f,null,v);break;case"together":X0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ui(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),so|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(au(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=ri(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=ri(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function J0(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Sh(o)))}function G8(o,l,f){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),Wi(l,Wt,o.memoizedState.cache),iu();break;case 27:case 5:Rt(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:Wi(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Zi(l),l.flags|=128,null):(f&l.child.childLanes)!==0?qE(o,l,f):(Zi(l),o=ui(o,l,f),o!==null?o.sibling:null);Zi(l);break;case 19:var b=(o.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(au(o,l,f,!1),p=(f&l.childLanes)!==0),b){if(p)return WE(o,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),O(Kt,Kt.current),p)break;return null;case 22:case 23:return l.lanes=0,VE(o,l,f);case 24:Wi(l,Wt,o.memoizedState.cache)}return ui(o,l,f)}function KE(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)sn=!0;else{if(!J0(o,f)&&(l.flags&128)===0)return sn=!1,G8(o,l,f);sn=(o.flags&131072)!==0}else sn=!1,it&&(l.flags&1048576)!==0&&ES(l,xh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,b=p._init;if(p=b(p._payload),l.type=p,typeof p=="function")o0(p)?(o=ta(p,o),l.tag=1,l=zE(null,l,p,o,f)):(l.tag=0,l=H0(null,l,p,o,f));else{if(p!=null){if(b=p.$$typeof,b===L){l.tag=11,l=jE(null,l,p,o,f);break e}else if(b===j){l.tag=14,l=BE(null,l,p,o,f);break e}}throw l=Z(p)||p,Error(r(306,l,""))}}return l;case 0:return H0(o,l,l.type,l.pendingProps,f);case 1:return p=l.type,b=ta(p,l.pendingProps),zE(o,l,p,b,f);case 3:e:{if(Ne(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var v=l.memoizedState;b=v.element,_0(o,l),pu(l,p,null,f);var R=l.memoizedState;if(p=R.cache,Wi(l,Wt,p),p!==v.cache&&p0(l,[Wt],f,!0),hu(),p=R.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=HE(o,l,p,f);break e}else if(p!==b){b=Br(Error(r(424)),l),ou(b),l=HE(o,l,p,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mt=cs(o.firstChild),Fn=l,it=!0,Yo=null,ks=!0,f=TE(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(iu(),p===b){l=ui(o,l,f);break e}dn(o,l,p,f)}l=l.child}return l;case 26:return Fh(o,l),o===null?(f=ZC(l.type,null,l.pendingProps,null))?l.memoizedState=f:it||(f=l.type,o=l.pendingProps,p=rp(ye.current).createElement(f),p[nn]=l,p[Rn]=o,pn(p,f,o),Bt(p),l.stateNode=p):l.memoizedState=ZC(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Rt(l),o===null&&it&&(p=l.stateNode=YC(l.type,l.pendingProps,ye.current),Fn=l,ks=!0,b=Mt,lo(l.type)?(Ob=b,Mt=cs(p.firstChild)):Mt=b),dn(o,l,l.pendingProps.children,f),Fh(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&it&&((b=p=Mt)&&(p=_B(p,l.type,l.pendingProps,ks),p!==null?(l.stateNode=p,Fn=l,Mt=cs(p.firstChild),ks=!1,b=!0):b=!1),b||Xo(l)),Rt(l),b=l.type,v=l.pendingProps,R=o!==null?o.memoizedProps:null,p=v.children,Ab(b,v)?p=null:R!==null&&Ab(b,R)&&(l.flags|=32),l.memoizedState!==null&&(b=T0(o,l,B8,null,null,f),Nu._currentValue=b),Fh(o,l),dn(o,l,p,f),l.child;case 6:return o===null&&it&&((o=f=Mt)&&(f=wB(f,l.pendingProps,ks),f!==null?(l.stateNode=f,Fn=l,Mt=null,o=!0):o=!1),o||Xo(l)),null;case 13:return qE(o,l,f);case 4:return Ne(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=hl(l,null,p,f):dn(o,l,p,f),l.child;case 11:return jE(o,l,l.type,l.pendingProps,f);case 7:return dn(o,l,l.pendingProps,f),l.child;case 8:return dn(o,l,l.pendingProps.children,f),l.child;case 12:return dn(o,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,Wi(l,l.type,p.value),dn(o,l,p.children,f),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,Zo(l),b=Mn(b),p=p(b),l.flags|=1,dn(o,l,p,f),l.child;case 14:return BE(o,l,l.type,l.pendingProps,f);case 15:return $E(o,l,l.type,l.pendingProps,f);case 19:return WE(o,l,f);case 31:return p=l.pendingProps,f=l.mode,p={mode:p.mode,children:p.children},o===null?(f=zh(p,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=ri(o.child,p),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return VE(o,l,f);case 24:return Zo(l),p=Mn(Wt),o===null?(b=y0(),b===null&&(b=gt,v=m0(),b.pooledCache=v,v.refCount++,v!==null&&(b.pooledCacheLanes|=f),b=v),l.memoizedState={parent:p,cache:b},v0(l),Wi(l,Wt,b)):((o.lanes&f)!==0&&(_0(o,l),pu(l,null,null,f),hu()),b=o.memoizedState,v=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Wi(l,Wt,p)):(p=v.cache,Wi(l,Wt,p),p!==b.cache&&p0(l,[Wt],f,!0))),dn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function fi(o){o.flags|=4}function YE(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rT(l)){if(l=Fr.current,l!==null&&((et&4194048)===et?Ms!==null:(et&62914560)!==et&&(et&536870912)===0||l!==Ms))throw fu=b0,PS;o.flags|=8192}}function Hh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?$a():536870912,o.lanes|=l,yl|=l)}function wu(o,l){if(!it)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Tt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(l)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,l}function W8(o,l,f){var p=l.pendingProps;switch(u0(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(l),null;case 1:return Tt(l),null;case 3:return f=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ai(Wt),mt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(su(l)?fi(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,AS())),Tt(l),null;case 26:return f=l.memoizedState,o===null?(fi(l),f!==null?(Tt(l),YE(l,f)):(Tt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(fi(l),Tt(l),YE(l,f)):(Tt(l),l.flags&=-16777217):(o.memoizedProps!==p&&fi(l),Tt(l),l.flags&=-16777217),null;case 27:kt(l),f=ye.current;var b=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&fi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Tt(l),null}o=me.current,su(l)?CS(l):(o=YC(b,p,f),l.stateNode=o,fi(l))}return Tt(l),null;case 5:if(kt(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&fi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Tt(l),null}if(o=me.current,su(l))CS(l);else{switch(b=rp(ye.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?b.createElement(f,{is:p.is}):b.createElement(f)}}o[nn]=l,o[Rn]=p;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=o;e:switch(pn(o,f,p),f){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fi(l)}}return Tt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&fi(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=ye.current,su(l)){if(o=l.stateNode,f=l.memoizedProps,p=null,b=Fn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[nn]=l,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||FC(o.nodeValue,f)),o||Xo(l)}else o=rp(o).createTextNode(p),o[nn]=l,l.stateNode=o}return Tt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=su(l),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[nn]=l}else iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tt(l),b=!1}else b=AS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(ci(l),l):(ci(l),null)}if(ci(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=p!==null,o=o!==null&&o.memoizedState!==null,f){p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var v=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==b&&(p.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Hh(l,l.updateQueue),Tt(l),null;case 4:return mt(),o===null&&xb(l.stateNode.containerInfo),Tt(l),null;case 10:return ai(l.type),Tt(l),null;case 19:if(fe(Kt),b=l.memoizedState,b===null)return Tt(l),null;if(p=(l.flags&128)!==0,v=b.rendering,v===null)if(p)wu(b,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(v=$h(o),v!==null){for(l.flags|=128,wu(b,!1),o=v.updateQueue,l.updateQueue=o,Hh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)SS(f,o),f=f.sibling;return O(Kt,Kt.current&1|2),l.child}o=o.sibling}b.tail!==null&&En()>Wh&&(l.flags|=128,p=!0,wu(b,!1),l.lanes=4194304)}else{if(!p)if(o=$h(v),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,Hh(l,o),wu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!v.alternate&&!it)return Tt(l),null}else 2*En()-b.renderingStartTime>Wh&&f!==536870912&&(l.flags|=128,p=!0,wu(b,!1),l.lanes=4194304);b.isBackwards?(v.sibling=l.child,l.child=v):(o=b.last,o!==null?o.sibling=v:l.child=v,b.last=v)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=En(),l.sibling=null,o=Kt.current,O(Kt,p?o&1|2:o&1),l):(Tt(l),null);case 22:case 23:return ci(l),E0(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(Tt(l),l.subtreeFlags&6&&(l.flags|=8192)):Tt(l),f=l.updateQueue,f!==null&&Hh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),o!==null&&fe(Qo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ai(Wt),Tt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function K8(o,l){switch(u0(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ai(Wt),mt(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return kt(l),null;case 13:if(ci(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));iu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return fe(Kt),null;case 4:return mt(),null;case 10:return ai(l.type),null;case 22:case 23:return ci(l),E0(),o!==null&&fe(Qo),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ai(Wt),null;case 25:return null;default:return null}}function XE(o,l){switch(u0(l),l.tag){case 3:ai(Wt),mt();break;case 26:case 27:case 5:kt(l);break;case 4:mt();break;case 13:ci(l);break;case 19:fe(Kt);break;case 10:ai(l.type);break;case 22:case 23:ci(l),E0(),o!==null&&fe(Qo);break;case 24:ai(Wt)}}function xu(o,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var v=f.create,R=f.inst;p=v(),R.destroy=p}f=f.next}while(f!==b)}}catch(M){dt(l,l.return,M)}}function eo(o,l,f){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var v=b.next;p=v;do{if((p.tag&o)===o){var R=p.inst,M=R.destroy;if(M!==void 0){R.destroy=void 0,b=l;var V=f,K=M;try{K()}catch(ie){dt(b,V,ie)}}}p=p.next}while(p!==v)}}catch(ie){dt(l,l.return,ie)}}function JE(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{BS(l,f)}catch(p){dt(o,o.return,p)}}}function ZE(o,l,f){f.props=ta(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){dt(o,l,p)}}function Su(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){dt(o,l,b)}}function Os(o,l){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){dt(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){dt(o,l,b)}else f.current=null}function QE(o){var l=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){dt(o,o.return,b)}}function Z0(o,l,f){try{var p=o.stateNode;mB(p,o.type,f,l),p[Rn]=l}catch(b){dt(o,o.return,b)}}function eC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&lo(o.type)||o.tag===4}function Q0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||eC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&lo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function eb(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=np));else if(p!==4&&(p===27&&lo(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(eb(o,l,f),o=o.sibling;o!==null;)eb(o,l,f),o=o.sibling}function qh(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(p!==4&&(p===27&&lo(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(qh(o,l,f),o=o.sibling;o!==null;)qh(o,l,f),o=o.sibling}function tC(o){var l=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);pn(l,p,f),l[nn]=o,l[Rn]=f}catch(v){dt(o,o.return,v)}}var di=!1,Lt=!1,tb=!1,nC=typeof WeakSet=="function"?WeakSet:Set,on=null;function Y8(o,l){if(o=o.containerInfo,Cb=cp,o=hS(o),Qy(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{f.nodeType,v.nodeType}catch{f=null;break e}var R=0,M=-1,V=-1,K=0,ie=0,ue=o,Q=null;t:for(;;){for(var te;ue!==f||b!==0&&ue.nodeType!==3||(M=R+b),ue!==v||p!==0&&ue.nodeType!==3||(V=R+p),ue.nodeType===3&&(R+=ue.nodeValue.length),(te=ue.firstChild)!==null;)Q=ue,ue=te;for(;;){if(ue===o)break t;if(Q===f&&++K===b&&(M=R),Q===v&&++ie===p&&(V=R),(te=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=te}f=M===-1||V===-1?null:{start:M,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(Tb={focusedElem:o,selectionRange:f},cp=!1,on=l;on!==null;)if(l=on,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,on=o;else for(;on!==null;){switch(l=on,v=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&v!==null){o=void 0,f=l,b=v.memoizedProps,v=v.memoizedState,p=f.stateNode;try{var je=ta(f.type,b,f.elementType===f.type);o=p.getSnapshotBeforeUpdate(je,v),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ie){dt(f,f.return,Ie)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)kb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,on=o;break}on=l.return}}function rC(o,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:to(o,f),p&4&&xu(5,f);break;case 1:if(to(o,f),p&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(R){dt(f,f.return,R)}else{var b=ta(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){dt(f,f.return,R)}}p&64&&JE(f),p&512&&Su(f,f.return);break;case 3:if(to(o,f),p&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{BS(o,l)}catch(R){dt(f,f.return,R)}}break;case 27:l===null&&p&4&&tC(f);case 26:case 5:to(o,f),l===null&&p&4&&QE(f),p&512&&Su(f,f.return);break;case 12:to(o,f);break;case 13:to(o,f),p&4&&oC(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=sB.bind(null,f),xB(o,f))));break;case 22:if(p=f.memoizedState!==null||di,!p){l=l!==null&&l.memoizedState!==null||Lt,b=di;var v=Lt;di=p,(Lt=l)&&!v?no(o,f,(f.subtreeFlags&8772)!==0):to(o,f),di=b,Lt=v}break;case 30:break;default:to(o,f)}}function sC(o){var l=o.alternate;l!==null&&(o.alternate=null,sC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Uc(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var _t=null,nr=!1;function hi(o,l,f){for(f=f.child;f!==null;)iC(o,l,f),f=f.sibling}function iC(o,l,f){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(se,f)}catch{}switch(f.tag){case 26:Lt||Os(f,l),hi(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Lt||Os(f,l);var p=_t,b=nr;lo(f.type)&&(_t=f.stateNode,nr=!1),hi(o,l,f),Pu(f.stateNode),_t=p,nr=b;break;case 5:Lt||Os(f,l);case 6:if(p=_t,b=nr,_t=null,hi(o,l,f),_t=p,nr=b,_t!==null)if(nr)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(f.stateNode)}catch(v){dt(f,l,v)}else try{_t.removeChild(f.stateNode)}catch(v){dt(f,l,v)}break;case 18:_t!==null&&(nr?(o=_t,WC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Vu(o)):WC(_t,f.stateNode));break;case 4:p=_t,b=nr,_t=f.stateNode.containerInfo,nr=!0,hi(o,l,f),_t=p,nr=b;break;case 0:case 11:case 14:case 15:Lt||eo(2,f,l),Lt||eo(4,f,l),hi(o,l,f);break;case 1:Lt||(Os(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&ZE(f,l,p)),hi(o,l,f);break;case 21:hi(o,l,f);break;case 22:Lt=(p=Lt)||f.memoizedState!==null,hi(o,l,f),Lt=p;break;default:hi(o,l,f)}}function oC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Vu(o)}catch(f){dt(l,l.return,f)}}function X8(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new nC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new nC),l;default:throw Error(r(435,o.tag))}}function nb(o,l){var f=X8(o);l.forEach(function(p){var b=iB.bind(null,o,p);f.has(p)||(f.add(p),p.then(b,b))})}function gr(o,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],v=o,R=l,M=R;e:for(;M!==null;){switch(M.tag){case 27:if(lo(M.type)){_t=M.stateNode,nr=!1;break e}break;case 5:_t=M.stateNode,nr=!1;break e;case 3:case 4:_t=M.stateNode.containerInfo,nr=!0;break e}M=M.return}if(_t===null)throw Error(r(160));iC(v,R,b),_t=null,nr=!1,v=b.alternate,v!==null&&(v.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)aC(l,o),l=l.sibling}var ls=null;function aC(o,l){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gr(l,o),yr(o),p&4&&(eo(3,o,o.return),xu(3,o),eo(5,o,o.return));break;case 1:gr(l,o),yr(o),p&512&&(Lt||f===null||Os(f,f.return)),p&64&&di&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=ls;if(gr(l,o),yr(o),p&512&&(Lt||f===null||Os(f,f.return)),p&4){var v=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":v=b.getElementsByTagName("title")[0],(!v||v[Fo]||v[nn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=b.createElement(p),b.head.insertBefore(v,b.querySelector("head > title"))),pn(v,p,f),v[nn]=o,Bt(v),p=v;break e;case"link":var R=tT("link","href",b).get(p+(f.href||""));if(R){for(var M=0;M<R.length;M++)if(v=R[M],v.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&v.getAttribute("rel")===(f.rel==null?null:f.rel)&&v.getAttribute("title")===(f.title==null?null:f.title)&&v.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(M,1);break t}}v=b.createElement(p),pn(v,p,f),b.head.appendChild(v);break;case"meta":if(R=tT("meta","content",b).get(p+(f.content||""))){for(M=0;M<R.length;M++)if(v=R[M],v.getAttribute("content")===(f.content==null?null:""+f.content)&&v.getAttribute("name")===(f.name==null?null:f.name)&&v.getAttribute("property")===(f.property==null?null:f.property)&&v.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&v.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(M,1);break t}}v=b.createElement(p),pn(v,p,f),b.head.appendChild(v);break;default:throw Error(r(468,p))}v[nn]=o,Bt(v),p=v}o.stateNode=p}else nT(b,o.type,o.stateNode);else o.stateNode=eT(b,p,o.memoizedProps);else v!==p?(v===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):v.count--,p===null?nT(b,o.type,o.stateNode):eT(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Z0(o,o.memoizedProps,f.memoizedProps)}break;case 27:gr(l,o),yr(o),p&512&&(Lt||f===null||Os(f,f.return)),f!==null&&p&4&&Z0(o,o.memoizedProps,f.memoizedProps);break;case 5:if(gr(l,o),yr(o),p&512&&(Lt||f===null||Os(f,f.return)),o.flags&32){b=o.stateNode;try{dr(b,"")}catch(te){dt(o,o.return,te)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,Z0(o,b,f!==null?f.memoizedProps:b)),p&1024&&(tb=!0);break;case 6:if(gr(l,o),yr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(te){dt(o,o.return,te)}}break;case 3:if(op=null,b=ls,ls=sp(l.containerInfo),gr(l,o),ls=b,yr(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Vu(l.containerInfo)}catch(te){dt(o,o.return,te)}tb&&(tb=!1,lC(o));break;case 4:p=ls,ls=sp(o.stateNode.containerInfo),gr(l,o),yr(o),ls=p;break;case 12:gr(l,o),yr(o);break;case 13:gr(l,o),yr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(lb=En()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,nb(o,p)));break;case 22:b=o.memoizedState!==null;var V=f!==null&&f.memoizedState!==null,K=di,ie=Lt;if(di=K||b,Lt=ie||V,gr(l,o),Lt=ie,di=K,yr(o),p&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(f===null||V||di||Lt||na(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){V=f=l;try{if(v=V.stateNode,b)R=v.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{M=V.stateNode;var ue=V.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;M.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(te){dt(V,V.return,te)}}}else if(l.tag===6){if(f===null){V=l;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(te){dt(V,V.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,nb(o,f))));break;case 19:gr(l,o),yr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,nb(o,p)));break;case 30:break;case 21:break;default:gr(l,o),yr(o)}}function yr(o){var l=o.flags;if(l&2){try{for(var f,p=o.return;p!==null;){if(eC(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,v=Q0(o);qh(o,v,b);break;case 5:var R=f.stateNode;f.flags&32&&(dr(R,""),f.flags&=-33);var M=Q0(o);qh(o,M,R);break;case 3:case 4:var V=f.stateNode.containerInfo,K=Q0(o);eb(o,K,V);break;default:throw Error(r(161))}}catch(ie){dt(o,o.return,ie)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function lC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;lC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function to(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)rC(o,l.alternate,l),l=l.sibling}function na(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:eo(4,l,l.return),na(l);break;case 1:Os(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&ZE(l,l.return,f),na(l);break;case 27:Pu(l.stateNode);case 26:case 5:Os(l,l.return),na(l);break;case 22:l.memoizedState===null&&na(l);break;case 30:na(l);break;default:na(l)}o=o.sibling}}function no(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=o,v=l,R=v.flags;switch(v.tag){case 0:case 11:case 15:no(b,v,f),xu(4,v);break;case 1:if(no(b,v,f),p=v,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(K){dt(p,p.return,K)}if(p=v,b=p.updateQueue,b!==null){var M=p.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)jS(V[b],M)}catch(K){dt(p,p.return,K)}}f&&R&64&&JE(v),Su(v,v.return);break;case 27:tC(v);case 26:case 5:no(b,v,f),f&&p===null&&R&4&&QE(v),Su(v,v.return);break;case 12:no(b,v,f);break;case 13:no(b,v,f),f&&R&4&&oC(b,v);break;case 22:v.memoizedState===null&&no(b,v,f),Su(v,v.return);break;case 30:break;default:no(b,v,f)}l=l.sibling}}function rb(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&lu(f))}function sb(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&lu(o))}function Ps(o,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)cC(o,l,f,p),l=l.sibling}function cC(o,l,f,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Ps(o,l,f,p),b&2048&&xu(9,l);break;case 1:Ps(o,l,f,p);break;case 3:Ps(o,l,f,p),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&lu(o)));break;case 12:if(b&2048){Ps(o,l,f,p),o=l.stateNode;try{var v=l.memoizedProps,R=v.id,M=v.onPostCommit;typeof M=="function"&&M(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(V){dt(l,l.return,V)}}else Ps(o,l,f,p);break;case 13:Ps(o,l,f,p);break;case 23:break;case 22:v=l.stateNode,R=l.alternate,l.memoizedState!==null?v._visibility&2?Ps(o,l,f,p):Eu(o,l):v._visibility&2?Ps(o,l,f,p):(v._visibility|=2,pl(o,l,f,p,(l.subtreeFlags&10256)!==0)),b&2048&&rb(R,l);break;case 24:Ps(o,l,f,p),b&2048&&sb(l.alternate,l);break;default:Ps(o,l,f,p)}}function pl(o,l,f,p,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=o,R=l,M=f,V=p,K=R.flags;switch(R.tag){case 0:case 11:case 15:pl(v,R,M,V,b),xu(8,R);break;case 23:break;case 22:var ie=R.stateNode;R.memoizedState!==null?ie._visibility&2?pl(v,R,M,V,b):Eu(v,R):(ie._visibility|=2,pl(v,R,M,V,b)),b&&K&2048&&rb(R.alternate,R);break;case 24:pl(v,R,M,V,b),b&&K&2048&&sb(R.alternate,R);break;default:pl(v,R,M,V,b)}l=l.sibling}}function Eu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,p=l,b=p.flags;switch(p.tag){case 22:Eu(f,p),b&2048&&rb(p.alternate,p);break;case 24:Eu(f,p),b&2048&&sb(p.alternate,p);break;default:Eu(f,p)}l=l.sibling}}var Cu=8192;function ml(o){if(o.subtreeFlags&Cu)for(o=o.child;o!==null;)uC(o),o=o.sibling}function uC(o){switch(o.tag){case 26:ml(o),o.flags&Cu&&o.memoizedState!==null&&DB(ls,o.memoizedState,o.memoizedProps);break;case 5:ml(o);break;case 3:case 4:var l=ls;ls=sp(o.stateNode.containerInfo),ml(o),ls=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Cu,Cu=16777216,ml(o),Cu=l):ml(o));break;default:ml(o)}}function fC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Tu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];on=p,hC(p,o)}fC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dC(o),o=o.sibling}function dC(o){switch(o.tag){case 0:case 11:case 15:Tu(o),o.flags&2048&&eo(9,o,o.return);break;case 3:Tu(o);break;case 12:Tu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Gh(o)):Tu(o);break;default:Tu(o)}}function Gh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];on=p,hC(p,o)}fC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:eo(8,l,l.return),Gh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Gh(l));break;default:Gh(l)}o=o.sibling}}function hC(o,l){for(;on!==null;){var f=on;switch(f.tag){case 0:case 11:case 15:eo(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,on=p;else e:for(f=o;on!==null;){p=on;var b=p.sibling,v=p.return;if(sC(p),p===f){on=null;break e}if(b!==null){b.return=v,on=b;break e}on=v}}}var J8={getCacheForType:function(o){var l=Mn(Wt),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},Z8=typeof WeakMap=="function"?WeakMap:Map,ot=0,gt=null,Je=null,et=0,at=0,br=null,ro=!1,gl=!1,ib=!1,pi=0,Ot=0,so=0,ra=0,ob=0,zr=0,yl=0,Au=null,rr=null,ab=!1,lb=0,Wh=1/0,Kh=null,io=null,hn=0,oo=null,bl=null,vl=0,cb=0,ub=null,pC=null,Ru=0,fb=null;function vr(){if((ot&2)!==0&&et!==0)return et&-et;if(U.T!==null){var o=ol;return o!==0?o:bb()}return $c()}function mC(){zr===0&&(zr=(et&536870912)===0||it?Ba():536870912);var o=Fr.current;return o!==null&&(o.flags|=32),zr}function _r(o,l,f){(o===gt&&(at===2||at===9)||o.cancelPendingCommit!==null)&&(_l(o,0),ao(o,et,zr,!1)),rs(o,f),((ot&2)===0||o!==gt)&&(o===gt&&((ot&2)===0&&(ra|=f),Ot===4&&ao(o,et,zr,!1)),Is(o))}function gC(o,l,f){if((ot&6)!==0)throw Error(r(327));var p=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Tn(o,l),b=p?tB(o,l):pb(o,l,!0),v=p;do{if(b===0){gl&&!p&&ao(o,l,0,!1);break}else{if(f=o.current.alternate,v&&!Q8(f)){b=pb(o,l,!1),v=!1;continue}if(b===2){if(v=l,o.errorRecoveryDisabledLanes&v)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var M=o;b=Au;var V=M.current.memoizedState.isDehydrated;if(V&&(_l(M,R).flags|=256),R=pb(M,R,!1),R!==2){if(ib&&!V){M.errorRecoveryDisabledLanes|=v,ra|=v,b=4;break e}v=rr,rr=b,v!==null&&(rr===null?rr=v:rr.push.apply(rr,v))}b=R}if(v=!1,b!==2)continue}}if(b===1){_l(o,0),ao(o,l,0,!0);break}e:{switch(p=o,v=b,v){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ao(p,l,zr,!ro);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=lb+300-En(),10<b)){if(ao(p,l,zr,!ro),jt(p,0,!0)!==0)break e;p.timeoutHandle=qC(yC.bind(null,p,f,rr,Kh,ab,l,zr,ra,yl,ro,v,2,-0,0),b);break e}yC(p,f,rr,Kh,ab,l,zr,ra,yl,ro,v,0,-0,0)}}break}while(!0);Is(o)}function yC(o,l,f,p,b,v,R,M,V,K,ie,ue,Q,te){if(o.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:LB},uC(l),ue=NB(),ue!==null)){o.cancelPendingCommit=ue(EC.bind(null,o,l,v,f,p,b,R,M,V,ie,1,Q,te)),ao(o,v,R,!K);return}EC(o,l,v,f,p,b,R,M,V)}function Q8(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],v=b.getSnapshot;b=b.value;try{if(!pr(v(),b))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ao(o,l,f,p){l&=~ob,l&=~ra,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var b=l;0<b;){var v=31-Oe(b),R=1<<v;p[v]=-1,b&=~R}f!==0&&Zd(o,f,l)}function Yh(){return(ot&6)===0?(ku(0),!1):!0}function db(){if(Je!==null){if(at===0)var o=Je.return;else o=Je,oi=Jo=null,k0(o),dl=null,vu=0,o=Je;for(;o!==null;)XE(o.alternate,o),o=o.return;Je=null}}function _l(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,yB(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),db(),gt=o,Je=f=ri(o.current,null),et=l,at=0,br=null,ro=!1,gl=Tn(o,l),ib=!1,yl=zr=ob=ra=so=Ot=0,rr=Au=null,ab=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var b=31-Oe(p),v=1<<b;l|=o[b],p&=~v}return pi=l,yh(),f}function bC(o,l){Ge=null,U.H=Nh,l===uu||l===Th?(l=DS(),at=3):l===PS?(l=DS(),at=4):at=l===NE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,br=l,Je===null&&(Ot=1,Uh(o,Br(l,o.current)))}function vC(){var o=U.H;return U.H=Nh,o===null?Nh:o}function _C(){var o=U.A;return U.A=J8,o}function hb(){Ot=4,ro||(et&4194048)!==et&&Fr.current!==null||(gl=!0),(so&134217727)===0&&(ra&134217727)===0||gt===null||ao(gt,et,zr,!1)}function pb(o,l,f){var p=ot;ot|=2;var b=vC(),v=_C();(gt!==o||et!==l)&&(Kh=null,_l(o,l)),l=!1;var R=Ot;e:do try{if(at!==0&&Je!==null){var M=Je,V=br;switch(at){case 8:db(),R=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(l=!0);var K=at;if(at=0,br=null,wl(o,M,V,K),f&&gl){R=0;break e}break;default:K=at,at=0,br=null,wl(o,M,V,K)}}eB(),R=Ot;break}catch(ie){bC(o,ie)}while(!0);return l&&o.shellSuspendCounter++,oi=Jo=null,ot=p,U.H=b,U.A=v,Je===null&&(gt=null,et=0,yh()),R}function eB(){for(;Je!==null;)wC(Je)}function tB(o,l){var f=ot;ot|=2;var p=vC(),b=_C();gt!==o||et!==l?(Kh=null,Wh=En()+500,_l(o,l)):gl=Tn(o,l);e:do try{if(at!==0&&Je!==null){l=Je;var v=br;t:switch(at){case 1:at=0,br=null,wl(o,l,v,1);break;case 2:case 9:if(IS(v)){at=0,br=null,xC(l);break}l=function(){at!==2&&at!==9||gt!==o||(at=7),Is(o)},v.then(l,l);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:IS(v)?(at=0,br=null,xC(l)):(at=0,br=null,wl(o,l,v,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var M=Je;if(!R||rT(R)){at=0,br=null;var V=M.sibling;if(V!==null)Je=V;else{var K=M.return;K!==null?(Je=K,Xh(K)):Je=null}break t}}at=0,br=null,wl(o,l,v,5);break;case 6:at=0,br=null,wl(o,l,v,6);break;case 8:db(),Ot=6;break e;default:throw Error(r(462))}}nB();break}catch(ie){bC(o,ie)}while(!0);return oi=Jo=null,U.H=p,U.A=b,ot=f,Je!==null?0:(gt=null,et=0,yh(),Ot)}function nB(){for(;Je!==null&&!ti();)wC(Je)}function wC(o){var l=KE(o.alternate,o,pi);o.memoizedProps=o.pendingProps,l===null?Xh(o):Je=l}function xC(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=FE(f,l,l.pendingProps,l.type,void 0,et);break;case 11:l=FE(f,l,l.pendingProps,l.type.render,l.ref,et);break;case 5:k0(l);default:XE(f,l),l=Je=SS(l,pi),l=KE(f,l,pi)}o.memoizedProps=o.pendingProps,l===null?Xh(o):Je=l}function wl(o,l,f,p){oi=Jo=null,k0(l),dl=null,vu=0;var b=l.return;try{if(q8(o,b,l,f,et)){Ot=1,Uh(o,Br(f,o.current)),Je=null;return}}catch(v){if(b!==null)throw Je=b,v;Ot=1,Uh(o,Br(f,o.current)),Je=null;return}l.flags&32768?(it||p===1?o=!0:gl||(et&536870912)!==0?o=!1:(ro=o=!0,(p===2||p===9||p===3||p===6)&&(p=Fr.current,p!==null&&p.tag===13&&(p.flags|=16384))),SC(l,o)):Xh(l)}function Xh(o){var l=o;do{if((l.flags&32768)!==0){SC(l,ro);return}o=l.return;var f=W8(l.alternate,l,pi);if(f!==null){Je=f;return}if(l=l.sibling,l!==null){Je=l;return}Je=l=o}while(l!==null);Ot===0&&(Ot=5)}function SC(o,l){do{var f=K8(o.alternate,o);if(f!==null){f.flags&=32767,Je=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Je=o;return}Je=o=f}while(o!==null);Ot=6,Je=null}function EC(o,l,f,p,b,v,R,M,V){o.cancelPendingCommit=null;do Jh();while(hn!==0);if((ot&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(v=l.lanes|l.childLanes,v|=s0,Uy(o,f,v,R,M,V),o===gt&&(Je=gt=null,et=0),bl=l,oo=o,vl=f,cb=v,ub=b,pC=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,oB(Cs,function(){return kC(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,b=X.p,X.p=2,R=ot,ot|=4;try{Y8(o,l,f)}finally{ot=R,X.p=b,U.T=p}}hn=1,CC(),TC(),AC()}}function CC(){if(hn===1){hn=0;var o=oo,l=bl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var p=X.p;X.p=2;var b=ot;ot|=4;try{aC(l,o);var v=Tb,R=hS(o.containerInfo),M=v.focusedElem,V=v.selectionRange;if(R!==M&&M&&M.ownerDocument&&dS(M.ownerDocument.documentElement,M)){if(V!==null&&Qy(M)){var K=V.start,ie=V.end;if(ie===void 0&&(ie=K),"selectionStart"in M)M.selectionStart=K,M.selectionEnd=Math.min(ie,M.value.length);else{var ue=M.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var te=Q.getSelection(),je=M.textContent.length,Ie=Math.min(V.start,je),ut=V.end===void 0?Ie:Math.min(V.end,je);!te.extend&&Ie>ut&&(R=ut,ut=Ie,Ie=R);var q=fS(M,Ie),F=fS(M,ut);if(q&&F&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var G=ue.createRange();G.setStart(q.node,q.offset),te.removeAllRanges(),Ie>ut?(te.addRange(G),te.extend(F.node,F.offset)):(G.setEnd(F.node,F.offset),te.addRange(G))}}}}for(ue=[],te=M;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ue.length;M++){var ce=ue[M];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}cp=!!Cb,Tb=Cb=null}finally{ot=b,X.p=p,U.T=f}}o.current=l,hn=2}}function TC(){if(hn===2){hn=0;var o=oo,l=bl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var p=X.p;X.p=2;var b=ot;ot|=4;try{rC(o,l.alternate,l)}finally{ot=b,X.p=p,U.T=f}}hn=3}}function AC(){if(hn===4||hn===3){hn=0,ts();var o=oo,l=bl,f=vl,p=pC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?hn=5:(hn=0,bl=oo=null,RC(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(io=null),Bc(f),l=l.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(se,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=U.T,b=X.p,X.p=2,U.T=null;try{for(var v=o.onRecoverableError,R=0;R<p.length;R++){var M=p[R];v(M.value,{componentStack:M.stack})}}finally{U.T=l,X.p=b}}(vl&3)!==0&&Jh(),Is(o),b=o.pendingLanes,(f&4194090)!==0&&(b&42)!==0?o===fb?Ru++:(Ru=0,fb=o):Ru=0,ku(0)}}function RC(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,lu(l)))}function Jh(o){return CC(),TC(),AC(),kC()}function kC(){if(hn!==5)return!1;var o=oo,l=cb;cb=0;var f=Bc(vl),p=U.T,b=X.p;try{X.p=32>f?32:f,U.T=null,f=ub,ub=null;var v=oo,R=vl;if(hn=0,bl=oo=null,vl=0,(ot&6)!==0)throw Error(r(331));var M=ot;if(ot|=4,dC(v.current),cC(v,v.current,R,f),ot=M,ku(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(se,v)}catch{}return!0}finally{X.p=b,U.T=p,RC(o,l)}}function MC(o,l,f){l=Br(f,l),l=z0(o.stateNode,l,2),o=Xi(o,l,2),o!==null&&(rs(o,2),Is(o))}function dt(o,l,f){if(o.tag===3)MC(o,o,f);else for(;l!==null;){if(l.tag===3){MC(l,o,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(io===null||!io.has(p))){o=Br(f,o),f=LE(2),p=Xi(l,f,2),p!==null&&(DE(f,p,l,o),rs(p,2),Is(p));break}}l=l.return}}function mb(o,l,f){var p=o.pingCache;if(p===null){p=o.pingCache=new Z8;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(f)||(ib=!0,b.add(f),o=rB.bind(null,o,l,f),l.then(o,o))}function rB(o,l,f){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,gt===o&&(et&f)===f&&(Ot===4||Ot===3&&(et&62914560)===et&&300>En()-lb?(ot&2)===0&&_l(o,0):ob|=f,yl===et&&(yl=0)),Is(o)}function OC(o,l){l===0&&(l=$a()),o=nl(o,l),o!==null&&(rs(o,l),Is(o))}function sB(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),OC(o,f)}function iB(o,l){var f=0;switch(o.tag){case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),OC(o,f)}function oB(o,l){return Sn(o,l)}var Zh=null,xl=null,gb=!1,Qh=!1,yb=!1,sa=0;function Is(o){o!==xl&&o.next===null&&(xl===null?Zh=xl=o:xl=xl.next=o),Qh=!0,gb||(gb=!0,lB())}function ku(o,l){if(!yb&&Qh){yb=!0;do for(var f=!1,p=Zh;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var v=0;else{var R=p.suspendedLanes,M=p.pingedLanes;v=(1<<31-Oe(42|o)+1)-1,v&=b&~(R&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(f=!0,DC(p,v))}else v=et,v=jt(p,p===gt?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||Tn(p,v)||(f=!0,DC(p,v));p=p.next}while(f);yb=!1}}function aB(){PC()}function PC(){Qh=gb=!1;var o=0;sa!==0&&(gB()&&(o=sa),sa=0);for(var l=En(),f=null,p=Zh;p!==null;){var b=p.next,v=IC(p,l);v===0?(p.next=null,f===null?Zh=b:f.next=b,b===null&&(xl=f)):(f=p,(o!==0||(v&3)!==0)&&(Qh=!0)),p=b}ku(o)}function IC(o,l){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,v=o.pendingLanes&-62914561;0<v;){var R=31-Oe(v),M=1<<R,V=b[R];V===-1?((M&f)===0||(M&p)!==0)&&(b[R]=fn(M,l)):V<=l&&(o.expiredLanes|=M),v&=~M}if(l=gt,f=et,f=jt(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===l&&(at===2||at===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&cr(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Tn(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(p!==null&&cr(p),Bc(f)){case 2:case 8:f=Es;break;case 32:f=Cs;break;case 268435456:f=Vo;break;default:f=Cs}return p=LC.bind(null,o),f=Sn(f,p),o.callbackPriority=l,o.callbackNode=f,l}return p!==null&&p!==null&&cr(p),o.callbackPriority=2,o.callbackNode=null,2}function LC(o,l){if(hn!==0&&hn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Jh()&&o.callbackNode!==f)return null;var p=et;return p=jt(o,o===gt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(gC(o,p,l),IC(o,En()),o.callbackNode!=null&&o.callbackNode===f?LC.bind(null,o):null)}function DC(o,l){if(Jh())return null;gC(o,l,!0)}function lB(){bB(function(){(ot&6)!==0?Sn($o,aB):PC()})}function bb(){return sa===0&&(sa=Ba()),sa}function NC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:qa(""+o)}function jC(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function cB(o,l,f,p,b){if(l==="submit"&&f&&f.stateNode===b){var v=NC((b[Rn]||null).action),R=p.submitter;R&&(l=(l=R[Rn]||null)?NC(l.formAction):R.getAttribute("formAction"),l!==null&&(v=l,R=null));var M=new Se("action","action",null,p,b);o.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(sa!==0){var V=R?jC(b,R):new FormData(b);B0(f,{pending:!0,data:V,method:b.method,action:v},null,V)}}else typeof v=="function"&&(M.preventDefault(),V=R?jC(b,R):new FormData(b),B0(f,{pending:!0,data:V,method:b.method,action:v},v,V))},currentTarget:b}]})}}for(var vb=0;vb<r0.length;vb++){var _b=r0[vb],uB=_b.toLowerCase(),fB=_b[0].toUpperCase()+_b.slice(1);as(uB,"on"+fB)}as(gS,"onAnimationEnd"),as(yS,"onAnimationIteration"),as(bS,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(R8,"onTransitionRun"),as(k8,"onTransitionStart"),as(M8,"onTransitionCancel"),as(vS,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function BC(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var v=void 0;if(l)for(var R=p.length-1;0<=R;R--){var M=p[R],V=M.instance,K=M.currentTarget;if(M=M.listener,V!==v&&b.isPropagationStopped())break e;v=M,b.currentTarget=K;try{v(b)}catch(ie){Vh(ie)}b.currentTarget=null,v=V}else for(R=0;R<p.length;R++){if(M=p[R],V=M.instance,K=M.currentTarget,M=M.listener,V!==v&&b.isPropagationStopped())break e;v=M,b.currentTarget=K;try{v(b)}catch(ie){Vh(ie)}b.currentTarget=null,v=V}}}}function Ze(o,l){var f=l[Vc];f===void 0&&(f=l[Vc]=new Set);var p=o+"__bubble";f.has(p)||($C(l,o,2,!1),f.add(p))}function wb(o,l,f){var p=0;l&&(p|=4),$C(f,o,p,l)}var ep="_reactListening"+Math.random().toString(36).slice(2);function xb(o){if(!o[ep]){o[ep]=!0,nh.forEach(function(f){f!=="selectionchange"&&(dB.has(f)||wb(f,!1,o),wb(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ep]||(l[ep]=!0,wb("selectionchange",!1,l))}}function $C(o,l,f,p){switch(cT(l)){case 2:var b=$B;break;case 8:b=VB;break;default:b=Nb}f=b.bind(null,l,f,o),b=void 0,!Xc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,f,{capture:!0,passive:b}):o.addEventListener(l,f,!0):b!==void 0?o.addEventListener(l,f,{passive:b}):o.addEventListener(l,f,!1)}function Sb(o,l,f,p,b){var v=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var M=p.stateNode.containerInfo;if(M===b)break;if(R===4)for(R=p.return;R!==null;){var V=R.tag;if((V===3||V===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;M!==null;){if(R=Ni(M),R===null)return;if(V=R.tag,V===5||V===6||V===26||V===27){p=v=R;continue e}M=M.parentNode}}p=p.return}Wa(function(){var K=v,ie=Ga(f),ue=[];e:{var Q=_S.get(o);if(Q!==void 0){var te=Se,je=o;switch(o){case"keypress":if(Xa(f)===0)break e;case"keydown":case"keyup":te=o8;break;case"focusin":je="focus",te=Gi;break;case"focusout":je="blur",te=Gi;break;case"beforeblur":case"afterblur":te=Gi;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=c8;break;case gS:case yS:case bS:te=J6;break;case vS:te=f8;break;case"scroll":case"scrollend":te=kn;break;case"wheel":te=h8;break;case"copy":case"cut":case"paste":te=Q6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=J1;break;case"toggle":case"beforetoggle":te=m8}var Ie=(l&4)!==0,ut=!Ie&&(o==="scroll"||o==="scrollend"),q=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var F=K,G;F!==null;){var ce=F;if(G=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||G===null||q===null||(ce=Fi(F,q),ce!=null&&Ie.push(Ou(F,ce,G))),ut)break;F=F.return}0<Ie.length&&(Q=new te(Q,je,null,f,ie),ue.push({event:Q,listeners:Ie}))}}if((l&7)===0){e:{if(Q=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",Q&&f!==Wc&&(je=f.relatedTarget||f.fromElement)&&(Ni(je)||je[Di]))break e;if((te||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(je=f.relatedTarget||f.toElement,te=K,je=je?Ni(je):null,je!==null&&(ut=i(je),Ie=je.tag,je!==ut||Ie!==5&&Ie!==27&&Ie!==6)&&(je=null)):(te=null,je=K),te!==je)){if(Ie=Jc,ce="onMouseLeave",q="onMouseEnter",F="mouse",(o==="pointerout"||o==="pointerover")&&(Ie=J1,ce="onPointerLeave",q="onPointerEnter",F="pointer"),ut=te==null?Q:Nr(te),G=je==null?Q:Nr(je),Q=new Ie(ce,F+"leave",te,f,ie),Q.target=ut,Q.relatedTarget=G,ce=null,Ni(ie)===K&&(Ie=new Ie(q,F+"enter",je,f,ie),Ie.target=G,Ie.relatedTarget=ut,ce=Ie),ut=ce,te&&je)t:{for(Ie=te,q=je,F=0,G=Ie;G;G=Sl(G))F++;for(G=0,ce=q;ce;ce=Sl(ce))G++;for(;0<F-G;)Ie=Sl(Ie),F--;for(;0<G-F;)q=Sl(q),G--;for(;F--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=Sl(Ie),q=Sl(q)}Ie=null}else Ie=null;te!==null&&VC(ue,Q,te,Ie,!1),je!==null&&ut!==null&&VC(ue,ut,je,Ie,!0)}}e:{if(Q=K?Nr(K):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var _e=iS;else if(rS(Q))if(oS)_e=C8;else{_e=S8;var Ye=x8}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Gc(K.elementType)&&(_e=iS):_e=E8;if(_e&&(_e=_e(o,K))){sS(ue,_e,f,ie);break e}Ye&&Ye(o,Q,K),o==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Ha(Q,"number",Q.value)}switch(Ye=K?Nr(K):window,o){case"focusin":(rS(Ye)||Ye.contentEditable==="true")&&(Qa=Ye,e0=K,ru=null);break;case"focusout":ru=e0=Qa=null;break;case"mousedown":t0=!0;break;case"contextmenu":case"mouseup":case"dragend":t0=!1,pS(ue,f,ie);break;case"selectionchange":if(A8)break;case"keydown":case"keyup":pS(ue,f,ie)}var Te;if(Xy)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Za?tS(o,f)&&(De="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(De="onCompositionStart");De&&(Z1&&f.locale!=="ko"&&(Za||De!=="onCompositionStart"?De==="onCompositionEnd"&&Za&&(Te=Ya()):(Rs=ie,Hi="value"in Rs?Rs.value:Rs.textContent,Za=!0)),Ye=tp(K,De),0<Ye.length&&(De=new X1(De,o,null,f,ie),ue.push({event:De,listeners:Ye}),Te?De.data=Te:(Te=nS(f),Te!==null&&(De.data=Te)))),(Te=y8?b8(o,f):v8(o,f))&&(De=tp(K,"onBeforeInput"),0<De.length&&(Ye=new X1("onBeforeInput","beforeinput",null,f,ie),ue.push({event:Ye,listeners:De}),Ye.data=Te)),cB(ue,o,K,f,ie)}BC(ue,l)})}function Ou(o,l,f){return{instance:o,listener:l,currentTarget:f}}function tp(o,l){for(var f=l+"Capture",p=[];o!==null;){var b=o,v=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||v===null||(b=Fi(o,f),b!=null&&p.unshift(Ou(o,b,v)),b=Fi(o,l),b!=null&&p.push(Ou(o,b,v))),o.tag===3)return p;o=o.return}return[]}function Sl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function VC(o,l,f,p,b){for(var v=l._reactName,R=[];f!==null&&f!==p;){var M=f,V=M.alternate,K=M.stateNode;if(M=M.tag,V!==null&&V===p)break;M!==5&&M!==26&&M!==27||K===null||(V=K,b?(K=Fi(f,v),K!=null&&R.unshift(Ou(f,K,V))):b||(K=Fi(f,v),K!=null&&R.push(Ou(f,K,V)))),f=f.return}R.length!==0&&o.push({event:l,listeners:R})}var hB=/\r\n?/g,pB=/\u0000|\uFFFD/g;function UC(o){return(typeof o=="string"?o:""+o).replace(hB,`
`).replace(pB,"")}function FC(o,l){return l=UC(l),UC(o)===l}function np(){}function ct(o,l,f,p,b,v){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||dr(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&dr(o,""+p);break;case"className":Ua(o,"class",p);break;case"tabIndex":Ua(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(o,f,p);break;case"style":hh(o,p,v);break;case"data":if(l!=="object"){Ua(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=qa(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(f==="formAction"?(l!=="input"&&ct(o,l,"name",b.name,b,null),ct(o,l,"formEncType",b.formEncType,b,null),ct(o,l,"formMethod",b.formMethod,b,null),ct(o,l,"formTarget",b.formTarget,b,null)):(ct(o,l,"encType",b.encType,b,null),ct(o,l,"method",b.method,b,null),ct(o,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=qa(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=np);break;case"onScroll":p!=null&&Ze("scroll",o);break;case"onScrollEnd":p!=null&&Ze("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=qa(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":Ze("beforetoggle",o),Ze("toggle",o),Va(o,"popover",p);break;case"xlinkActuate":jr(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":jr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":jr(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":jr(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":jr(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":jr(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":jr(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":jr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":jr(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Va(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Wy.get(f)||f,Va(o,f,p))}}function Eb(o,l,f,p,b,v){switch(f){case"style":hh(o,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?dr(o,p):(typeof p=="number"||typeof p=="bigint")&&dr(o,""+p);break;case"onScroll":p!=null&&Ze("scroll",o);break;case"onScrollEnd":p!=null&&Ze("scrollend",o);break;case"onClick":p!=null&&(o.onclick=np);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rh.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),l=f.slice(2,b?f.length-7:void 0),v=o[Rn]||null,v=v!=null?v[f]:null,typeof v=="function"&&o.removeEventListener(l,v,b),typeof p=="function")){typeof v!="function"&&v!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Va(o,f,p)}}}function pn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",o),Ze("load",o);var p=!1,b=!1,v;for(v in f)if(f.hasOwnProperty(v)){var R=f[v];if(R!=null)switch(v){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ct(o,l,v,R,f,null)}}b&&ct(o,l,"srcSet",f.srcSet,f,null),p&&ct(o,l,"src",f.src,f,null);return;case"input":Ze("invalid",o);var M=v=R=b=null,V=null,K=null;for(p in f)if(f.hasOwnProperty(p)){var ie=f[p];if(ie!=null)switch(p){case"name":b=ie;break;case"type":R=ie;break;case"checked":V=ie;break;case"defaultChecked":K=ie;break;case"value":v=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:ct(o,l,p,ie,f,null)}}uh(o,v,M,V,K,R,b,!1),Fa(o);return;case"select":Ze("invalid",o),p=R=v=null;for(b in f)if(f.hasOwnProperty(b)&&(M=f[b],M!=null))switch(b){case"value":v=M;break;case"defaultValue":R=M;break;case"multiple":p=M;default:ct(o,l,b,M,f,null)}l=v,f=R,o.multiple=!!p,l!=null?Vi(o,!!p,l,!1):f!=null&&Vi(o,!!p,f,!0);return;case"textarea":Ze("invalid",o),v=b=p=null;for(R in f)if(f.hasOwnProperty(R)&&(M=f[R],M!=null))switch(R){case"value":p=M;break;case"defaultValue":b=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:ct(o,l,R,M,f,null)}zo(o,p,b,v),Fa(o);return;case"option":for(V in f)if(f.hasOwnProperty(V)&&(p=f[V],p!=null))switch(V){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ct(o,l,V,p,f,null)}return;case"dialog":Ze("beforetoggle",o),Ze("toggle",o),Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":Ze("load",o);break;case"video":case"audio":for(p=0;p<Mu.length;p++)Ze(Mu[p],o);break;case"image":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"embed":case"source":case"link":Ze("error",o),Ze("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in f)if(f.hasOwnProperty(K)&&(p=f[K],p!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ct(o,l,K,p,f,null)}return;default:if(Gc(l)){for(ie in f)f.hasOwnProperty(ie)&&(p=f[ie],p!==void 0&&Eb(o,l,ie,p,f,void 0));return}}for(M in f)f.hasOwnProperty(M)&&(p=f[M],p!=null&&ct(o,l,M,p,f,null))}function mB(o,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,v=null,R=null,M=null,V=null,K=null,ie=null;for(te in f){var ue=f[te];if(f.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=ue;default:p.hasOwnProperty(te)||ct(o,l,te,null,p,ue)}}for(var Q in p){var te=p[Q];if(ue=f[Q],p.hasOwnProperty(Q)&&(te!=null||ue!=null))switch(Q){case"type":v=te;break;case"name":b=te;break;case"checked":K=te;break;case"defaultChecked":ie=te;break;case"value":R=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==ue&&ct(o,l,Q,te,p,ue)}}qc(o,R,M,V,K,ie,v,b);return;case"select":te=R=M=Q=null;for(v in f)if(V=f[v],f.hasOwnProperty(v)&&V!=null)switch(v){case"value":break;case"multiple":te=V;default:p.hasOwnProperty(v)||ct(o,l,v,null,p,V)}for(b in p)if(v=p[b],V=f[b],p.hasOwnProperty(b)&&(v!=null||V!=null))switch(b){case"value":Q=v;break;case"defaultValue":M=v;break;case"multiple":R=v;default:v!==V&&ct(o,l,b,v,p,V)}l=M,f=R,p=te,Q!=null?Vi(o,!!f,Q,!1):!!p!=!!f&&(l!=null?Vi(o,!!f,l,!0):Vi(o,!!f,f?[]:"",!1));return;case"textarea":te=Q=null;for(M in f)if(b=f[M],f.hasOwnProperty(M)&&b!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ct(o,l,M,null,p,b)}for(R in p)if(b=p[R],v=f[R],p.hasOwnProperty(R)&&(b!=null||v!=null))switch(R){case"value":Q=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==v&&ct(o,l,R,b,p,v)}fh(o,Q,te);return;case"option":for(var je in f)if(Q=f[je],f.hasOwnProperty(je)&&Q!=null&&!p.hasOwnProperty(je))switch(je){case"selected":o.selected=!1;break;default:ct(o,l,je,null,p,Q)}for(V in p)if(Q=p[V],te=f[V],p.hasOwnProperty(V)&&Q!==te&&(Q!=null||te!=null))switch(V){case"selected":o.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ct(o,l,V,Q,p,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in f)Q=f[Ie],f.hasOwnProperty(Ie)&&Q!=null&&!p.hasOwnProperty(Ie)&&ct(o,l,Ie,null,p,Q);for(K in p)if(Q=p[K],te=f[K],p.hasOwnProperty(K)&&Q!==te&&(Q!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,l));break;default:ct(o,l,K,Q,p,te)}return;default:if(Gc(l)){for(var ut in f)Q=f[ut],f.hasOwnProperty(ut)&&Q!==void 0&&!p.hasOwnProperty(ut)&&Eb(o,l,ut,void 0,p,Q);for(ie in p)Q=p[ie],te=f[ie],!p.hasOwnProperty(ie)||Q===te||Q===void 0&&te===void 0||Eb(o,l,ie,Q,p,te);return}}for(var q in f)Q=f[q],f.hasOwnProperty(q)&&Q!=null&&!p.hasOwnProperty(q)&&ct(o,l,q,null,p,Q);for(ue in p)Q=p[ue],te=f[ue],!p.hasOwnProperty(ue)||Q===te||Q==null&&te==null||ct(o,l,ue,Q,p,te)}var Cb=null,Tb=null;function rp(o){return o.nodeType===9?o:o.ownerDocument}function zC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Ab(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Rb=null;function gB(){var o=window.event;return o&&o.type==="popstate"?o===Rb?!1:(Rb=o,!0):(Rb=null,!1)}var qC=typeof setTimeout=="function"?setTimeout:void 0,yB=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(o){return GC.resolve(null).then(o).catch(vB)}:qC;function vB(o){setTimeout(function(){throw o})}function lo(o){return o==="head"}function WC(o,l){var f=l,p=0,b=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(0<p&&8>p){f=p;var R=o.ownerDocument;if(f&1&&Pu(R.documentElement),f&2&&Pu(R.body),f&4)for(f=R.head,Pu(f),R=f.firstChild;R;){var M=R.nextSibling,V=R.nodeName;R[Fo]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=M}}if(b===0){o.removeChild(v),Vu(l);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:p=f.charCodeAt(0)-48;else p=0;f=v}while(f);Vu(l)}function kb(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":kb(f),Uc(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function _B(o,l,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Fo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(v=o.getAttribute("rel"),v==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(v!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(v=o.getAttribute("src"),(v!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&v&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var v=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===v)return o}else return o;if(o=cs(o.nextSibling),o===null)break}return null}function wB(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=cs(o.nextSibling),o===null))return null;return o}function Mb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function xB(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function cs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Ob=null;function KC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function YC(o,l,f){switch(l=rp(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Pu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Uc(o)}var Hr=new Map,XC=new Set;function sp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var mi=X.d;X.d={f:SB,r:EB,D:CB,C:TB,L:AB,m:RB,X:MB,S:kB,M:OB};function SB(){var o=mi.f(),l=Yh();return o||l}function EB(o){var l=ji(o);l!==null&&l.tag===5&&l.type==="form"?gE(l):mi.r(o)}var El=typeof document>"u"?null:document;function JC(o,l,f){var p=El;if(p&&typeof l=="string"&&l){var b=Qn(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),XC.has(b)||(XC.add(b),o={rel:o,crossOrigin:f,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),pn(l,"link",o),Bt(l),p.head.appendChild(l)))}}function CB(o){mi.D(o),JC("dns-prefetch",o,null)}function TB(o,l){mi.C(o,l),JC("preconnect",o,l)}function AB(o,l,f){mi.L(o,l,f);var p=El;if(p&&o&&l){var b='link[rel="preload"][as="'+Qn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Qn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Qn(f.imageSizes)+'"]')):b+='[href="'+Qn(o)+'"]';var v=b;switch(l){case"style":v=Cl(o);break;case"script":v=Tl(o)}Hr.has(v)||(o=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Hr.set(v,o),p.querySelector(b)!==null||l==="style"&&p.querySelector(Iu(v))||l==="script"&&p.querySelector(Lu(v))||(l=p.createElement("link"),pn(l,"link",o),Bt(l),p.head.appendChild(l)))}}function RB(o,l){mi.m(o,l);var f=El;if(f&&o){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Qn(p)+'"][href="'+Qn(o)+'"]',v=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(o)}if(!Hr.has(v)&&(o=h({rel:"modulepreload",href:o},l),Hr.set(v,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Lu(v)))return}p=f.createElement("link"),pn(p,"link",o),Bt(p),f.head.appendChild(p)}}}function kB(o,l,f){mi.S(o,l,f);var p=El;if(p&&o){var b=Bi(p).hoistableStyles,v=Cl(o);l=l||"default";var R=b.get(v);if(!R){var M={loading:0,preload:null};if(R=p.querySelector(Iu(v)))M.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Hr.get(v))&&Pb(o,f);var V=R=p.createElement("link");Bt(V),pn(V,"link",o),V._p=new Promise(function(K,ie){V.onload=K,V.onerror=ie}),V.addEventListener("load",function(){M.loading|=1}),V.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ip(R,l,p)}R={type:"stylesheet",instance:R,count:1,state:M},b.set(v,R)}}}function MB(o,l){mi.X(o,l);var f=El;if(f&&o){var p=Bi(f).hoistableScripts,b=Tl(o),v=p.get(b);v||(v=f.querySelector(Lu(b)),v||(o=h({src:o,async:!0},l),(l=Hr.get(b))&&Ib(o,l),v=f.createElement("script"),Bt(v),pn(v,"link",o),f.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function OB(o,l){mi.M(o,l);var f=El;if(f&&o){var p=Bi(f).hoistableScripts,b=Tl(o),v=p.get(b);v||(v=f.querySelector(Lu(b)),v||(o=h({src:o,async:!0,type:"module"},l),(l=Hr.get(b))&&Ib(o,l),v=f.createElement("script"),Bt(v),pn(v,"link",o),f.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function ZC(o,l,f,p){var b=(b=ye.current)?sp(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Cl(f.href),f=Bi(b).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Cl(f.href);var v=Bi(b).hoistableStyles,R=v.get(o);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(o,R),(v=b.querySelector(Iu(o)))&&!v._p&&(R.instance=v,R.state.loading=5),Hr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Hr.set(o,f),v||PB(b,o,f,R.state))),l&&p===null)throw Error(r(528,""));return R}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Tl(f),f=Bi(b).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Cl(o){return'href="'+Qn(o)+'"'}function Iu(o){return'link[rel="stylesheet"]['+o+"]"}function QC(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function PB(o,l,f,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),pn(l,"link",f),Bt(l),o.head.appendChild(l))}function Tl(o){return'[src="'+Qn(o)+'"]'}function Lu(o){return"script[async]"+o}function eT(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Qn(f.href)+'"]');if(p)return l.instance=p,Bt(p),p;var b=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Bt(p),pn(p,"style",b),ip(p,f.precedence,o),l.instance=p;case"stylesheet":b=Cl(f.href);var v=o.querySelector(Iu(b));if(v)return l.state.loading|=4,l.instance=v,Bt(v),v;p=QC(f),(b=Hr.get(b))&&Pb(p,b),v=(o.ownerDocument||o).createElement("link"),Bt(v);var R=v;return R._p=new Promise(function(M,V){R.onload=M,R.onerror=V}),pn(v,"link",p),l.state.loading|=4,ip(v,f.precedence,o),l.instance=v;case"script":return v=Tl(f.src),(b=o.querySelector(Lu(v)))?(l.instance=b,Bt(b),b):(p=f,(b=Hr.get(v))&&(p=h({},f),Ib(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Bt(b),pn(b,"link",p),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,ip(p,f.precedence,o));return l.instance}function ip(o,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,v=b,R=0;R<p.length;R++){var M=p[R];if(M.dataset.precedence===l)v=M;else if(v!==b)break}v?v.parentNode.insertBefore(o,v.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Pb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Ib(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var op=null;function tT(o,l,f){if(op===null){var p=new Map,b=op=new Map;b.set(f,p)}else b=op,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var v=f[b];if(!(v[Fo]||v[nn]||o==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(l)||"";R=o+R;var M=p.get(R);M?M.push(v):p.set(R,[v])}}return p}function nT(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function IB(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function rT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Du=null;function LB(){}function DB(o,l,f){if(Du===null)throw Error(r(475));var p=Du;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Cl(f.href),v=o.querySelector(Iu(b));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=ap.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=v,Bt(v);return}v=o.ownerDocument||o,f=QC(f),(b=Hr.get(b))&&Pb(f,b),v=v.createElement("link"),Bt(v);var R=v;R._p=new Promise(function(M,V){R.onload=M,R.onerror=V}),pn(v,"link",f),l.instance=v}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=ap.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function NB(){if(Du===null)throw Error(r(475));var o=Du;return o.stylesheets&&o.count===0&&Lb(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Lb(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function ap(){if(this.count--,this.count===0){if(this.stylesheets)Lb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var lp=null;function Lb(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,lp=new Map,l.forEach(jB,o),lp=null,ap.call(o))}function jB(o,l){if(!(l.state.loading&4)){var f=lp.get(o);if(f)var p=f.get(null);else{f=new Map,lp.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<b.length;v++){var R=b[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),p=R)}p&&f.set(null,p)}b=l.instance,R=b.getAttribute("data-precedence"),v=f.get(R)||p,v===p&&f.set(null,b),f.set(R,b),this.count++,p=ap.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),v?v.parentNode.insertBefore(b,v.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var Nu={$$typeof:k,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function BB(o,l,f,p,b,v,R,M){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function sT(o,l,f,p,b,v,R,M,V,K,ie,ue){return o=new BB(o,l,f,R,M,V,K,ue),l=1,v===!0&&(l|=24),v=mr(3,null,null,l),o.current=v,v.stateNode=o,l=m0(),l.refCount++,o.pooledCache=l,l.refCount++,v.memoizedState={element:p,isDehydrated:f,cache:l},v0(v),o}function iT(o){return o?(o=rl,o):rl}function oT(o,l,f,p,b,v){b=iT(b),p.context===null?p.context=b:p.pendingContext=b,p=Yi(l),p.payload={element:f},v=v===void 0?null:v,v!==null&&(p.callback=v),f=Xi(o,p,l),f!==null&&(_r(f,o,l),du(f,o,l))}function aT(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Db(o,l){aT(o,l),(o=o.alternate)&&aT(o,l)}function lT(o){if(o.tag===13){var l=nl(o,67108864);l!==null&&_r(l,o,67108864),Db(o,67108864)}}var cp=!0;function $B(o,l,f,p){var b=U.T;U.T=null;var v=X.p;try{X.p=2,Nb(o,l,f,p)}finally{X.p=v,U.T=b}}function VB(o,l,f,p){var b=U.T;U.T=null;var v=X.p;try{X.p=8,Nb(o,l,f,p)}finally{X.p=v,U.T=b}}function Nb(o,l,f,p){if(cp){var b=jb(p);if(b===null)Sb(o,l,p,up,f),uT(o,p);else if(FB(b,o,l,f,p))p.stopPropagation();else if(uT(o,p),l&4&&-1<UB.indexOf(o)){for(;b!==null;){var v=ji(b);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=Un(v.pendingLanes);if(R!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;R;){var V=1<<31-Oe(R);M.entanglements[1]|=V,R&=~V}Is(v),(ot&6)===0&&(Wh=En()+500,ku(0))}}break;case 13:M=nl(v,2),M!==null&&_r(M,v,2),Yh(),Db(v,2)}if(v=jb(p),v===null&&Sb(o,l,p,up,f),v===b)break;b=v}b!==null&&p.stopPropagation()}else Sb(o,l,p,null,f)}}function jb(o){return o=Ga(o),Bb(o)}var up=null;function Bb(o){if(up=null,o=Ni(o),o!==null){var l=i(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return up=o,null}function cT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nc()){case $o:return 2;case Es:return 8;case Cs:case ja:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var $b=!1,co=null,uo=null,fo=null,ju=new Map,Bu=new Map,ho=[],UB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(o,l){switch(o){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":ju.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(l.pointerId)}}function $u(o,l,f,p,b,v){return o===null||o.nativeEvent!==v?(o={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:v,targetContainers:[b]},l!==null&&(l=ji(l),l!==null&&lT(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function FB(o,l,f,p,b){switch(l){case"focusin":return co=$u(co,o,l,f,p,b),!0;case"dragenter":return uo=$u(uo,o,l,f,p,b),!0;case"mouseover":return fo=$u(fo,o,l,f,p,b),!0;case"pointerover":var v=b.pointerId;return ju.set(v,$u(ju.get(v)||null,o,l,f,p,b)),!0;case"gotpointercapture":return v=b.pointerId,Bu.set(v,$u(Bu.get(v)||null,o,l,f,p,b)),!0}return!1}function fT(o){var l=Ni(o.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,eh(o.priority,function(){if(f.tag===13){var p=vr();p=jc(p);var b=nl(f,p);b!==null&&_r(b,f,p),Db(f,p)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fp(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=jb(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Wc=p,f.target.dispatchEvent(p),Wc=null}else return l=ji(f),l!==null&&lT(l),o.blockedOn=f,!1;l.shift()}return!0}function dT(o,l,f){fp(o)&&f.delete(l)}function zB(){$b=!1,co!==null&&fp(co)&&(co=null),uo!==null&&fp(uo)&&(uo=null),fo!==null&&fp(fo)&&(fo=null),ju.forEach(dT),Bu.forEach(dT)}function dp(o,l){o.blockedOn===l&&(o.blockedOn=null,$b||($b=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zB)))}var hp=null;function hT(o){hp!==o&&(hp=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hp===o&&(hp=null);for(var l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],b=o[l+2];if(typeof p!="function"){if(Bb(p||f)===null)continue;break}var v=ji(f);v!==null&&(o.splice(l,3),l-=3,B0(v,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function Vu(o){function l(V){return dp(V,o)}co!==null&&dp(co,o),uo!==null&&dp(uo,o),fo!==null&&dp(fo,o),ju.forEach(l),Bu.forEach(l);for(var f=0;f<ho.length;f++){var p=ho[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ho.length&&(f=ho[0],f.blockedOn===null);)fT(f),f.blockedOn===null&&ho.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],v=f[p+1],R=b[Rn]||null;if(typeof v=="function")R||hT(f);else if(R){var M=null;if(v&&v.hasAttribute("formAction")){if(b=v,R=v[Rn]||null)M=R.formAction;else if(Bb(b)!==null)continue}else M=R.action;typeof M=="function"?f[p+1]=M:(f.splice(p,3),p-=3),hT(f)}}}function Vb(o){this._internalRoot=o}pp.prototype.render=Vb.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=vr();oT(f,p,o,l,null,null)},pp.prototype.unmount=Vb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;oT(o.current,2,null,o,null,null),Yh(),l[Di]=null}};function pp(o){this._internalRoot=o}pp.prototype.unstable_scheduleHydration=function(o){if(o){var l=$c();o={blockedOn:null,target:o,priority:l};for(var f=0;f<ho.length&&l!==0&&l<ho[f].priority;f++);ho.splice(f,0,o),f===0&&fT(o)}};var pT=e.version;if(pT!=="19.1.1")throw Error(r(527,pT,"19.1.1"));X.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(l),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var HB={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{se=mp.inject(HB),he=mp}catch{}}return Fu.createRoot=function(o,l){if(!s(o))throw Error(r(299));var f=!1,p="",b=ME,v=OE,R=PE,M=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks)),l=sT(o,1,!1,null,null,f,p,b,v,R,M,null),o[Di]=l.current,xb(o),new Vb(l)},Fu.hydrateRoot=function(o,l,f){if(!s(o))throw Error(r(299));var p=!1,b="",v=ME,R=OE,M=PE,V=null,K=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(v=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(M=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(V=f.unstable_transitionCallbacks),f.formState!==void 0&&(K=f.formState)),l=sT(o,1,!0,l,f??null,p,b,v,R,M,V,K),l.context=iT(null),f=l.current,p=vr(),p=jc(p),b=Yi(p),b.callback=null,Xi(f,b,p),f=p,l.current.lanes=f,rs(l,f),Is(l),o[Di]=l.current,xb(o),new pp(l)},Fu.version="19.1.1",Fu}var ET;function e9(){if(ET)return zb.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zb.exports=QB(),zb.exports}var t9=e9(),n9=t=>Array.from(t).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[s,i]of Object.entries(r.tools)){const a=n.tools?.[s];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${s}, but it already exists.`);n.tools||(n.tools={}),n.tools[s]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{}),HO=class{_providers=new Set;getModelContext(){return n9(this._providers)}registerModelContextProvider(t){this._providers.add(t);const e=t.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),e?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}},qO=class{_contextProvider=new HO;registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}},r9=class{_subscribers=new Set;subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const e=this.subscribe(()=>{e(),t()})})}_notifySubscribers(){const t=[];for(const e of this._subscribers)try{e()}catch(n){t.push(n)}if(t.length>0)throw t.length===1?t[0]:new AggregateError(t)}},s9=t=>t.status.type==="complete",GO=class extends r9{isEditing=!0;get attachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(t){this._attachments=t,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(t){this._text!==t&&(this._text=t,this._notifySubscribers())}setRole(t){this._role!==t&&(this._role=t,this._notifySubscribers())}setRunConfig(t){this._runConfig!==t&&(this._runConfig=t,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const t=this.getAttachmentAdapter();t&&await Promise.all(this._attachments.map(e=>t.remove(e)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const t=this._onClearAttachments();this._emptyTextAndAttachments(),await t}async clearAttachments(){const t=this._onClearAttachments();this.setAttachments([]),await t}async send(){const t=this.getAttachmentAdapter(),e=t&&this.attachments.length>0?Promise.all(this.attachments.map(async s=>s9(s)?s:await t.send(s))):[],n=this.text;this._emptyTextAndAttachments();const r={createdAt:new Date,role:this.role,content:n?[{type:"text",text:n}]:[],attachments:await e,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(r),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(t){const e=this.getAttachmentAdapter();if(!e)throw new Error("Attachments are not supported");const n=s=>{const i=this._attachments.findIndex(a=>a.id===s.id);i!==-1?this._attachments=[...this._attachments.slice(0,i),s,...this._attachments.slice(i+1)]:this._attachments=[...this._attachments,s],this._notifySubscribers()},r=e.add({file:t});if(Symbol.asyncIterator in r)for await(const s of r)n(s);else n(await r);this._notifyEventSubscribers("attachment-add"),this._notifySubscribers()}async removeAttachment(t){const e=this.getAttachmentAdapter();if(!e)throw new Error("Attachments are not supported");const n=this._attachments.findIndex(s=>s.id===t);if(n===-1)throw new Error("Attachment not found");const r=this._attachments[n];await e.remove(r),this._attachments=[...this._attachments.slice(0,n),...this._attachments.slice(n+1)],this._notifySubscribers()}_eventSubscribers=new Map;_notifyEventSubscribers(t){const e=this._eventSubscribers.get(t);if(e)for(const n of e)n()}unstable_on(t,e){const n=this._eventSubscribers.get(t);return n?n.add(e):this._eventSubscribers.set(t,new Set([e])),()=>{const r=this._eventSubscribers.get(t);r&&r.delete(e)}}},WO=class extends GO{constructor(t){super(),this.runtime=t,this.connect()}_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(t){this.runtime.append({...t,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}};let i9=(t,e=21)=>(n=e)=>{let r="",s=n|0;for(;s--;)r+=t[Math.random()*t.length|0];return r};var qg=i9("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),o9="__optimistic__",a9=()=>`${o9}${qg()}`,KO=Object.freeze({type:"running"}),YO=Object.freeze({type:"complete",reason:"unknown"}),l9=Object.freeze({type:"requires-action",reason:"tool-calls"}),c9=t=>t===KO||t===YO,_x=(t,e,n)=>t&&e?KO:n?l9:YO,ia={exports:{}},CT;function u9(){if(CT)return ia.exports;CT=1;const t=typeof Buffer<"u",e=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(c,u,d){d==null&&u!==null&&typeof u=="object"&&(d=u,u=void 0),t&&Buffer.isBuffer(c)&&(c=c.toString()),c&&c.charCodeAt(0)===65279&&(c=c.slice(1));const h=JSON.parse(c,u);if(h===null||typeof h!="object")return h;const m=d&&d.protoAction||"error",g=d&&d.constructorAction||"error";if(m==="ignore"&&g==="ignore")return h;if(m!=="ignore"&&g!=="ignore"){if(e.test(c)===!1&&n.test(c)===!1)return h}else if(m!=="ignore"&&g==="ignore"){if(e.test(c)===!1)return h}else if(n.test(c)===!1)return h;return s(h,{protoAction:m,constructorAction:g,safe:d&&d.safe})}function s(c,{protoAction:u="error",constructorAction:d="error",safe:h}={}){let m=[c];for(;m.length;){const g=m;m=[];for(const y of g){if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(y,"__proto__")){if(h===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete y.__proto__}if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(y,"constructor")&&Object.prototype.hasOwnProperty.call(y.constructor,"prototype")){if(h===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete y.constructor}for(const _ in y){const x=y[_];x&&typeof x=="object"&&m.push(x)}}}return c}function i(c,u,d){const{stackTraceLimit:h}=Error;Error.stackTraceLimit=0;try{return r(c,u,d)}finally{Error.stackTraceLimit=h}}function a(c,u){const{stackTraceLimit:d}=Error;Error.stackTraceLimit=0;try{return r(c,u,{safe:!0})}catch{return}finally{Error.stackTraceLimit=d}}return ia.exports=i,ia.exports.default=i,ia.exports.parse=i,ia.exports.safeParse=a,ia.exports.scan=s,ia.exports}var f9=u9();const TT=Pa(f9);function d9(t){const e=["ROOT"];let n=-1,r=null;const s=[];let i;function a(){i!==void 0&&(s.push(JSON.parse('"'+i+'"')),i=void 0)}function c(m,g,y){switch(m){case'"':{n=g,e.pop(),e.push(y),e.push("INSIDE_STRING"),a();break}case"f":case"t":case"n":{n=g,r=g,e.pop(),e.push(y),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(y),e.push("INSIDE_NUMBER"),a();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=g,e.pop(),e.push(y),e.push("INSIDE_NUMBER"),a();break}case"{":{n=g,e.pop(),e.push(y),e.push("INSIDE_OBJECT_START"),a();break}case"[":{n=g,e.pop(),e.push(y),e.push("INSIDE_ARRAY_START"),a();break}}}function u(m,g){switch(m){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=g,e.pop(),i=s.pop();break}}}function d(m,g){switch(m){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA"),i=(Number(i)+1).toString();break}case"]":{n=g,e.pop(),i=s.pop();break}}}for(let m=0;m<t.length;m++){const g=t[m];switch(e[e.length-1]){case"ROOT":c(g,m,"FINISH");break;case"INSIDE_OBJECT_START":{switch(g){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY"),i="";break}case"}":{n=m,e.pop(),i=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(g){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY"),i="";break}}break}case"INSIDE_OBJECT_KEY":{switch(g){case'"':{e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{e.push("INSIDE_STRING_ESCAPE"),i+=g;break}default:{i+=g;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(g){case":":{e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{c(g,m,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{u(g,m);break}case"INSIDE_STRING":{switch(g){case'"':{e.pop(),n=m,i=s.pop();break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:n=m}break}case"INSIDE_ARRAY_START":{switch(g){case"]":{n=m,e.pop(),i=s.pop();break}default:{n=m,i="0",c(g,m,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(g){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA"),i=(Number(i)+1).toString();break}case"]":{n=m,e.pop(),i=s.pop();break}default:{n=m;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{c(g,m,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),e[e.length-1]==="INSIDE_STRING"?n=m:e[e.length-1]==="INSIDE_OBJECT_KEY"&&(i+=g);break}case"INSIDE_NUMBER":{switch(g){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=m;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),i=s.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(g,m),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(g,m);break}case"}":{e.pop(),i=s.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(g,m);break}case"]":{e.pop(),i=s.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(g,m);break}default:{e.pop(),i=s.pop();break}}break}case"INSIDE_LITERAL":{const _=t.substring(r,m+1);!"false".startsWith(_)&&!"true".startsWith(_)&&!"null".startsWith(_)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?u(g,m):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(g,m)):n=m;break}}}let h=t.slice(0,n+1);for(let m=e.length-1;m>=0;m--)switch(e[m]){case"INSIDE_STRING":{h+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{h+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{h+="]";break}case"INSIDE_LITERAL":{const y=t.substring(r,t.length);"true".startsWith(y)?h+="true".slice(y.length):"false".startsWith(y)?h+="false".slice(y.length):"null".startsWith(y)&&(h+="null".slice(y.length))}}return[h,s]}var Wb=Symbol("aui.parse-partial-json-object.meta"),h9=t=>{if(t.length===0)return{[Wb]:{state:"partial",partialPath:[]}};try{const e=TT.parse(t);if(typeof e!="object"||e===null)throw new Error("argsText is expected to be an object");return e[Wb]={state:"complete",partialPath:[]},e}catch{try{const[e,n]=d9(t),r=TT.parse(e);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Wb]={state:"partial",partialPath:n},r}catch{return}}},Gg=(t,e,n)=>{const{role:r,id:s,createdAt:i,attachments:a,status:c,metadata:u}=t,d={id:s??e,createdAt:i??new Date},h=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content,m=({image:g,...y})=>g.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...y,image:g}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&a?.length)throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&c)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&u?.steps)throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...d,role:r,content:h.map(g=>{const y=g.type;switch(y){case"text":case"reasoning":return g.text.trim().length===0?null:g;case"file":case"source":return g;case"image":return m(g);case"tool-call":{const{parentId:_,...x}=g,E={...x,toolCallId:g.toolCallId??"tool-"+qg(),..._!==void 0&&{parentId:_}};return g.args?{...E,args:g.args,argsText:g.argsText??JSON.stringify(g.args)}:{...E,args:h9(g.argsText??"")??{},argsText:g.argsText??""}}default:{const _=y;throw new Error(`Unsupported assistant message part type: ${_}`)}}}).filter(g=>!!g),status:c??n,metadata:{unstable_state:u?.unstable_state??null,unstable_annotations:u?.unstable_annotations??[],unstable_data:u?.unstable_data??[],custom:u?.custom??{},steps:u?.steps??[]}};case"user":return{...d,role:r,content:h.map(g=>{const y=g.type;switch(y){case"text":case"image":case"audio":case"file":return g;default:{const _=y;throw new Error(`Unsupported user message part type: ${_}`)}}}),attachments:a??[],metadata:{custom:u?.custom??{}}};case"system":if(h.length!==1||h[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...d,role:r,content:h,metadata:{custom:u?.custom??{}}};default:{const g=r;throw new Error(`Unknown message role: ${g}`)}}},wx={fromArray:t=>{const e=t.map(n=>Gg(n,qg(),_x(!1,!1,!1)));return{messages:e.map((n,r)=>({parentId:r>0?e[r-1].id:null,message:n}))}}},gm=t=>t.next?gm(t.next):"current"in t?t:null,p9=class{constructor(t){this.func=t}_value=null;get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}},xx=class{messages=new Map;head=null;root={children:[],next:null};performOp(t,e,n){const r=e.prev??this.root,s=t??this.root;if(!(n==="relink"&&r===s)){if(n!=="link"&&(r.children=r.children.filter(i=>i!==e.current.id),r.next===e)){const i=r.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");r.next=a}if(n!=="cut"){for(let i=t;i;i=i.prev)if(i.current.id===e.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");s.children=[...s.children,e.current.id],(gm(e)===this.head||s.next===null)&&(s.next=e),e.prev=t}}}_messages=new p9(()=>{const t=new Array(this.head?.level??0);for(let e=this.head;e;e=e.prev)t[e.level]=e.current;return t});get headId(){return this.head?.current.id??null}getMessages(){return this._messages.value}addOrUpdateMessage(t,e){const n=this.messages.get(e.id),r=t?this.messages.get(t):null;if(r===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(n){n.current=e,this.performOp(r,n,"relink"),this._messages.dirty();return}const s={prev:r,current:e,next:null,children:[],level:r?r.level+1:0};this.messages.set(e.id,s),this.performOp(r,s,"link"),this.head===r&&(this.head=s),this._messages.dirty()}getMessage(t){const e=this.messages.get(t);if(!e)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:e.prev?.current.id??null,message:e.current}}appendOptimisticMessage(t,e){let n;do n=a9();while(this.messages.has(n));return this.addOrUpdateMessage(t,Gg(e,n,{type:"running"})),n}deleteMessage(t,e){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const r=e===void 0?n.prev:e===null?null:this.messages.get(e);if(r===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const s of n.children){const i=this.messages.get(s);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(r,i,"relink")}this.performOp(null,n,"cut"),this.messages.delete(t),this.head===n&&(this.head=gm(r??this.root)),this._messages.dirty()}getBranches(t){const e=this.messages.get(t);if(!e)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:n}=e.prev??this.root;return n}switchToBranch(t){const e=this.messages.get(t);if(!e)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const n=e.prev??this.root;n.next=e,this.head=gm(e),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const e=this.messages.get(t);if(!e)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(e.children.length>0){const n=r=>{for(const s of r.children){const i=this.messages.get(s);i&&(n(i),this.messages.delete(s))}};n(e),e.children=[],e.next=null}this.head=e;for(let n=e;n;n=n.prev)n.prev&&(n.prev.next=n);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){const t=[];for(const[,e]of this.messages)t.push({message:e.current,parentId:e.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:t}}import({headId:t,messages:e}){for(const{message:n,parentId:r}of e)this.addOrUpdateMessage(r,n);this.resetHead(t??e.at(-1)?.message.id??null)}},Wg=class{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else this._connection?.(),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}},gs=Symbol("skip-update"),Sx=class extends Wg{constructor(t){super(),this.binding=t}get path(){return this.binding.path}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){const t=this.binding.getState();t!==gs&&(this._previousState=t),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState};_connect(){const t=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(t)}},yp=class{constructor(t,e){this._core=t,this._threadListBinding=e,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const e=this._core.getState();return this._threadListBinding.rename(e.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,e){let n=this._core.getState().isMain,r=this._core.getState().id;return this.subscribe(()=>{const s=this._core.getState(),i=s.isMain,a=s.id;n===i&&r===a||(n=i,r=a,!(t==="switched-to"&&!i)&&(t==="switched-away"&&i||e()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}};function m9(t,e){if(t===void 0&&e===void 0)return!0;if(t===void 0||e===void 0)return!1;for(const n of Object.keys(t)){const r=t[n],s=e[n];if(!Object.is(r,s))return!1}return!0}var ds=class extends Wg{constructor(t){super(),this.binding=t;const e=t.getState();if(e===gs)throw new Error("Entry not available in the store");this._previousState=e}get path(){return this.binding.path}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){const t=this.binding.getState();return t===gs||m9(t,this._previousState)?!1:(this._previousState=t,!0)}_connect(){const t=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(t)}},fc=Symbol("innerMessage"),g9=t=>t[fc],td=t=>t.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`),XO=class{constructor(t){this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}},JO=class extends XO{constructor(t,e){super(t),this._composerApi=e}remove(){const t=this._composerApi.getState();if(!t)throw new Error("Composer is not available");return t.removeAttachment(this.getState().id)}},y9=class extends JO{get source(){return"thread-composer"}},b9=class extends JO{get source(){return"edit-composer"}},v9=class extends XO{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}},ZO=class extends Wg{constructor(t){super(),this.config=t}getState(){return this.config.binding.getState()}outerSubscribe(t){return this.config.binding.subscribe(t)}_connect(){const t=()=>{this.notifySubscribers()};let e=this.config.binding.getState(),n=e?.unstable_on(this.config.event,t);const r=()=>{const i=this.config.binding.getState();i!==e&&(e=i,n?.(),n=this.config.binding.getState()?.unstable_on(this.config.event,t))},s=this.outerSubscribe(r);return()=>{s?.(),n?.()}}},QO=Object.freeze([]),eP=Object.freeze({}),_9=t=>Object.freeze({type:"thread",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,attachments:t?.attachments??QO,text:t?.text??"",role:t?.role??"user",runConfig:t?.runConfig??eP,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""}),w9=t=>Object.freeze({type:"edit",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,text:t?.text??"",role:t?.role??"user",attachments:t?.attachments??QO,runConfig:t?.runConfig??eP,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""}),tP=class{constructor(t){this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.setText(t)}setRunConfig(t){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.setRunConfig(t)}addAttachment(t){const e=this._core.getState();if(!e)throw new Error("Composer is not available");return e.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const e=this._core.getState();if(!e)throw new Error("Composer is not available");e.setRole(t)}subscribe(t){return this._core.subscribe(t)}_eventSubscriptionSubjects=new Map;unstable_on(t,e){let n=this._eventSubscriptionSubjects.get(t);return n||(n=new ZO({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,n)),n.subscribe(e)}},x9=class extends tP{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(t){const e=new Sx({path:t.path,getState:()=>_9(t.getState()),subscribe:n=>t.subscribe(n)});super({path:t.path,getState:()=>t.getState(),subscribe:n=>e.subscribe(n)}),this._getState=e.getState.bind(e),this.__internal_bindMethods()}getState(){return this._getState()}getAttachmentByIndex(t){return new y9(new ds({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:t},ref:this.path.ref+`${this.path.ref}.attachments[${t}]`},getState:()=>{const n=this.getState().attachments[t];return n?{...n,source:"thread-composer"}:gs},subscribe:e=>this._core.subscribe(e)}),this._core)}},S9=class extends tP{constructor(t,e){const n=new Sx({path:t.path,getState:()=>w9(t.getState()),subscribe:r=>t.subscribe(r)});super({path:t.path,getState:()=>t.getState(),subscribe:r=>n.subscribe(r)}),this._beginEdit=e,this._getState=n.getState.bind(n),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}_getState;__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(t){return new b9(new ds({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:t},ref:this.path.ref+`${this.path.ref}.attachments[${t}]`},getState:()=>{const n=this.getState().attachments[t];return n?{...n,source:"edit-composer"}:gs},subscribe:e=>this._core.subscribe(e)}),this._core)}},AT=Symbol.for("aui.tool-response"),E9=class R_{get[AT](){return!0}artifact;result;isError;constructor(e){e.artifact!==void 0&&(this.artifact=e.artifact),this.result=e.result,this.isError=e.isError??!1}static[Symbol.hasInstance](e){return typeof e=="object"&&e!==null&&AT in e}static toResponse(e){return e instanceof R_?e:new R_({result:e===void 0?"<no result>":e})}},RT=class{constructor(t,e,n){this.contentBinding=t,this.messageApi=e,this.threadApi=n,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const e=this.contentBinding.getState();if(!e)throw new Error("Message part is not available");if(e.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const n=this.messageApi.getState();if(!n)throw new Error("Message is not available");const r=e.toolName,s=e.toolCallId,i=E9.toResponse(t);this.threadApi.getState().addToolResult({messageId:n.id,toolName:r,toolCallId:s,result:i.result,artifact:i.artifact,isError:i.isError})}subscribe(t){return this.contentBinding.subscribe(t)}},Wm=class extends Wg{constructor(t){super(),this.binding=t}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(t){return this.binding.subscribe(t)}_connect(){const t=()=>{this.notifySubscribers()};let e=this.binding.getState(),n=e?.subscribe(t);const r=()=>{const i=this.binding.getState();i!==e&&(e=i,n?.(),n=this.binding.getState()?.subscribe(t),t())},s=this.outerSubscribe(r);return()=>{s?.(),n?.()}}},bp=Object.freeze({type:"complete"}),C9=(t,e,n)=>{if(t.role!=="assistant")return bp;if(n.type==="tool-call")return n.result?bp:t.status;const r=e===Math.max(0,t.content.length-1);return t.status.type==="requires-action"?bp:r?t.status:bp},kT=(t,e)=>{const n=t.content[e];if(!n)return gs;const r=C9(t,e,n);return Object.freeze({...n,[fc]:n[fc],status:r})},T9=class{constructor(t,e){this._core=t,this._threadBinding=e,this.composer=new S9(new Wm({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:n=>this._threadBinding.subscribe(n)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(t={}){const e=this._getEditComposerRuntimeCore(),n=e??this._threadBinding.getState().composer,r=e??n,{runConfig:s=r.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:s})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){const t=this._core.getState();if(this._threadBinding.getState().speech?.messageId===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const e=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:e.id,type:t})}switchToBranch({position:t,branchId:e}){const n=this._core.getState();if(e&&t)throw new Error("May not specify both branchId and position");if(!e&&!t)throw new Error("Must specify either branchId or position");const s=this._threadBinding.getState().getBranches(n.id);let i=e;if(t==="previous"?i=s[n.branchNumber-2]:t==="next"&&(i=s[n.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return td(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new RT(new ds({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>kT(this.getState(),t),subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new RT(new ds({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const e=this._core.getState(),n=e.content.findIndex(r=>r.type==="tool-call"&&r.toolCallId===t);return n===-1?gs:kT(e,n)},subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new v9(new ds({path:{...this.path,ref:this.path.ref+`${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments?.[t];return n?{...n,source:"message"}:gs},subscribe:e=>this._core.subscribe(e)}))}},A9=t=>({parentId:t.parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{},...t.stream?{stream:t.stream}:{}}),R9=t=>({parentId:t.parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{}}),k9=(t,e)=>typeof e=="string"?{createdAt:new Date,parentId:t.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:e}],attachments:[],metadata:{custom:{}}}:{createdAt:e.createdAt??new Date,parentId:e.parentId??t.at(-1)?.id??null,sourceId:e.sourceId??null,role:e.role??"user",content:e.content,attachments:e.attachments??[],metadata:e.metadata??{custom:{}},runConfig:e.runConfig??{},startRun:e.startRun},M9=(t,e)=>{const n=t.messages.at(-1);return Object.freeze({threadId:e.id,metadata:e,capabilities:t.capabilities,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:n?.role!=="assistant"?!1:n.status.type==="running",messages:t.messages,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech})},nP=class{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(t,e){const n=new ds({path:t.path,getState:()=>M9(t.getState(),e.getState()),subscribe:r=>{const s=t.subscribe(r),i=e.subscribe(r);return()=>{s(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>n.getState(),outerSubscribe:r=>t.outerSubscribe(r),subscribe:r=>t.subscribe(r)},this.composer=new x9(new Wm({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:r=>this._threadBinding.subscribe(r)})),this.__internal_bindMethods()}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(k9(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const e=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(R9(e))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(A9(t))}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{const e=this._threadBinding.getState().messages,n=e[t];if(n)return{message:n,parentId:e[t-1]?.id??null}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,e){return new T9(new ds({path:t,getState:()=>{const{message:n,parentId:r}=e()??{},{messages:s,speech:i}=this._threadBinding.getState();if(!n||r===void 0)return gs;const a=this._threadBinding.getState(),c=a.getBranches(n.id),u=a.getSubmittedFeedback(n.id);return{...n,[fc]:n[fc],isLast:s.at(-1)?.id===n.id,parentId:r,branchNumber:c.indexOf(n.id)+1,branchCount:c.length,speech:i?.messageId===n.id?i:void 0,submittedFeedback:u}},subscribe:n=>this._threadBinding.subscribe(n)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(t,e){let n=this._eventSubscriptionSubjects.get(t);return n||(n=new ZO({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,n)),n.subscribe(e)}},O9=t=>({mainThreadId:t.mainThreadId,newThread:t.newThreadId,threads:t.threadIds,archivedThreads:t.archivedThreadIds,isLoading:t.isLoading,threadItems:t.threadData}),vp=(t,e)=>{if(e===void 0)return gs;const n=t.getItemById(e);return n?{id:n.id,threadId:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===t.mainThreadId}:gs},P9=class{constructor(t,e=nP){this._core=t,this._runtimeFactory=e;const n=new Sx({path:{},getState:()=>O9(t),subscribe:r=>t.subscribe(r)});this._getState=n.getState.bind(n),this._mainThreadListItemRuntime=new yp(new ds({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>vp(this._core,this._core.mainThreadId),subscribe:r=>this._core.subscribe(r)}),this._core),this.main=new e(new Wm({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:r=>t.subscribe(r)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}_getState;__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Wm({path:{ref:"threads[threadId="+JSON.stringify(t)+"]",threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:e=>this._core.subscribe(e)}),this.mainItem)}getItemByIndex(t){return new yp(new ds({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>vp(this._core,this._core.threadIds[t]),subscribe:e=>this._core.subscribe(e)}),this._core)}getArchivedItemByIndex(t){return new yp(new ds({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>vp(this._core,this._core.archivedThreadIds[t]),subscribe:e=>this._core.subscribe(e)}),this._core)}getItemById(t){return new yp(new ds({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>vp(this._core,t),subscribe:e=>this._core.subscribe(e)}),this._core)}},I9=class{accept="image/*";async add(t){return{id:t.file.name,type:"image",name:t.file.name,contentType:t.file.type,file:t.file,status:{type:"requires-action",reason:"composer-send"}}}async send(t){return{...t,status:{type:"complete"},content:[{type:"image",image:await L9(t.file)}]}}async remove(){}},L9=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)}),D9=class{accept="text/plain,text/html,text/markdown,text/csv,text/xml,text/json,text/css";async add(t){return{id:t.file.name,type:"document",name:t.file.name,contentType:t.file.type,file:t.file,status:{type:"requires-action",reason:"composer-send"}}}async send(t){return{...t,status:{type:"complete"},content:[{type:"text",text:`<attachment name=${t.name}>
${await N9(t.file)}
</attachment>`}]}}async remove(){}},N9=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsText(t)});function Kb(t,e){if(e==="*")return!0;const n=e.split(",").map(i=>i.trim().toLowerCase()),r="."+t.name.split(".").pop().toLowerCase(),s=t.type.toLowerCase();for(const i of n){if(i.startsWith(".")&&i===r||i.includes("/")&&i===s)return!0;if((i==="image/*"||i==="video/*"||i==="audio/*")&&i.endsWith("/*")){const a=i.split("/")[0];if(s.startsWith(a+"/"))return!0}}return!1}var j9=class{_adapters;accept;constructor(t){this._adapters=t;const e=t.findIndex(n=>n.accept==="*");if(e!==-1){if(e!==t.length-1)throw new Error("A wildcard adapter (handling all files) can only be specified as the last adapter.");this.accept="*"}else this.accept=t.map(n=>n.accept).join(",")}add(t){for(const e of this._adapters)if(Kb(t.file,e.accept))return e.add(t);throw new Error("No matching adapter found for file")}async send(t){const e=this._adapters.slice();for(const n of e)if(Kb(t.file,n.accept))return n.send(t);throw new Error("No matching adapter found for attachment")}async remove(t){const e=this._adapters.slice();for(const n of e)if(Kb({name:t.name,type:t.contentType},n.accept))return n.remove(t);throw new Error("No matching adapter found for attachment")}},B9=C.createContext(null),$9=()=>C.useContext(B9),oa=Object.freeze([]),ya="DEFAULT_THREAD_ID",V9=Object.freeze([ya]),rP=Object.freeze({id:ya,remoteId:void 0,externalId:void 0,status:"regular"}),U9=Promise.resolve(),MT=Object.freeze({[ya]:rP}),F9=class{constructor(t={},e){this.adapter=t,this.threadFactory=e,this._mainThread=this.threadFactory(),this.__internal_setAdapter(t,!0)}_mainThreadId=ya;_threads=V9;_archivedThreads=oa;_threadData=MT;get isLoading(){return this.adapter.isLoading??!1}get newThreadId(){}get threadIds(){return this._threads}get archivedThreadIds(){return this._archivedThreads}get threadData(){return this._threadData}getLoadThreadsPromise(){return U9}_mainThread;get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){return this._mainThread}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getItemById(t){for(const e of this.adapter.threads??[])if(e.id===t)return e;for(const e of this.adapter.archivedThreads??[])if(e.id===t)return e;if(t===ya)return rP}__internal_setAdapter(t,e=!1){const n=this.adapter;this.adapter=t;const r=t.threadId??ya,s=t.threads??oa,i=t.archivedThreads??oa,a=n.threadId??ya,c=n.threads??oa,u=n.archivedThreads??oa;!e&&a===r&&c===s&&u===i||(this._threadData={...MT,...Object.fromEntries(t.threads?.map(d=>[d.id,{...d,remoteId:d.remoteId,externalId:d.externalId,status:"regular"}])??[]),...Object.fromEntries(t.archivedThreads?.map(d=>[d.id,{...d,remoteId:d.remoteId,externalId:d.externalId,status:"archived"}])??[])},c!==s&&(this._threads=this.adapter.threads?.map(d=>d.id)??oa),u!==i&&(this._archivedThreads=this.adapter.archivedThreads?.map(d=>d.id)??oa),a!==r&&(this._mainThreadId=r,this._mainThread=this.threadFactory()),this._notifySubscribers())}async switchToThread(t){if(this._mainThreadId===t)return;const e=this.adapter.onSwitchToThread;if(!e)throw new Error("External store adapter does not support switching to thread");e(t)}async switchToNewThread(){const t=this.adapter.onSwitchToNewThread;if(!t)throw new Error("External store adapter does not support switching to new thread");t()}async rename(t,e){const n=this.adapter.onRename;if(!n)throw new Error("External store adapter does not support renaming");n(t,e)}async detach(){}async archive(t){const e=this.adapter.onArchive;if(!e)throw new Error("External store adapter does not support archiving");e(t)}async unarchive(t){const e=this.adapter.onUnarchive;if(!e)throw new Error("External store adapter does not support unarchiving");e(t)}async delete(t){const e=this.adapter.onDelete;if(!e)throw new Error("External store adapter does not support deleting");e(t)}initialize(){throw new Error("Method not implemented.")}generateTitle(){throw new Error("Method not implemented.")}_subscriptions=new Set;subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}_notifySubscribers(){for(const t of this._subscriptions)t()}},OT=class{cache=new WeakMap;convertMessages(t,e){return t.map((n,r)=>{const s=this.cache.get(n),i=e(s,n,r);return this.cache.set(n,i),i})}},z9=class extends GO{constructor(t,e,{parentId:n,message:r}){super(),this.runtime=t,this.endEditCallback=e,this._parentId=n,this._sourceId=r.id,this._previousText=td(r),this.setText(this._previousText),this.setRole(r.role),this.setAttachments(r.attachments??[]),this._nonTextParts=r.content.filter(s=>s.type!=="text"),this.setRunConfig({...t.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){return this.runtime.adapters?.attachments}_nonTextParts;_previousText;_parentId;_sourceId;async handleSend(t){td(t)!==this._previousText&&this.runtime.append({...t,content:[...t.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}},H9=class{constructor(t){this._contextProvider=t}_subscriptions=new Set;_isInitialized=!1;repository=new xx;get messages(){return this.repository.getMessages()}get state(){let t;for(const e of this.messages)if(e.role==="assistant"){t=e;break}return t?.metadata.unstable_state??null}composer=new WO(this);getModelContext(){return this._contextProvider.getModelContext()}_editComposers=new Map;getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new z9(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const e=this._eventSubscribers.get(t);if(e)for(const n of e)n()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}_submittedFeedback={};getSubmittedFeedback(t){return this._submittedFeedback[t]}submitFeedback({messageId:t,type:e}){const n=this.adapters?.feedback;if(!n)throw new Error("Feedback adapter not configured");const{message:r}=this.repository.getMessage(t);n.submit({message:r,type:e}),this._submittedFeedback[t]={type:e},this._notifySubscribers()}_stopSpeaking;speech;speak(t){const e=this.adapters?.speech;if(!e)throw new Error("Speech adapter not configured");const{message:n}=this.repository.getMessage(t);this._stopSpeaking?.();const r=e.speak(td(n)),s=r.subscribe(()=>{r.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:r.status},this._notifySubscribers()});this.speech={messageId:t,status:r.status},this._notifySubscribers(),this._stopSpeaking=()=>{r.cancel(),s(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(wx.fromArray(t??[]))}_eventSubscribers=new Map;unstable_on(t,e){if(t==="model-context-update")return this._contextProvider.subscribe?.(e)??(()=>{});const n=this._eventSubscribers.get(t);return n?n.add(e):this._eventSubscribers.set(t,new Set([e])),()=>{this._eventSubscribers.get(t).delete(e)}}},q9=Object.freeze([]),G9=(t,e)=>t&&e[e.length-1]?.role!=="assistant",W9=class extends H9{_assistantOptimisticId=null;_capabilities={switchToBranch:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,attachments:!1,feedback:!1};get capabilities(){return this._capabilities}_messages;isDisabled;get isLoading(){return this._store.isLoading??!1}get messages(){return this._messages}get adapters(){return this._store.adapters}suggestions=[];extras=void 0;_converter=new OT;_store;beginEdit(t){if(!this._store.onEdit)throw new Error("Runtime does not support editing.");super.beginEdit(t)}constructor(t,e){super(t),this.__internal_setAdapter(e)}__internal_setAdapter(t){if(this._store===t)return;const e=t.isRunning??!1;this.isDisabled=t.isDisabled??!1;const n=this._store;this._store=t,this.extras=t.extras,this.suggestions=t.suggestions??q9,this._capabilities={switchToBranch:this._store.setMessages!==void 0,edit:this._store.onEdit!==void 0,reload:this._store.onReload!==void 0,cancel:this._store.onCancel!==void 0,speech:this._store.adapters?.speech!==void 0,unstable_copy:this._store.unstable_capabilities?.copy!==!1,attachments:!!this._store.adapters?.attachments,feedback:!!this._store.adapters?.feedback};let r;if(t.messageRepository){if(n&&n.isRunning===t.isRunning&&n.messageRepository===t.messageRepository){this._notifySubscribers();return}this.repository.clear(),this._assistantOptimisticId=null,this.repository.import(t.messageRepository),r=this.repository.getMessages()}else if(t.messages){if(n){if(n.convertMessage!==t.convertMessage)this._converter=new OT;else if(n.isRunning===t.isRunning&&n.messages===t.messages){this._notifySubscribers();return}}r=t.convertMessage?this._converter.convertMessages(t.messages,(s,i,a)=>{if(!t.convertMessage)return i;const c=a===t.messages.length-1,u=_x(c,e,!1);if(s&&(s.role!=="assistant"||!c9(s.status)||s.status===u))return s;const d=t.convertMessage(i,a),h=Gg(d,a.toString(),u);return h[fc]=i,h}):t.messages;for(let s=0;s<r.length;s++){const i=r[s],a=r[s-1];this.repository.addOrUpdateMessage(a?.id??null,i)}}else throw new Error("ExternalStoreAdapter must provide either 'messages' or 'messageRepository'");r.length>0&&this.ensureInitialized(),(n?.isRunning??!1)!==(t.isRunning??!1)&&(t.isRunning?this._notifyEventSubscribers("run-start"):this._notifyEventSubscribers("run-end")),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null),G9(e,r)&&(this._assistantOptimisticId=this.repository.appendOptimisticMessage(r.at(-1)?.id??null,{role:"assistant",content:[]})),this.repository.resetHead(this._assistantOptimisticId??r.at(-1)?.id??null),this._messages=this.repository.getMessages(),this._notifySubscribers()}switchToBranch(t){if(!this._store.setMessages)throw new Error("Runtime does not support switching branches.");this.repository.switchToBranch(t),this.updateMessages(this.repository.getMessages())}async append(t){if(t.parentId!==(this.messages.at(-1)?.id??null)){if(!this._store.onEdit)throw new Error("Runtime does not support editing messages.");await this._store.onEdit(t)}else await this._store.onNew(t)}async startRun(t){if(!this._store.onReload)throw new Error("Runtime does not support reloading messages.");await this._store.onReload(t.parentId,t)}async resumeRun(t){if(!this._store.onResume)throw new Error("Runtime does not support resuming runs.");await this._store.onResume(t)}unstable_loadExternalState(t){if(!this._store.onLoadExternalState)throw new Error("Runtime does not support importing states.");this._store.onLoadExternalState(t)}cancelRun(){if(!this._store.onCancel)throw new Error("Runtime does not support cancelling runs.");this._store.onCancel(),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null);let t=this.repository.getMessages();const e=t[t.length-1];e?.role==="user"&&e.id===t.at(-1)?.id?(this.repository.deleteMessage(e.id),this.composer.text.trim()||this.composer.setText(td(e)),t=this.repository.getMessages()):this._notifySubscribers(),setTimeout(()=>{this.updateMessages(t)},0)}addToolResult(t){if(!this._store.onAddToolResult&&!this._store.onAddToolResult)throw new Error("Runtime does not support tool results.");this._store.onAddToolResult?.(t)}reset(t){const e=new xx;e.import(wx.fromArray(t??[])),this.updateMessages(e.getMessages())}import(t){this._assistantOptimisticId=null,super.import(t),this._store.onImport&&this._store.onImport(this.repository.getMessages())}updateMessages=t=>{this._store.convertMessage!==void 0?this._store.setMessages?.(t.flatMap(g9).filter(n=>n!=null)):this._store.setMessages?.(t)}},PT=t=>t.adapters?.threadList??{},K9=class extends qO{threads;constructor(t){super(),this.threads=new F9(PT(t),()=>new W9(this._contextProvider,t))}setAdapter(t){this.threads.__internal_setAdapter(PT(t)),this.threads.getMainThreadRuntimeCore().__internal_setAdapter(t)}},Y9=t=>{const[e]=C.useState(()=>new K9(t));C.useEffect(()=>{e.setAdapter(t)});const{modelContext:n}=$9()??{};return C.useEffect(()=>{if(n)return e.registerModelContextProvider(n)},[n,e]),C.useMemo(()=>new gP(e),[e])},Kg=t=>typeof t=="string"?{scope:t.split(".")[0],event:t}:{scope:t.scope,event:t.event},Df=(t,e,n)=>e===t;const IT=t=>{let e;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const g=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,s,c);return c},X9=(t=>t?IT(t):IT),J9=t=>t;function Z9(t,e=J9){const n=Ee.useSyncExternalStore(t.subscribe,Ee.useCallback(()=>e(t.getState()),[t,e]),Ee.useCallback(()=>e(t.getInitialState()),[t,e]));return Ee.useDebugValue(n),n}const LT=t=>{const e=X9(t),n=r=>Z9(e,r);return Object.assign(n,e),n},Mi=(t=>t?LT(t):LT);var Q9=()=>{const t=new Set;return Mi(()=>({isAtBottom:!0,scrollToBottom:()=>{for(const e of t)e()},onScrollToBottom:e=>(t.add(e),()=>{t.delete(e)})}))};function e$(t,e){function n(r){const s=C.useContext(t);if(!r?.optional&&!s)throw new Error(`This component must be used within ${e}.`);return s}return n}function sP(t,e){function n(s){const i=t(s);return i?i[e]:null}function r(s){let i=!1,a;typeof s=="function"?a=s:s&&typeof s=="object"&&(i=!!s.optional,a=s.selector);const c=n({optional:i});return c?a?c(a):c():null}return{[e]:r,[`${e}Store`]:n}}var iP=C.createContext(null),t$=e$(iP,"ThreadPrimitive.Viewport"),{useThreadViewport:n$,useThreadViewportStore:oP}=sP(t$,"useThreadViewport"),Km=t=>t,r$=()=>{const t=oP({optional:!0}),[e]=C.useState(()=>Q9());return C.useEffect(()=>t?.getState().onScrollToBottom(()=>{e.getState().scrollToBottom()}),[t,e]),C.useEffect(()=>{if(t)return e.subscribe(n=>{t.getState().isAtBottom!==n.isAtBottom&&Km(t).setState({isAtBottom:n.isAtBottom})})},[e,t]),e},aP=({children:t})=>{const e=r$(),[n]=C.useState(()=>({useThreadViewport:e}));return w.jsx(iP.Provider,{value:n,children:t})},bn=t=>{const e=t.get;return e.source=t.source,e.query=t.query,e},Oo=()=>()=>{},lP=C.createContext({threads:bn({source:null,query:{},get:()=>{throw new Error("Threads is only available inside <AssistantProvider />")}}),toolUIs:bn({source:null,query:{},get:()=>{throw new Error("ToolUIs is only available inside <AssistantProvider />")}}),threadListItem:bn({source:null,query:{},get:()=>{throw new Error("ThreadListItem is only available inside <AssistantProvider />")}}),thread:bn({source:null,query:{},get:()=>{throw new Error("Thread is only available inside <AssistantProvider />")}}),composer:bn({source:null,query:{},get:()=>{throw new Error("Composer is only available inside <AssistantProvider />")}}),message:bn({source:null,query:{},get:()=>{throw new Error("Message is only available inside <ThreadPrimitive.Messages />")}}),part:bn({source:null,query:{},get:()=>{throw new Error("Part is only available inside <MessagePrimitive.Parts />")}}),attachment:bn({source:null,query:{},get:()=>{throw new Error("Attachment is only available inside <MessagePrimitive.Attachments /> or <ComposerPrimitive.Attachments />")}}),subscribe:Oo,flushSync:Oo,on:t=>{const{scope:e}=Kg(t);throw new Error(`Event scope is not available in this component: ${e}`)},registerModelContextProvider:()=>{throw new Error("Registering model context providers is only available inside <AssistantProvider />")},__internal_getRuntime:()=>null}),Ir=()=>C.useContext(lP),s$=(t,e)=>t===Oo?e:e===Oo?t:(...n)=>{t(...n),e(...n)},i$=(t,e)=>t===Oo?e:e===Oo?t:(...n)=>{const r=t(...n),s=e(...n);return()=>{r(),s()}},o$=(t,e)=>{const n=e.subscribe,r=e.flushSync;return{...t,...e,subscribe:i$(t.subscribe,n??Oo),flushSync:s$(t.flushSync,r??Oo)}},Yg=({api:t,children:e})=>{const n=Ir(),r=C.useMemo(()=>o$(n,t),[n,t]);return w.jsx(lP,{value:r,children:w.jsx(aP,{children:e})})};function _n(t){return(e,n)=>({type:t,props:e,...n?.key!==void 0&&{key:n.key}})}var Nf=null;function a$(t,e){t.currentIndex=0;const n=Nf;Nf=t;try{if(e(),t.isFirstRender=!1,t.cells.length!==t.currentIndex)throw new Error(`Rendered ${t.currentIndex} hooks but expected ${t.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{Nf=n}}function Ex(){if(!Nf)throw new Error("No resource fiber available");return Nf}var l$=t=>{if(t.renderContext)throw new Error("Resource updated during render");if(t.isNeverMounted)throw new Error("Resource updated before mount");t.isMounted&&t.scheduleRerender()};function c$(t){const e=Ex(),n=e.currentIndex++;if(!e.isFirstRender&&n>=e.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(!e.cells[n]){const i={type:"state",value:typeof t=="function"?t():t,set:a=>{const c=i.value,u=typeof a=="function"?a(c):a;Object.is(c,u)||(i.value=u,l$(e))}};e.cells[n]=i}const r=e.cells[n];if(r.type!=="state")throw new Error("Hook order changed between renders");return r}function Ei(t){const e=c$(t);return[e.value,e.set]}function u$(){const t=Ex(),e=t.currentIndex++;if(!t.isFirstRender&&e>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(!t.cells[e]){const r={type:"effect",mounted:!1};t.cells[e]=r}if(t.cells[e].type!=="effect")throw new Error("Hook order changed between renders");return e}function ys(t,e){const n=Ex(),r=u$();n.renderContext.commitTasks.push({effect:t,deps:e,cellIndex:r})}function Ym(t){const[e]=Ei(()=>({current:t!==void 0&&typeof t=="function"?t():t}));return e}var f$=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0},Et=(t,e)=>{const n=Ym(()=>({value:t(),deps:e}));return f$(n.current.deps,e)||(n.current.value=t(),n.current.deps=e),n.current.value};function d$(t,e){t.commitTasks.forEach(n=>{const r=n.cellIndex,s=e.cells[r];if(s.type!=="effect")throw new Error("Cannot find effect cell");let i=!0;if(s.deps!==void 0&&n.deps!==void 0&&(i=s.deps.length!==n.deps.length||s.deps.some((a,c)=>!Object.is(a,n.deps[c]))),i){if(s.mounted){if(typeof s.deps!=typeof n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");try{s.mounted&&s.cleanup&&s.cleanup()}finally{s.mounted=!1}}try{const a=n.effect();if(a!==void 0&&typeof a!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof a}`);s.mounted=!0,s.cleanup=typeof a=="function"?a:void 0,s.deps=n.deps}catch(a){throw a}}})}function h$(t){let e=null;for(let n=t.cells.length-1;n>=0;n--){const r=t.cells[n];if(r?.type==="effect"&&r.mounted&&r.cleanup)try{r.cleanup()}catch(s){e==null&&(e=s)}finally{r.mounted=!1}}if(e!=null)throw e}function Xg(t,e){return{resourceFn:t,scheduleRerender:e,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function nc(t){t.isMounted=!1,h$(t)}function nd(t,e){const n={commitTasks:[],props:e,state:void 0};return a$(t,()=>{t.renderContext=n;try{n.state=t.resourceFn(e)}finally{t.renderContext=void 0}}),n}function rc(t,e){t.isMounted=!0,t.isNeverMounted=!1,d$(e,t)}function p$(t,e){const[n,r]=Ei({}),s=Et(()=>Xg(t.type,()=>r({})),[t.type]),i=e?Et(()=>t.props,e):t.props,a=Et(()=>nd(s,i),[s,i,n]);return ys(()=>()=>nc(s),[s]),ys(()=>{rc(s,a)},[s,a]),a.state}function bs(t){return t.type(t.props)}function m$(t){const e=new Set;t.forEach((c,u)=>{if(c.key===void 0)throw new Error(`tapResources: All resource elements must have a key. Element at index ${u} is missing a key.`);if(e.has(c.key))throw new Error(`tapResources: Duplicate key "${c.key}" found. All keys must be unique.`);e.add(c.key)});const[n,r]=Ei({}),s=Et(()=>new Map(t.map(c=>[c.key,c])),[t]),[i]=Ei(()=>new Map),a=Et(()=>{const c=new Map,u=new Set;return s.forEach((d,h)=>{u.add(h);let m=i.get(h);(!m||m.resourceFn!==d.type)&&(m&&nc(m),m=Xg(d.type,()=>r({})),i.set(h,m));const g=nd(m,d.props);c.set(h,g)}),i.forEach((d,h)=>{u.has(h)||(nc(d),i.delete(h))}),c},[s,n]);return ys(()=>{a.forEach((c,u)=>{const d=i.get(u);d&&rc(d,c)})},[a,i]),ys(()=>()=>{i.forEach(c=>{nc(c)}),i.clear()},[i]),Et(()=>t.map(c=>a.get(c.key)?.state),[t,a])}var k_=[],M_=!1;function g$(){M_=!1;const t=k_;k_=[];for(const e of t)try{e()}catch(n){console.error("Error in scheduled task:",n)}}function y$(t){k_.push(t),M_||(M_=!0,queueMicrotask(g$))}var b$=class cP{constructor(e){this._task=e}_isDirty=!1;_hasScheduledTask=!1;_isFlushing=!1;static MAX_FLUSH_DEPTH=50;get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,!(this._hasScheduledTask||this._isFlushing)&&(this._hasScheduledTask=!0,y$(()=>{this._hasScheduledTask=!1,this.flushSync()}))}flushSync(){if(this._isFlushing)return;this._isFlushing=!0;let e=0;try{for(;this._isDirty;){if(e++,e>cP.MAX_FLUSH_DEPTH)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");this._isDirty=!1,this._task()}}finally{this._isFlushing=!1}}},v$=({element:t,onUpdateInput:e,onFlushSync:n,onDispose:r})=>{const[s,i]=Ei(t.props),a=bs({type:t.type,props:s}),c=Ym(new Set).current,u=Ym(a);return ys(()=>{a!==u.current&&(u.current=a,c.forEach(h=>h()))}),Et(()=>({getState:()=>u.current,subscribe:h=>(c.add(h),()=>c.delete(h)),updateInput:h=>{e(),i(()=>h)},flushSync:n,dispose:r}),[])},_$=(t,e=!1)=>{let n=!e;const r={element:t,onUpdateInput:()=>{n||(n=!0,rc(i,a))},onFlushSync:()=>{s.flushSync()},onDispose:()=>nc(i)},s=new b$(()=>{a=nd(i,r),n&&rc(i,a)}),i=Xg(v$,()=>s.markDirty());let a=nd(i,r);return n&&rc(i,a),a.state},jf=Symbol("tap.Context"),w$=t=>({[jf]:t}),x$=(t,e,n)=>{const r=t[jf];t[jf]=e;try{return n()}finally{t[jf]=r}},S$=t=>t[jf],uP=_n(t=>{const e=Et(()=>_$(t,!0),[t.type]);return ys(()=>{e.updateInput(t.props)}),e}),E$=class{constructor(t){this.getApi=t}get(t,e){return this.getApi()[e]}ownKeys(){return Object.keys(this.getApi())}has(t,e){return e in this.getApi()}getOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(this.getApi(),e)}set(){return!1}defineProperty(){return!1}deleteProperty(){return!1}},Js=(t,e)=>{const n=Ym(()=>t);ys(()=>{n.current=t});const r=Et(()=>new Proxy({},new E$(()=>n.current)),[]),s=e?.key,i=t.getState();return Et(()=>({key:s,state:i,api:r}),[i,s])},C$=globalThis.__ASSISTANT_UI_DISABLE_LAYOUT_EFFECT__===!0,DT=C$?C.useEffect:C.useLayoutEffect;function fP(t){const[,e]=C.useState({}),n=C.useMemo(()=>Xg(t.type,()=>e({})),[t.type]),r=nd(n,t.props);return DT(()=>()=>nc(n),[]),DT(()=>{rc(n,r)}),r.state}var T$=_n(()=>Et(()=>{const e=new Map;return{on:(n,r)=>{e.has(n)||e.set(n,new Set);const s=e.get(n);return s.add(r),()=>{s.delete(r),s.size===0&&e.delete(n)}},emit:(n,r)=>{const s=e.get(n),i=e.get("*");!s&&!i||queueMicrotask(()=>{if(s)for(const a of s)a(r);if(i)for(const a of i)a({event:n,payload:r})})}}},[])),A$=_n(()=>{const[t,e]=Ei(()=>({}));return Js({getState:()=>t,setToolUI:(n,r)=>(e(s=>({...s,[n]:[...s[n]??[],r]})),()=>{e(s=>({...s,[n]:s[n]?.filter(i=>i!==r)??[]}))})})}),dP=w$(null),R$=(t,e)=>x$(dP,t,e),Cx=()=>{const t=S$(dP);if(!t)throw new Error("Events context is not available");return t},k$=_n(({threads:t,registerModelContextProvider:e,__internal_runtime:n})=>{const r=bs(T$()),{threads:s,toolUIs:i}=R$(r,()=>({toolUIs:bs(A$()),threads:p$(t,[t])})),a=Et(()=>({threads:s.state,toolUIs:i.state}),[s.state,i.state]);return Js({getState:()=>a,threads:s.api,toolUIs:i.api,on:r.on,registerModelContextProvider:e,__internal_getRuntime:()=>n??null})}),M$=t=>{const e=()=>t.getState().api.threads.item("main");return{threads:bn({source:"root",query:{},get:()=>t.getState().api.threads}),toolUIs:bn({source:"root",query:{},get:()=>t.getState().api.toolUIs}),thread:bn({source:"threads",query:{type:"main"},get:()=>t.getState().api.threads.thread("main")}),threadListItem:bn({source:"threads",query:{type:"main"},get:()=>e()}),composer:bn({source:"thread",query:{},get:()=>t.getState().api.threads.thread("main").composer}),registerModelContextProvider(n){return t.getState().api.registerModelContextProvider(n)},__internal_getRuntime(){return t.getState().api.__internal_getRuntime()},on(n,r){const{event:s,scope:i}=Kg(n);if(i==="*")return t.getState().api.on(s,r);if(Df("thread",i)||Df("thread-list-item",i)||Df("composer",i))return t.getState().api.on(s,a=>{a.threadId===e().getState().id&&r(a)});throw new Error(`Event scope is not available in this component: ${i}`)},subscribe:t.subscribe,flushSync:t.flushSync}},O$=t=>{const e=fP(uP(k$(t)));return C.useMemo(()=>M$(e),[e])},Ia=t=>{const[,e]=Ei(t.getState);return ys(()=>(e(t.getState()),t.subscribe(()=>{e(t.getState())})),[t]),t.getState()},P$=_n(({runtime:t})=>{const e=Ia(t),n=Cx();return ys(()=>{const r=[],s=["switched-to","switched-away"];for(const i of s){const a=t.unstable_on(i,()=>{n.emit(`thread-list-item.${i}`,{threadId:t.getState().id})});r.push(a)}return()=>{for(const i of r)i()}},[t,n]),Js({getState:()=>e,switchTo:t.switchTo,rename:t.rename,archive:t.archive,unarchive:t.unarchive,delete:t.delete,generateTitle:t.generateTitle,initialize:t.initialize,detach:t.detach,__internal_getRuntime:()=>t},{key:e.id})}),rd=t=>{const e=m$(t);return{state:e.map(n=>n.state),api:n=>{const r="index"in n?e[n.index]?.api:e.find(s=>s.key===n.key)?.api;if(!r)throw new Error(`tapLookupResources: Resource not found for lookup: ${JSON.stringify(n)}`);return r}}},hP=_n(({runtime:t})=>{const e=Ia(t);return Js({getState:()=>e,remove:t.remove,__internal_getRuntime:()=>t},{key:e.id})}),I$=_n(({runtime:t,index:e})=>{const n=Et(()=>t.getAttachmentByIndex(e),[t,e]);return bs(hP({runtime:n}))}),pP=_n(({threadIdRef:t,messageIdRef:e,runtime:n})=>{const r=Ia(n),s=Cx();ys(()=>{const c=[],u=["send","attachment-add"];for(const d of u){const h=n.unstable_on(d,()=>{s.emit(`composer.${d}`,{threadId:t.current,...e&&{messageId:e.current}})});c.push(h)}return()=>{for(const d of c)d()}},[n,s,t,e]);const i=rd(r.attachments.map((c,u)=>I$({runtime:n,index:u},{key:u}))),a=Et(()=>({text:r.text,role:r.role,attachments:i.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread"}),[r,i.state]);return Js({getState:()=>a,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),attachment:c=>"id"in c?i.api({key:c.id}):i.api(c),__internal_getRuntime:()=>n})}),L$=_n(({runtime:t})=>{const e=Ia(t);return Js({getState:()=>e,addToolResult:n=>t.addToolResult(n),__internal_getRuntime:()=>t},{key:e.type==="tool-call"?"toolCallId-"+e.toolCallId:void 0})}),D$=_n(({runtime:t,index:e})=>{const n=Et(()=>t.getAttachmentByIndex(e),[t,e]);return bs(hP({runtime:n}))}),N$=_n(({runtime:t,index:e})=>{const n=Et(()=>t.getMessagePartByIndex(e),[t,e]);return bs(L$({runtime:n}))}),j$=_n(({runtime:t,threadIdRef:e})=>{const n=Ia(t),[r,s]=Ei(!1),[i,a]=Ei(!1),c=Et(()=>({get current(){return t.getState().id}}),[t]),u=bs(pP({runtime:t.composer,threadIdRef:e,messageIdRef:c})),d=rd(n.content.map((g,y)=>N$({runtime:t,index:y},{key:y}))),h=rd(n.attachments?.map((g,y)=>D$({runtime:t,index:y},{key:y}))??[]),m=Et(()=>({...n,parts:d.state,composer:u.state,isCopied:r,isHovering:i}),[n,d.state,u.state,r,i]);return Js({getState:()=>m,composer:u.api,reload:g=>t.reload(g),speak:()=>t.speak(),stopSpeaking:()=>t.stopSpeaking(),submitFeedback:g=>t.submitFeedback(g),switchToBranch:g=>t.switchToBranch(g),getCopyText:()=>t.unstable_getCopyText(),part:g=>"index"in g?d.api({index:g.index}):d.api({key:"toolCallId-"+g.toolCallId}),attachment:g=>"id"in g?h.api({key:g.id}):h.api(g),setIsCopied:s,setIsHovering:a,__internal_getRuntime:()=>t},{key:n.id})}),B$=_n(({runtime:t,id:e,threadIdRef:n})=>{const r=Et(()=>t.getMessageById(e),[t,e]);return bs(j$({runtime:r,threadIdRef:n}))}),$$=_n(({runtime:t})=>{const e=Ia(t),n=Cx();ys(()=>{const c=[],u=["run-start","run-end","initialize","model-context-update"];for(const d of u){const h=t.unstable_on(d,()=>{const m=t.getState()?.threadId||"unknown";n.emit(`thread.${d}`,{threadId:m})});c.push(h)}return()=>{for(const d of c)d()}},[t]);const r=Et(()=>({get current(){return t.getState().threadId}}),[t]),s=bs(pP({runtime:t.composer,threadIdRef:r})),i=rd(e.messages.map(c=>B$({runtime:t,id:c.id,threadIdRef:r},{key:c.id}))),a=Et(()=>({isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:e.isRunning,capabilities:e.capabilities,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech,composer:s.state,messages:i.state}),[e,i,s.state]);return Js({getState:()=>a,composer:s.api,append:t.append,startRun:t.startRun,unstable_resumeRun:t.unstable_resumeRun,cancelRun:t.cancelRun,getModelContext:t.getModelContext,export:t.export,import:t.import,reset:t.reset,stopSpeaking:t.stopSpeaking,message:c=>"id"in c?i.api({key:c.id}):i.api(c),__internal_getRuntime:()=>t})}),V$=_n(({runtime:t,id:e})=>{const n=Et(()=>t.getItemById(e),[t,e]);return bs(P$({runtime:n}))}),U$=_n(({runtime:t})=>{const e=Ia(t),n=bs($$({runtime:t.main})),r=rd(Object.keys(e.threadItems).map(i=>V$({runtime:t,id:i},{key:i}))),s=Et(()=>({mainThreadId:e.mainThreadId,newThreadId:e.newThread??null,isLoading:e.isLoading,threadIds:e.threads,archivedThreadIds:e.archivedThreads,threadItems:r.state,main:n.state}),[e,r.state,n.state]);return Js({getState:()=>s,thread:()=>n.api,item:i=>{if(i==="main")return r.api({key:s.mainThreadId});if("id"in i)return r.api({key:i.id});const{index:a,archived:c=!1}=i,u=c?s.archivedThreadIds[a]:s.threadIds[a];return r.api({key:u})},switchToThread:i=>{t.switchToThread(i)},switchToNewThread:()=>{t.switchToNewThread()}})}),F$=t=>t._core?.RenderComponent,z$=({children:t,runtime:e})=>{const n=O$({threads:U$({runtime:e.threads}),registerModelContextProvider:e.registerModelContextProvider,__internal_runtime:e}),r=F$(e);return w.jsxs(Yg,{api:n,children:[r&&w.jsx(r,{}),t]})},H$=C.memo(z$),q$=({index:t,children:e})=>{const n=Ir(),r=C.useMemo(()=>{const s=()=>n.thread().message({index:t});return{message:bn({source:"thread",query:{type:"index",index:t},get:()=>s()}),composer:bn({source:"message",query:{},get:()=>s().composer}),on(i,a){const{event:c,scope:u}=Kg(i);return!Df("composer",u)&&!Df("message",u)?n.on(i,a):n.on({scope:"thread",event:c},d=>{d.messageId===s().getState().id&&a(d)})}}},[n,t]);return w.jsx(Yg,{api:r,children:e})},G$=({index:t,children:e})=>{const n=Ir(),r=C.useMemo(()=>({part:bn({source:"message",query:{type:"index",index:t},get:()=>n.message().part({index:t})})}),[n,t]);return w.jsx(Yg,{api:r,children:e})},W$=_n(({text:t,isRunning:e})=>{const n=Et(()=>({type:"text",text:t,status:e?{type:"running"}:{type:"complete"}}),[t,e]);return Js({getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},__internal_getRuntime:()=>null})}),K$=({text:t,isRunning:e=!1,children:n})=>{const r=fP(uP(W$({text:t,isRunning:e}))),s=C.useMemo(()=>({part:bn({source:"root",query:{},get:()=>r.getState().api}),subscribe:r.subscribe,flushSync:r.flushSync}),[r]);return w.jsx(Yg,{api:s,children:n})},NT=class{#e;constructor(t){this.#e=t}get threads(){return this.#e.threads().getState()}get toolUIs(){return this.#e.toolUIs().getState()}get threadListItem(){return this.#e.threadListItem().getState()}get thread(){return this.#e.thread().getState()}get composer(){return this.#e.composer().getState()}get message(){return this.#e.message().getState()}get part(){return this.#e.part().getState()}get attachment(){return this.#e.attachment().getState()}},ht=t=>{const e=Ir(),n=C.useMemo(()=>new NT(e),[e]),r=C.useSyncExternalStore(e.subscribe,()=>t(n),()=>t(n));if(C.useDebugValue(r),r instanceof NT)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return r},Y$=(t,e)=>{const n=Ir(),r=C.useRef(e);C.useEffect(()=>{r.current=e});const{scope:s,event:i}=Kg(t);C.useEffect(()=>n.on({scope:s,event:i},a=>r.current(a)),[n,s,i])},X$=t=>{const e=t;e.__isBound||(e.__internal_bindMethods?.(),e.__isBound=!0)};function J$(t,e=Z$){X$(t);const n=C.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getState()));return C.useDebugValue(n),n}var Z$=t=>t;function Q$(t){function e(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const i=t({optional:r});return i?J$(i,s):null}return e}function e7(t){const e=Ir(),n=e.message.source?e.message().__internal_getRuntime():null;if(!n&&!t?.optional)throw new Error("MessageRuntime is not available");return n}var mP=Q$(e7),gP=class{constructor(t){this._core=t,this.threads=new P9(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}threads;get threadList(){return this.threads}_thread;__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(wx.fromArray(t??[]))}},t7=t=>{const{cloud:e,initialMessages:n,maxSteps:r,adapters:s,unstable_humanToolNames:i,...a}=t;return{localRuntimeOptions:{cloud:e,initialMessages:n,maxSteps:r,adapters:s,unstable_humanToolNames:i},otherOptions:a}};function Xn(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}var yP=C.createContext(null),n7=t=>({useSmoothStatus:Mi(()=>t)}),r7=({children:t})=>{const e=bP({optional:!0}),n=Ir(),[r]=C.useState(()=>n7(n.part().getState().status));return e?t:w.jsx(yP.Provider,{value:r,children:t})},s7=t=>{const e=C.forwardRef((n,r)=>w.jsx(r7,{children:w.jsx(t,{...n,ref:r})}));return e.displayName=t.displayName,e};function bP(t){const e=C.useContext(yP);if(!t?.optional&&!e)throw new Error("This component must be used within a SmoothContextProvider.");return e}var{useSmoothStatus:i7,useSmoothStatusStore:o7}=sP(bP,"useSmoothStatus"),a7=class{constructor(t,e){this.currentText=t,this.setText=e}animationFrameId=null;lastUpdateTime=Date.now();targetText="";start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}animate=()=>{const t=Date.now();let n=t-this.lastUpdateTime;const r=this.targetText.length-this.currentText.length,s=Math.min(5,250/r);let i=0;for(;n>=s&&i<r;)i++,n-=s;i!==r?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-n,this.setText(this.currentText))}},Yb=Object.freeze({type:"running"}),vP=(t,e=!1)=>{const{text:n}=t,r=ht(({message:h})=>h.id),s=C.useRef(r),[i,a]=C.useState(n),c=o7({optional:!0}),u=Xn(h=>{if(a(h),c){const m=i!==h||t.status.type==="running"?Yb:t.status;Km(c).setState(m,!0)}});C.useEffect(()=>{if(c){const h=i!==n||t.status.type==="running"?Yb:t.status;Km(c).setState(h,!0)}},[c,n,i,t.status]);const[d]=C.useState(new a7(n,u));return C.useEffect(()=>{if(!e){d.stop();return}if(s.current!==r||!n.startsWith(d.targetText)){s.current=r,u(n),d.currentText=n,d.targetText=n,d.stop();return}d.targetText=n,d.start()},[u,d,r,e,n]),C.useEffect(()=>()=>{d.stop()},[d]),C.useMemo(()=>e?{type:"text",text:i,status:n===i?t.status:Yb}:t,[e,i,t,n])};const l7=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:gP,BaseAssistantRuntimeCore:qO,CompositeContextProvider:HO,DefaultThreadComposerRuntimeCore:WO,MessageRepository:xx,ThreadRuntimeImpl:nP,fromThreadMessageLike:Gg,generateId:qg,getAutoStatus:_x,splitLocalRuntimeOptions:t7,useSmooth:vP,useSmoothStatus:i7,withSmoothContextProvider:s7},Symbol.toStringTag,{value:"Module"}));function jT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jg(...t){return e=>{let n=!1;const r=t.map(s=>{const i=jT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jT(t[s],null)}}}}function vt(...t){return C.useCallback(Jg(...t),t)}var Tx=zO();const c7=Pa(Tx);function dc(t){const e=u7(t),n=C.forwardRef((r,s)=>{const{children:i,...a}=r,c=C.Children.toArray(i),u=c.find(d7);if(u){const d=u.props.children,h=c.map(m=>m===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:m);return w.jsx(e,{...a,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,h):null})}return w.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _P=dc("Slot");function u7(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const a=p7(s),c=h7(i,s.props);return s.type!==C.Fragment&&(c.ref=r?Jg(r,a):a),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wP=Symbol("radix.slottable");function f7(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wP,e}function d7(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wP}function h7(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=m7.reduce((t,e)=>{const n=dc(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:a,...c}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function xP(t,e){t&&Tx.flushSync(()=>t.dispatchEvent(e))}var O_=(t=>(t.Hidden="hidden",t.Floating="floating",t.Normal="normal",t))(O_||{}),g7=({hideWhenRunning:t,autohide:e,autohideFloat:n})=>ht(({thread:r,message:s})=>t&&r.isRunning?"hidden":e==="always"||e==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?"floating":"normal":"hidden":"normal"),SP=C.forwardRef(({hideWhenRunning:t,autohide:e,autohideFloat:n,...r},s)=>{const i=g7({hideWhenRunning:t,autohide:e,autohideFloat:n});return i===O_.Hidden?null:w.jsx(Xe.div,{...i===O_.Floating?{"data-floating":"true"}:null,...r,ref:s})});SP.displayName="ActionBarPrimitive.Root";function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}var y7=({copiedDuration:t=3e3}={})=>{const e=Ir(),n=ht(({message:a})=>(a.role!=="assistant"||a.status?.type!=="running")&&a.parts.some(c=>c.type==="text"&&c.text.length>0)),r=ht(({composer:a})=>a.isEditing),s=ht(({composer:a})=>a.text),i=C.useCallback(()=>{const a=r?s:e.message().getCopyText();a&&navigator.clipboard.writeText(a).then(()=>{e.message().setIsCopied(!0),setTimeout(()=>e.message().setIsCopied(!1),t)})},[e,r,s,t]);return n?i:null},EP=C.forwardRef(({copiedDuration:t,onClick:e,disabled:n,...r},s)=>{const i=ht(({message:c})=>c.isCopied),a=y7({copiedDuration:t});return w.jsx(Xe.button,{type:"button",...i?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!a,onClick:ke(e,()=>{a?.()})})});EP.displayName="ActionBarPrimitive.Copy";var CP=(t,e,n=[])=>{const r=C.forwardRef((s,i)=>{const a={},c={};Object.keys(s).forEach(d=>{n.includes(d)?a[d]=s[d]:c[d]=s[d]});const u=e(a)??void 0;return w.jsx(Xe.button,{type:"button",...c,ref:i,disabled:c.disabled||!u,onClick:ke(c.onClick,u)})});return r.displayName=t,r};function TP(t,e=globalThis?.document){const n=Xn(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}function b7(t,e){const n=C.createContext(e),r=i=>{const{children:a,...c}=i,u=C.useMemo(()=>c,Object.values(c));return w.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(i){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Oi(t,e=[]){let n=[];function r(i,a){const c=C.createContext(a),u=n.length;n=[...n,a];const d=m=>{const{scope:g,children:y,..._}=m,x=g?.[t]?.[u]||c,E=C.useMemo(()=>_,Object.values(_));return w.jsx(x.Provider,{value:E,children:y})};d.displayName=i+"Provider";function h(m,g){const y=g?.[t]?.[u]||c,_=C.useContext(y);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>C.createContext(a));return function(c){const u=c?.[t]||i;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,v7(s,...e)]}function v7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:d})=>{const m=u(i)[`__scope${d}`];return{...c,...m}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var _7="DismissableLayer",P_="dismissableLayer.update",w7="dismissableLayer.pointerDownOutside",x7="dismissableLayer.focusOutside",BT,AP=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,d=C.useContext(AP),[h,m]=C.useState(null),g=h?.ownerDocument??globalThis?.document,[,y]=C.useState({}),_=vt(e,j=>m(j)),x=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(E),T=h?x.indexOf(h):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,L=T>=S,I=C7(j=>{const $=j.target,H=[...d.branches].some(B=>B.contains($));!L||H||(s?.(j),a?.(j),j.defaultPrevented||c?.())},g),P=T7(j=>{const $=j.target;[...d.branches].some(B=>B.contains($))||(i?.(j),a?.(j),j.defaultPrevented||c?.())},g);return TP(j=>{T===d.layers.size-1&&(r?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},g),C.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),$T(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=BT)}},[h,g,n,d]),C.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),$T())},[h,d]),C.useEffect(()=>{const j=()=>y({});return document.addEventListener(P_,j),()=>document.removeEventListener(P_,j)},[]),w.jsx(Xe.div,{...u,ref:_,style:{pointerEvents:k?L?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,I.onPointerDownCapture)})});Zg.displayName=_7;var S7="DismissableLayerBranch",E7=C.forwardRef((t,e)=>{const n=C.useContext(AP),r=C.useRef(null),s=vt(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w.jsx(Xe.div,{...t,ref:s})});E7.displayName=S7;function C7(t,e=globalThis?.document){const n=Xn(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){RP(w7,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T7(t,e=globalThis?.document){const n=Xn(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&RP(x7,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $T(){const t=new CustomEvent(P_);document.dispatchEvent(t)}function RP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xP(s,i):s.dispatchEvent(i)}var Xb=0;function kP(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VT()),document.body.insertAdjacentElement("beforeend",t[1]??VT()),Xb++,()=>{Xb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xb--}},[])}function VT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jb="focusScope.autoFocusOnMount",Zb="focusScope.autoFocusOnUnmount",UT={bubbles:!1,cancelable:!0},A7="FocusScope",Ax=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,u]=C.useState(null),d=Xn(s),h=Xn(i),m=C.useRef(null),g=vt(e,x=>u(x)),y=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(k){if(y.paused||!c)return;const L=k.target;c.contains(L)?m.current=L:xo(m.current,{select:!0})},E=function(k){if(y.paused||!c)return;const L=k.relatedTarget;L!==null&&(c.contains(L)||xo(m.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const I of k)I.removedNodes.length>0&&xo(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const T=new MutationObserver(S);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),T.disconnect()}}},[r,c,y.paused]),C.useEffect(()=>{if(c){zT.add(y);const x=document.activeElement;if(!c.contains(x)){const S=new CustomEvent(Jb,UT);c.addEventListener(Jb,d),c.dispatchEvent(S),S.defaultPrevented||(R7(I7(MP(c)),{select:!0}),document.activeElement===x&&xo(c))}return()=>{c.removeEventListener(Jb,d),setTimeout(()=>{const S=new CustomEvent(Zb,UT);c.addEventListener(Zb,h),c.dispatchEvent(S),S.defaultPrevented||xo(x??document.body,{select:!0}),c.removeEventListener(Zb,h),zT.remove(y)},0)}}},[c,d,h,y]);const _=C.useCallback(x=>{if(!n&&!r||y.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(E&&S){const T=x.currentTarget,[k,L]=k7(T);k&&L?!x.shiftKey&&S===L?(x.preventDefault(),n&&xo(k,{select:!0})):x.shiftKey&&S===k&&(x.preventDefault(),n&&xo(L,{select:!0})):S===T&&x.preventDefault()}},[n,r,y.paused]);return w.jsx(Xe.div,{tabIndex:-1,...a,ref:g,onKeyDown:_})});Ax.displayName=A7;function R7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xo(r,{select:e}),document.activeElement!==n)return}function k7(t){const e=MP(t),n=FT(e,t),r=FT(e.reverse(),t);return[n,r]}function MP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FT(t,e){for(const n of t)if(!M7(n,{upTo:e}))return n}function M7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O7(t){return t instanceof HTMLInputElement&&"select"in t}function xo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O7(t)&&e&&t.select()}}var zT=P7();function P7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=HT(t,e),t.unshift(e)},remove(e){t=HT(t,e),t[0]?.resume()}}}function HT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function I7(t){return t.filter(e=>e.tagName!=="A")}var Po=globalThis?.document?C.useLayoutEffect:()=>{},L7=FO[" useId ".trim().toString()]||(()=>{}),D7=0;function Ro(t){const[e,n]=C.useState(L7());return Po(()=>{n(r=>r??String(D7++))},[t]),e?`radix-${e}`:""}const N7=["top","right","bottom","left"],Io=Math.min,kr=Math.max,Xm=Math.round,_p=Math.floor,Hs=t=>({x:t,y:t}),j7={left:"right",right:"left",bottom:"top",top:"bottom"},B7={start:"end",end:"start"};function I_(t,e,n){return kr(t,Io(e,n))}function Ci(t,e){return typeof t=="function"?t(e):t}function Ti(t){return t.split("-")[0]}function _c(t){return t.split("-")[1]}function Rx(t){return t==="x"?"y":"x"}function kx(t){return t==="y"?"height":"width"}const $7=new Set(["top","bottom"]);function Fs(t){return $7.has(Ti(t))?"y":"x"}function Mx(t){return Rx(Fs(t))}function V7(t,e,n){n===void 0&&(n=!1);const r=_c(t),s=Mx(t),i=kx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Jm(a)),[a,Jm(a)]}function U7(t){const e=Jm(t);return[L_(t),e,L_(e)]}function L_(t){return t.replace(/start|end/g,e=>B7[e])}const qT=["left","right"],GT=["right","left"],F7=["top","bottom"],z7=["bottom","top"];function H7(t,e,n){switch(t){case"top":case"bottom":return n?e?GT:qT:e?qT:GT;case"left":case"right":return e?F7:z7;default:return[]}}function q7(t,e,n,r){const s=_c(t);let i=H7(Ti(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(L_)))),i}function Jm(t){return t.replace(/left|right|bottom|top/g,e=>j7[e])}function G7(t){return{top:0,right:0,bottom:0,left:0,...t}}function OP(t){return typeof t!="number"?G7(t):{top:t,right:t,bottom:t,left:t}}function Zm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function WT(t,e,n){let{reference:r,floating:s}=t;const i=Fs(e),a=Mx(e),c=kx(a),u=Ti(e),d=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,g=r[c]/2-s[c]/2;let y;switch(u){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(_c(e)){case"start":y[a]-=g*(n&&d?-1:1);break;case"end":y[a]+=g*(n&&d?-1:1);break}return y}const W7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=WT(d,r,u),g=r,y={},_=0;for(let x=0;x<c.length;x++){const{name:E,fn:S}=c[x],{x:T,y:k,data:L,reset:I}=await S({x:h,y:m,initialPlacement:r,placement:g,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:t,floating:e}});h=T??h,m=k??m,y={...y,[E]:{...y[E],...L}},I&&_<=50&&(_++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(d=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:h,y:m}=WT(d,g,u)),x=-1)}return{x:h,y:m,placement:g,strategy:s,middlewareData:y}};async function sd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Ci(e,t),_=OP(y),E=c[g?m==="floating"?"reference":"floating":m],S=Zm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:h,strategy:u})),T=m==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),L=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},I=Zm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:k,strategy:u}):T);return{top:(S.top-I.top+_.top)/L.y,bottom:(I.bottom-S.bottom+_.bottom)/L.y,left:(S.left-I.left+_.left)/L.x,right:(I.right-S.right+_.right)/L.x}}const K7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:h=0}=Ci(t,e)||{};if(d==null)return{};const m=OP(h),g={x:n,y:r},y=Mx(s),_=kx(y),x=await a.getDimensions(d),E=y==="y",S=E?"top":"left",T=E?"bottom":"right",k=E?"clientHeight":"clientWidth",L=i.reference[_]+i.reference[y]-g[y]-i.floating[_],I=g[y]-i.reference[y],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let j=P?P[k]:0;(!j||!await(a.isElement==null?void 0:a.isElement(P)))&&(j=c.floating[k]||i.floating[_]);const $=L/2-I/2,H=j/2-x[_]/2-1,B=Io(m[S],H),Y=Io(m[T],H),ne=B,re=j-x[_]-Y,Z=j/2-x[_]/2+$,ae=I_(ne,Z,re),U=!u.arrow&&_c(s)!=null&&Z!==ae&&i.reference[_]/2-(Z<ne?B:Y)-x[_]/2<0,X=U?Z<ne?Z-ne:Z-re:0;return{[y]:g[y]+X,data:{[y]:ae,centerOffset:Z-ae-X,...U&&{alignmentOffset:X}},reset:U}}}),Y7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...E}=Ci(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=Ti(s),T=Fs(c),k=Ti(c)===c,L=await(u.isRTL==null?void 0:u.isRTL(d.floating)),I=g||(k||!x?[Jm(c)]:U7(c)),P=_!=="none";!g&&P&&I.push(...q7(c,x,_,L));const j=[c,...I],$=await sd(e,E),H=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&H.push($[S]),m){const Z=V7(s,a,L);H.push($[Z[0]],$[Z[1]])}if(B=[...B,{placement:s,overflows:H}],!H.every(Z=>Z<=0)){var Y,ne;const Z=(((Y=i.flip)==null?void 0:Y.index)||0)+1,ae=j[Z];if(ae&&(!(m==="alignment"?T!==Fs(ae):!1)||B.every(z=>Fs(z.placement)===T?z.overflows[0]>0:!0)))return{data:{index:Z,overflows:B},reset:{placement:ae}};let U=(ne=B.filter(X=>X.overflows[0]<=0).sort((X,z)=>X.overflows[1]-z.overflows[1])[0])==null?void 0:ne.placement;if(!U)switch(y){case"bestFit":{var re;const X=(re=B.filter(z=>{if(P){const le=Fs(z.placement);return le===T||le==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(le=>le>0).reduce((le,A)=>le+A,0)]).sort((z,le)=>z[1]-le[1])[0])==null?void 0:re[0];X&&(U=X);break}case"initialPlacement":U=c;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function KT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YT(t){return N7.some(e=>t[e]>=0)}const X7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ci(t,e);switch(r){case"referenceHidden":{const i=await sd(e,{...s,elementContext:"reference"}),a=KT(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:YT(a)}}}case"escaped":{const i=await sd(e,{...s,altBoundary:!0}),a=KT(i,n.floating);return{data:{escapedOffsets:a,escaped:YT(a)}}}default:return{}}}}},PP=new Set(["left","top"]);async function J7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ti(n),c=_c(n),u=Fs(n)==="y",d=PP.has(a)?-1:1,h=i&&u?-1:1,m=Ci(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof _=="number"&&(y=c==="end"?_*-1:_),u?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const Z7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await J7(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},Q7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:E=>{let{x:S,y:T}=E;return{x:S,y:T}}},...u}=Ci(t,e),d={x:n,y:r},h=await sd(e,u),m=Fs(Ti(s)),g=Rx(m);let y=d[g],_=d[m];if(i){const E=g==="y"?"top":"left",S=g==="y"?"bottom":"right",T=y+h[E],k=y-h[S];y=I_(T,y,k)}if(a){const E=m==="y"?"top":"left",S=m==="y"?"bottom":"right",T=_+h[E],k=_-h[S];_=I_(T,_,k)}const x=c.fn({...e,[g]:y,[m]:_});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[m]:a}}}}}},eV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Ci(t,e),h={x:n,y:r},m=Fs(s),g=Rx(m);let y=h[g],_=h[m];const x=Ci(c,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const k=g==="y"?"height":"width",L=i.reference[g]-i.floating[k]+E.mainAxis,I=i.reference[g]+i.reference[k]-E.mainAxis;y<L?y=L:y>I&&(y=I)}if(d){var S,T;const k=g==="y"?"width":"height",L=PP.has(Ti(s)),I=i.reference[m]-i.floating[k]+(L&&((S=a.offset)==null?void 0:S[m])||0)+(L?0:E.crossAxis),P=i.reference[m]+i.reference[k]+(L?0:((T=a.offset)==null?void 0:T[m])||0)-(L?E.crossAxis:0);_<I?_=I:_>P&&(_=P)}return{[g]:y,[m]:_}}}},tV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...d}=Ci(t,e),h=await sd(e,d),m=Ti(s),g=_c(s),y=Fs(s)==="y",{width:_,height:x}=i.floating;let E,S;m==="top"||m==="bottom"?(E=m,S=g===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(S=m,E=g==="end"?"top":"bottom");const T=x-h.top-h.bottom,k=_-h.left-h.right,L=Io(x-h[E],T),I=Io(_-h[S],k),P=!e.middlewareData.shift;let j=L,$=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=T),P&&!g){const B=kr(h.left,0),Y=kr(h.right,0),ne=kr(h.top,0),re=kr(h.bottom,0);y?$=_-2*(B!==0||Y!==0?B+Y:kr(h.left,h.right)):j=x-2*(ne!==0||re!==0?ne+re:kr(h.top,h.bottom))}await u({...e,availableWidth:$,availableHeight:j});const H=await a.getDimensions(c.floating);return _!==H.width||x!==H.height?{reset:{rects:!0}}:{}}}};function Qg(){return typeof window<"u"}function wc(t){return IP(t)?(t.nodeName||"").toLowerCase():"#document"}function Mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(IP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IP(t){return Qg()?t instanceof Node||t instanceof Mr(t).Node:!1}function vs(t){return Qg()?t instanceof Element||t instanceof Mr(t).Element:!1}function Ks(t){return Qg()?t instanceof HTMLElement||t instanceof Mr(t).HTMLElement:!1}function XT(t){return!Qg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mr(t).ShadowRoot}const nV=new Set(["inline","contents"]);function Ad(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=_s(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nV.has(s)}const rV=new Set(["table","td","th"]);function sV(t){return rV.has(wc(t))}const iV=[":popover-open",":modal"];function ey(t){return iV.some(e=>{try{return t.matches(e)}catch{return!1}})}const oV=["transform","translate","scale","rotate","perspective"],aV=["transform","translate","scale","rotate","perspective","filter"],lV=["paint","layout","strict","content"];function Ox(t){const e=Px(),n=vs(t)?_s(t):t;return oV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||aV.some(r=>(n.willChange||"").includes(r))||lV.some(r=>(n.contain||"").includes(r))}function cV(t){let e=Lo(t);for(;Ks(e)&&!hc(e);){if(Ox(e))return e;if(ey(e))return null;e=Lo(e)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uV=new Set(["html","body","#document"]);function hc(t){return uV.has(wc(t))}function _s(t){return Mr(t).getComputedStyle(t)}function ty(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XT(t)&&t.host||Zs(t);return XT(e)?e.host:e}function LP(t){const e=Lo(t);return hc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ks(e)&&Ad(e)?e:LP(e)}function id(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Mr(s);if(i){const c=D_(a);return e.concat(a,a.visualViewport||[],Ad(s)?s:[],c&&n?id(c):[])}return e.concat(s,id(s,[],n))}function D_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DP(t){const e=_s(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ks(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Xm(n)!==i||Xm(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function Ix(t){return vs(t)?t:t.contextElement}function sc(t){const e=Ix(t);if(!Ks(e))return Hs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=DP(e);let a=(i?Xm(n.width):n.width)/r,c=(i?Xm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const fV=Hs(0);function NP(t){const e=Mr(t);return!Px()||!e.visualViewport?fV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mr(t)?!1:e}function Ta(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ix(t);let a=Hs(1);e&&(r?vs(r)&&(a=sc(r)):a=sc(t));const c=dV(i,n,r)?NP(i):Hs(0);let u=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,h=s.width/a.x,m=s.height/a.y;if(i){const g=Mr(i),y=r&&vs(r)?Mr(r):r;let _=g,x=D_(_);for(;x&&r&&y!==_;){const E=sc(x),S=x.getBoundingClientRect(),T=_s(x),k=S.left+(x.clientLeft+parseFloat(T.paddingLeft))*E.x,L=S.top+(x.clientTop+parseFloat(T.paddingTop))*E.y;u*=E.x,d*=E.y,h*=E.x,m*=E.y,u+=k,d+=L,_=Mr(x),x=D_(_)}}return Zm({width:h,height:m,x:u,y:d})}function ny(t,e){const n=ty(t).scrollLeft;return e?e.left+n:Ta(Zs(t)).left+n}function jP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ny(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function hV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Zs(r),c=e?ey(e.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},d=Hs(1);const h=Hs(0),m=Ks(r);if((m||!m&&!i)&&((wc(r)!=="body"||Ad(a))&&(u=ty(r)),Ks(r))){const y=Ta(r);d=sc(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const g=a&&!m&&!i?jP(a,u):Hs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function pV(t){return Array.from(t.getClientRects())}function mV(t){const e=Zs(t),n=ty(t),r=t.ownerDocument.body,s=kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ny(t);const c=-n.scrollTop;return _s(r).direction==="rtl"&&(a+=kr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}const JT=25;function gV(t,e){const n=Mr(t),r=Zs(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const h=Px();(!h||h&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const d=ny(r);if(d<=0){const h=r.ownerDocument,m=h.body,g=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(r.clientWidth-m.clientWidth-y);_<=JT&&(i-=_)}else d<=JT&&(i+=d);return{width:i,height:a,x:c,y:u}}const yV=new Set(["absolute","fixed"]);function bV(t,e){const n=Ta(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ks(t)?sc(t):Hs(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:a,height:c,x:u,y:d}}function ZT(t,e,n){let r;if(e==="viewport")r=gV(t,n);else if(e==="document")r=mV(Zs(t));else if(vs(e))r=bV(e,n);else{const s=NP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Zm(r)}function BP(t,e){const n=Lo(t);return n===e||!vs(n)||hc(n)?!1:_s(n).position==="fixed"||BP(n,e)}function vV(t,e){const n=e.get(t);if(n)return n;let r=id(t,[],!1).filter(c=>vs(c)&&wc(c)!=="body"),s=null;const i=_s(t).position==="fixed";let a=i?Lo(t):t;for(;vs(a)&&!hc(a);){const c=_s(a),u=Ox(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&yV.has(s.position)||Ad(a)&&!u&&BP(t,a))?r=r.filter(h=>h!==a):s=c,a=Lo(a)}return e.set(t,r),r}function _V(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?ey(e)?[]:vV(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((d,h)=>{const m=ZT(e,h,s);return d.top=kr(m.top,d.top),d.right=Io(m.right,d.right),d.bottom=Io(m.bottom,d.bottom),d.left=kr(m.left,d.left),d},ZT(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wV(t){const{width:e,height:n}=DP(t);return{width:e,height:n}}function xV(t,e,n){const r=Ks(e),s=Zs(e),i=n==="fixed",a=Ta(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=Hs(0);function d(){u.x=ny(s)}if(r||!r&&!i)if((wc(e)!=="body"||Ad(s))&&(c=ty(e)),r){const y=Ta(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?jP(s,c):Hs(0),m=a.left+c.scrollLeft-u.x-h.x,g=a.top+c.scrollTop-u.y-h.y;return{x:m,y:g,width:a.width,height:a.height}}function Qb(t){return _s(t).position==="static"}function QT(t,e){if(!Ks(t)||_s(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function $P(t,e){const n=Mr(t);if(ey(t))return n;if(!Ks(t)){let s=Lo(t);for(;s&&!hc(s);){if(vs(s)&&!Qb(s))return s;s=Lo(s)}return n}let r=QT(t,e);for(;r&&sV(r)&&Qb(r);)r=QT(r,e);return r&&hc(r)&&Qb(r)&&!Ox(r)?n:r||cV(t)||n}const SV=async function(t){const e=this.getOffsetParent||$P,n=this.getDimensions,r=await n(t.floating);return{reference:xV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EV(t){return _s(t).direction==="rtl"}const CV={convertOffsetParentRelativeRectToViewportRelativeRect:hV,getDocumentElement:Zs,getClippingRect:_V,getOffsetParent:$P,getElementRects:SV,getClientRects:pV,getDimensions:wV,getScale:sc,isElement:vs,isRTL:EV};function VP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TV(t,e){let n=null,r;const s=Zs(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:h,top:m,width:g,height:y}=d;if(c||e(),!g||!y)return;const _=_p(m),x=_p(s.clientWidth-(h+g)),E=_p(s.clientHeight-(m+y)),S=_p(h),k={rootMargin:-_+"px "+-x+"px "+-E+"px "+-S+"px",threshold:kr(0,Io(1,u))||1};let L=!0;function I(P){const j=P[0].intersectionRatio;if(j!==u){if(!L)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!VP(d,t.getBoundingClientRect())&&a(),L=!1}try{n=new IntersectionObserver(I,{...k,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,k)}n.observe(t)}return a(!0),i}function AV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Ix(t),h=s||i?[...d?id(d):[],...id(e)]:[];h.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const m=d&&c?TV(d,n):null;let g=-1,y=null;a&&(y=new ResizeObserver(S=>{let[T]=S;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let _,x=u?Ta(t):null;u&&E();function E(){const S=Ta(t);x&&!VP(x,S)&&n(),x=S,_=requestAnimationFrame(E)}return n(),()=>{var S;h.forEach(T=>{s&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),m?.(),(S=y)==null||S.disconnect(),y=null,u&&cancelAnimationFrame(_)}}const RV=Z7,kV=Q7,MV=Y7,OV=tV,PV=X7,eA=K7,IV=eV,LV=(t,e,n)=>{const r=new Map,s={platform:CV,...n},i={...s.platform,_c:r};return W7(t,e,{...s,platform:i})};var DV=typeof document<"u",NV=function(){},ym=DV?C.useLayoutEffect:NV;function Qm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function UP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tA(t,e){const n=UP(t);return Math.round(e*n)/n}function ev(t){const e=C.useRef(t);return ym(()=>{e.current=t}),e}function jV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=t,[h,m]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=C.useState(r);Qm(g,r)||y(r);const[_,x]=C.useState(null),[E,S]=C.useState(null),T=C.useCallback(z=>{z!==P.current&&(P.current=z,x(z))},[]),k=C.useCallback(z=>{z!==j.current&&(j.current=z,S(z))},[]),L=i||_,I=a||E,P=C.useRef(null),j=C.useRef(null),$=C.useRef(h),H=u!=null,B=ev(u),Y=ev(s),ne=ev(d),re=C.useCallback(()=>{if(!P.current||!j.current)return;const z={placement:e,strategy:n,middleware:g};Y.current&&(z.platform=Y.current),LV(P.current,j.current,z).then(le=>{const A={...le,isPositioned:ne.current!==!1};Z.current&&!Qm($.current,A)&&($.current=A,Tx.flushSync(()=>{m(A)}))})},[g,e,n,Y,ne]);ym(()=>{d===!1&&$.current.isPositioned&&($.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const Z=C.useRef(!1);ym(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ym(()=>{if(L&&(P.current=L),I&&(j.current=I),L&&I){if(B.current)return B.current(L,I,re);re()}},[L,I,re,B,H]);const ae=C.useMemo(()=>({reference:P,floating:j,setReference:T,setFloating:k}),[T,k]),U=C.useMemo(()=>({reference:L,floating:I}),[L,I]),X=C.useMemo(()=>{const z={position:n,left:0,top:0};if(!U.floating)return z;const le=tA(U.floating,h.x),A=tA(U.floating,h.y);return c?{...z,transform:"translate("+le+"px, "+A+"px)",...UP(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:A}},[n,c,U.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:re,refs:ae,elements:U,floatingStyles:X}),[h,re,ae,U,X])}const BV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?eA({element:r.current,padding:s}).fn(n):{}:r?eA({element:r,padding:s}).fn(n):{}}}},$V=(t,e)=>({...RV(t),options:[t,e]}),VV=(t,e)=>({...kV(t),options:[t,e]}),UV=(t,e)=>({...IV(t),options:[t,e]}),FV=(t,e)=>({...MV(t),options:[t,e]}),zV=(t,e)=>({...OV(t),options:[t,e]}),HV=(t,e)=>({...PV(t),options:[t,e]}),qV=(t,e)=>({...BV(t),options:[t,e]});var GV="Arrow",FP=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return w.jsx(Xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});FP.displayName=GV;var WV=FP;function zP(t){const[e,n]=C.useState(void 0);return Po(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,c=d.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Lx="Popper",[HP,ry]=Oi(Lx),[KV,qP]=HP(Lx),GP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return w.jsx(KV,{scope:e,anchor:r,onAnchorChange:s,children:n})};GP.displayName=Lx;var WP="PopperAnchor",KP=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qP(WP,n),a=C.useRef(null),c=vt(e,a),u=C.useRef(null);return C.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&i.onAnchorChange(u.current)}),r?null:w.jsx(Xe.div,{...s,ref:c})});KP.displayName=WP;var Dx="PopperContent",[YV,XV]=HP(Dx),YP=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:_,...x}=t,E=qP(Dx,n),[S,T]=C.useState(null),k=vt(e,ve=>T(ve)),[L,I]=C.useState(null),P=zP(L),j=P?.width??0,$=P?.height??0,H=r+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},Y=Array.isArray(d)?d:[d],ne=Y.length>0,re={padding:B,boundary:Y.filter(ZV),altBoundary:ne},{refs:Z,floatingStyles:ae,placement:U,isPositioned:X,middlewareData:z}=jV({strategy:"fixed",placement:H,whileElementsMounted:(...ve)=>AV(...ve,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[$V({mainAxis:s+$,alignmentAxis:a}),u&&VV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?UV():void 0,...re}),u&&FV({...re}),zV({...re,apply:({elements:ve,rects:Ne,availableWidth:mt,availableHeight:Rt})=>{const{width:kt,height:xn}=Ne.reference,Sn=ve.floating.style;Sn.setProperty("--radix-popper-available-width",`${mt}px`),Sn.setProperty("--radix-popper-available-height",`${Rt}px`),Sn.setProperty("--radix-popper-anchor-width",`${kt}px`),Sn.setProperty("--radix-popper-anchor-height",`${xn}px`)}}),L&&qV({element:L,padding:c}),QV({arrowWidth:j,arrowHeight:$}),g&&HV({strategy:"referenceHidden",...re})]}),[le,A]=ZP(U),ee=Xn(_);Po(()=>{X&&ee?.()},[X,ee]);const fe=z.arrow?.x,O=z.arrow?.y,me=z.arrow?.centerOffset!==0,[Ce,ye]=C.useState();return Po(()=>{S&&ye(window.getComputedStyle(S).zIndex)},[S]),w.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:X?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(YV,{scope:n,placedSide:le,onArrowChange:I,arrowX:fe,arrowY:O,shouldHideArrow:me,children:w.jsx(Xe.div,{"data-side":le,"data-align":A,...x,ref:k,style:{...x.style,animation:X?void 0:"none"}})})})});YP.displayName=Dx;var XP="PopperArrow",JV={top:"bottom",right:"left",bottom:"top",left:"right"},JP=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=XV(XP,r),a=JV[i.placedSide];return w.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w.jsx(WV,{...s,ref:n,style:{...s.style,display:"block"}})})});JP.displayName=XP;function ZV(t){return t!==null}var QV=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,h]=ZP(n),m={start:"0%",center:"50%",end:"100%"}[h],g=(s.arrow?.x??0)+c/2,y=(s.arrow?.y??0)+u/2;let _="",x="";return d==="bottom"?(_=a?m:`${g}px`,x=`${-u}px`):d==="top"?(_=a?m:`${g}px`,x=`${r.floating.height+u}px`):d==="right"?(_=`${-u}px`,x=a?m:`${y}px`):d==="left"&&(_=`${r.floating.width+u}px`,x=a?m:`${y}px`),{data:{x:_,y:x}}}});function ZP(t){const[e,n="center"]=t.split("-");return[e,n]}var QP=GP,eI=KP,tI=YP,nI=JP,eU="Portal",sy=C.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=C.useState(!1);Po(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?c7.createPortal(w.jsx(Xe.div,{...r,ref:e}),a):null});sy.displayName=eU;function tU(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var ws=t=>{const{present:e,children:n}=t,r=nU(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=vt(r.ref,rU(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};ws.displayName="Presence";function nU(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),a=t?"mounted":"unmounted",[c,u]=tU(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=wp(r.current);i.current=c==="mounted"?d:"none"},[c]),Po(()=>{const d=r.current,h=s.current;if(h!==t){const g=i.current,y=wp(d);t?u("MOUNT"):y==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Po(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=y=>{const x=wp(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&x&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=y=>{y.target===e&&(i.current=wp(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function wp(t){return t?.animationName||"none"}function rU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sU=FO[" useInsertionEffect ".trim().toString()]||Po;function xc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=iU({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const m=h.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,r])}const d=C.useCallback(h=>{if(c){const m=oU(h)?h(t):h;m!==t&&a.current?.(m)}else i(h)},[c,t,i,a]);return[u,d]}function iU({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return sU(()=>{i.current=e},[e]),C.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function oU(t){return typeof t=="function"}var aU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Al=new WeakMap,xp=new WeakMap,Sp={},tv=0,rI=function(t){return t&&(t.host||rI(t.parentNode))},lU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cU=function(t,e,n,r){var s=lU(e,Array.isArray(t)?t:[t]);Sp[n]||(Sp[n]=new WeakMap);var i=Sp[n],a=[],c=new Set,u=new Set(s),d=function(m){!m||c.has(m)||(c.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))h(g);else try{var y=g.getAttribute(r),_=y!==null&&y!=="false",x=(Al.get(g)||0)+1,E=(i.get(g)||0)+1;Al.set(g,x),i.set(g,E),a.push(g),x===1&&_&&xp.set(g,!0),E===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return h(e),c.clear(),tv++,function(){a.forEach(function(m){var g=Al.get(m)-1,y=i.get(m)-1;Al.set(m,g),i.set(m,y),g||(xp.has(m)||m.removeAttribute(r),xp.delete(m)),y||m.removeAttribute(n)}),tv--,tv||(Al=new WeakMap,Al=new WeakMap,xp=new WeakMap,Sp={})}},sI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=aU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),cU(r,s,n,"aria-hidden")):function(){return null}},Us=function(){return Us=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Us.apply(this,arguments)};function iI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bm(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var vm="right-scroll-bar-position",_m="width-before-scroll-bar",uU="with-scroll-bars-hidden",fU="--removed-body-scroll-bar-size";function nv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dU(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var hU=typeof window<"u"?C.useLayoutEffect:C.useEffect,nA=new WeakMap;function pU(t,e){var n=dU(null,function(r){return t.forEach(function(s){return nv(s,r)})});return hU(function(){var r=nA.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||nv(c,null)}),i.forEach(function(c){s.has(c)||nv(c,a)})}nA.set(n,t)},[t]),n}function mU(t){return t}function gU(t,e){e===void 0&&(e=mU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var u=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function yU(t){t===void 0&&(t={});var e=gU(null);return e.options=Us({async:!0,ssr:!1},t),e}var oI=function(t){var e=t.sideCar,n=iI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Us({},n))};oI.isSideCarExport=!0;function bU(t,e){return t.useMedium(e),oI}var aI=yU(),rv=function(){},iy=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:rv,onWheelCapture:rv,onTouchMoveCapture:rv}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,y=t.noRelative,_=t.noIsolation,x=t.inert,E=t.allowPinchZoom,S=t.as,T=S===void 0?"div":S,k=t.gapMode,L=iI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,P=pU([n,e]),j=Us(Us({},L),s);return C.createElement(C.Fragment,null,h&&C.createElement(I,{sideCar:aI,removeScrollBar:d,shards:m,noRelative:y,noIsolation:_,inert:x,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:k}),a?C.cloneElement(C.Children.only(c),Us(Us({},j),{ref:P})):C.createElement(T,Us({},j,{className:u,ref:P}),c))});iy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iy.classNames={fullWidth:_m,zeroRight:vm};var vU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _U(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vU();return e&&t.setAttribute("nonce",e),t}function wU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var SU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_U())&&(wU(e,n),xU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EU=function(){var t=SU();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lI=function(){var t=EU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},CU={left:0,top:0,right:0,gap:0},sv=function(t){return parseInt(t||"",10)||0},TU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sv(n),sv(r),sv(s)]},AU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CU;var e=TU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},RU=lI(),ic="data-scroll-locked",kU=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(uU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vm,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(_m,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_m," .").concat(_m,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ic,`] {
    `).concat(fU,": ").concat(c,`px;
  }
`)},rA=function(){var t=parseInt(document.body.getAttribute(ic)||"0",10);return isFinite(t)?t:0},MU=function(){C.useEffect(function(){return document.body.setAttribute(ic,(rA()+1).toString()),function(){var t=rA()-1;t<=0?document.body.removeAttribute(ic):document.body.setAttribute(ic,t.toString())}},[])},OU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;MU();var i=C.useMemo(function(){return AU(s)},[s]);return C.createElement(RU,{styles:kU(i,!e,s,n?"":"!important")})},N_=!1;if(typeof window<"u")try{var Ep=Object.defineProperty({},"passive",{get:function(){return N_=!0,!0}});window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,Ep)}catch{N_=!1}var Rl=N_?{passive:!1}:!1,PU=function(t){return t.tagName==="TEXTAREA"},cI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PU(t)&&n[e]==="visible")},IU=function(t){return cI(t,"overflowY")},LU=function(t){return cI(t,"overflowX")},sA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uI(t,r);if(s){var i=fI(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},NU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uI=function(t,e){return t==="v"?IU(e):LU(e)},fI=function(t,e){return t==="v"?DU(e):NU(e)},jU=function(t,e){return t==="h"&&e==="rtl"?-1:1},BU=function(t,e,n,r,s){var i=jU(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,u=e.contains(c),d=!1,h=a>0,m=0,g=0;do{if(!c)break;var y=fI(t,c),_=y[0],x=y[1],E=y[2],S=x-E-i*_;(_||S)&&uI(t,c)&&(m+=S,g+=_);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(d=!0),d},Cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iA=function(t){return[t.deltaX,t.deltaY]},oA=function(t){return t&&"current"in t?t.current:t},$U=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UU=0,kl=[];function FU(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(UU++)[0],i=C.useState(lI)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=bm([t.lockRef.current],(t.shards||[]).map(oA),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var S=Cp(x),T=n.current,k="deltaX"in x?x.deltaX:T[0]-S[0],L="deltaY"in x?x.deltaY:T[1]-S[1],I,P=x.target,j=Math.abs(k)>Math.abs(L)?"h":"v";if("touches"in x&&j==="h"&&P.type==="range")return!1;var $=sA(j,P);if(!$)return!0;if($?I=j:(I=j==="v"?"h":"v",$=sA(j,P)),!$)return!1;if(!r.current&&"changedTouches"in x&&(k||L)&&(r.current=I),!I)return!0;var H=r.current||I;return BU(H,E,x,H==="h"?k:L)},[]),u=C.useCallback(function(x){var E=x;if(!(!kl.length||kl[kl.length-1]!==i)){var S="deltaY"in E?iA(E):Cp(E),T=e.current.filter(function(I){return I.name===E.type&&(I.target===E.target||E.target===I.shadowParent)&&$U(I.delta,S)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var k=(a.current.shards||[]).map(oA).filter(Boolean).filter(function(I){return I.contains(E.target)}),L=k.length>0?c(E,k[0]):!a.current.noIsolation;L&&E.cancelable&&E.preventDefault()}}},[]),d=C.useCallback(function(x,E,S,T){var k={name:x,delta:E,target:S,should:T,shadowParent:zU(S)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(L){return L!==k})},1)},[]),h=C.useCallback(function(x){n.current=Cp(x),r.current=void 0},[]),m=C.useCallback(function(x){d(x.type,iA(x),x.target,c(x,t.lockRef.current))},[]),g=C.useCallback(function(x){d(x.type,Cp(x),x.target,c(x,t.lockRef.current))},[]);C.useEffect(function(){return kl.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Rl),document.addEventListener("touchmove",u,Rl),document.addEventListener("touchstart",h,Rl),function(){kl=kl.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,Rl),document.removeEventListener("touchmove",u,Rl),document.removeEventListener("touchstart",h,Rl)}},[]);var y=t.removeScrollBar,_=t.inert;return C.createElement(C.Fragment,null,_?C.createElement(i,{styles:VU(s)}):null,y?C.createElement(OU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const HU=bU(aI,FU);var Nx=C.forwardRef(function(t,e){return C.createElement(iy,Us({},t,{ref:e,sideCar:HU}))});Nx.classNames=iy.classNames;var jx=t=>{const e=C.useRef(void 0);return C.useCallback(r=>{e.current&&e.current(),r&&(e.current=t(r))},[t])},qU=()=>{const t=Ir(),e=ht(()=>t.message()),n=C.useCallback(r=>{const s=()=>{e.setIsHovering(!0)},i=()=>{e.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",i),r.matches(":hover")&&e.setIsHovering(!0),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",i),e.setIsHovering(!1)}},[e]);return jx(n)},Bx=C.forwardRef((t,e)=>{const n=qU(),r=vt(e,n);return w.jsx(Xe.div,{...t,ref:r})});Bx.displayName="MessagePrimitive.Root";var dI=()=>ht(({part:e})=>{if(e.type!=="text"&&e.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return e}),hI=C.forwardRef(({smooth:t=!0,component:e="span",...n},r)=>{const{text:s,status:i}=vP(dI(),t);return w.jsx(e,{"data-status":i.type,...n,ref:r,children:s})});hI.displayName="MessagePartPrimitive.Text";var GU=()=>ht(({part:e})=>{if(e.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return e}),pI=C.forwardRef((t,e)=>{const{image:n}=GU();return w.jsx(Xe.img,{src:n,...t,ref:e})});pI.displayName="MessagePartPrimitive.Image";var mI=({children:t})=>ht(({part:n})=>n.status.type==="running")?t:null;mI.displayName="MessagePartPrimitive.InProgress";const aA=t=>Symbol.iterator in t,lA=t=>"entries"in t,cA=(t,e)=>{const n=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(n.size!==r.size)return!1;for(const[s,i]of n)if(!r.has(s)||!Object.is(i,r.get(s)))return!1;return!0},WU=(t,e)=>{const n=t[Symbol.iterator](),r=e[Symbol.iterator]();let s=n.next(),i=r.next();for(;!s.done&&!i.done;){if(!Object.is(s.value,i.value))return!1;s=n.next(),i=r.next()}return!!s.done&&!!i.done};function KU(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:aA(t)&&aA(e)?lA(t)&&lA(e)?cA(t,e):WU(t,e):cA({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function YU(t){const e=Ee.useRef(void 0);return n=>{const r=t(n);return KU(e.current,r)?e.current:e.current=r}}var XU=t=>{const e=[];let n=-1;for(let r=0;r<t.length;r++)t[r]==="tool-call"?n===-1&&(n=r):(n!==-1&&(e.push({type:"toolGroup",startIndex:n,endIndex:r-1}),n=-1),e.push({type:"single",index:r}));return n!==-1&&e.push({type:"toolGroup",startIndex:n,endIndex:t.length-1}),e},JU=()=>{const t=ht(YU(e=>e.message.parts.map(n=>n.type)));return C.useMemo(()=>t.length===0?[]:XU(t),[t])},ZU=({Fallback:t,...e})=>{const n=ht(({toolUIs:r})=>{const s=r[e.toolName]??t;return Array.isArray(s)?s[0]:s});return n?w.jsx(n,{...e}):null},Eo={Text:()=>w.jsxs("p",{style:{whiteSpace:"pre-line"},children:[w.jsx(hI,{}),w.jsx(mI,{children:w.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>w.jsx(pI,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:t})=>t},QU=({components:{Text:t=Eo.Text,Reasoning:e=Eo.Reasoning,Image:n=Eo.Image,Source:r=Eo.Source,File:s=Eo.File,Unstable_Audio:i=Eo.Unstable_Audio,tools:a={}}={}})=>{const c=Ir(),u=ht(({part:h})=>h),d=u.type;if(d==="tool-call"){const h=g=>c.part().addToolResult(g);if("Override"in a)return w.jsx(a.Override,{...u,addResult:h});const m=a.by_name?.[u.toolName]??a.Fallback;return w.jsx(ZU,{...u,Fallback:m,addResult:h})}if(u.status?.type==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(d){case"text":return w.jsx(t,{...u});case"reasoning":return w.jsx(e,{...u});case"source":return w.jsx(r,{...u});case"image":return w.jsx(n,{...u});case"file":return w.jsx(s,{...u});case"audio":return w.jsx(i,{...u});default:const h=d;throw new Error(`Unknown message part type: ${h}`)}},j_=C.memo(({index:t,components:e})=>w.jsx(G$,{index:t,children:w.jsx(QU,{components:e})}),(t,e)=>t.index===e.index&&t.components?.Text===e.components?.Text&&t.components?.Reasoning===e.components?.Reasoning&&t.components?.Source===e.components?.Source&&t.components?.Image===e.components?.Image&&t.components?.File===e.components?.File&&t.components?.Unstable_Audio===e.components?.Unstable_Audio&&t.components?.tools===e.components?.tools&&t.components?.ToolGroup===e.components?.ToolGroup);j_.displayName="MessagePrimitive.PartByIndex";var eF=({status:t,component:e})=>w.jsx(K$,{text:"",isRunning:t.type==="running",children:w.jsx(e,{type:"text",text:"",status:t})}),tF=Object.freeze({type:"complete"}),nF=({components:t})=>{const e=ht(n=>n.message.status??tF);return t?.Empty?w.jsx(t.Empty,{status:e}):w.jsx(eF,{status:e,component:t?.Text??Eo.Text})},rF=C.memo(nF,(t,e)=>t.components?.Empty===e.components?.Empty&&t.components?.Text===e.components?.Text),$x=({components:t})=>{const e=ht(({message:s})=>s.parts.length),n=JU(),r=C.useMemo(()=>e===0?w.jsx(rF,{components:t}):n.map(s=>{if(s.type==="single")return w.jsx(j_,{index:s.index,components:t},s.index);{const i=t.ToolGroup??Eo.ToolGroup;return w.jsx(i,{startIndex:s.startIndex,endIndex:s.endIndex,children:Array.from({length:s.endIndex-s.startIndex+1},(a,c)=>w.jsx(j_,{index:s.startIndex+c,components:t},c))},s.startIndex)}}),[n,t,e]);return w.jsx(w.Fragment,{children:r})};$x.displayName="MessagePrimitive.Parts";var sF=t=>ht(({message:e})=>{const{role:n,attachments:r,parts:s,branchCount:i,isLast:a,speech:c,submittedFeedback:u,isCopied:d,isHovering:h}=e;return!(t.hasBranches===!0&&i<2||t.user&&n!=="user"||t.assistant&&n!=="assistant"||t.system&&n!=="system"||t.lastOrHover===!0&&!h&&!a||t.last!==void 0&&t.last!==a||t.copied===!0&&!d||t.copied===!1&&d||t.speaking===!0&&c==null||t.speaking===!1&&c!=null||t.hasAttachments===!0&&(n!=="user"||!r?.length)||t.hasAttachments===!1&&n==="user"&&r?.length||t.hasContent===!0&&s.length===0||t.hasContent===!1&&s.length>0||t.submittedFeedback!==void 0&&(u?.type??null)!==t.submittedFeedback)}),B_=({children:t,...e})=>sF(e)?t:null;B_.displayName="MessagePrimitive.If";var gI=({children:t})=>ht(({message:n})=>n.status?.type==="incomplete"&&n.status.reason==="error")?w.jsx(w.Fragment,{children:t}):null;gI.displayName="MessagePrimitive.Error";var yI=()=>{const t=Ir(),e=ht(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=C.useCallback(()=>{t.composer().send()},[t]);return e?null:n},iF=CP("ComposerPrimitive.Send",yI),bI=C.forwardRef(({onSubmit:t,...e},n)=>{const r=yI(),s=i=>{i.preventDefault(),r&&r()};return w.jsx(Xe.form,{...e,ref:n,onSubmit:ke(t,s)})});bI.displayName="ComposerPrimitive.Root";function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(null,arguments)}function vI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oF=C.useLayoutEffect,aF=function(e){var n=Ee.useRef(e);return oF(function(){n.current=e}),n},uA=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},lF=function(e,n){var r=Ee.useRef();return Ee.useCallback(function(s){e.current=s,r.current&&uA(r.current,null),r.current=n,n&&uA(n,s)},[n])},fA={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},cF=function(e){Object.keys(fA).forEach(function(n){e.style.setProperty(n,fA[n],"important")})},dA=cF,zn=null,hA=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function uF(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),zn||(zn=document.createElement("textarea"),zn.setAttribute("tabindex","-1"),zn.setAttribute("aria-hidden","true"),dA(zn)),zn.parentNode===null&&document.body.appendChild(zn);var s=t.paddingSize,i=t.borderSize,a=t.sizingStyle,c=a.boxSizing;Object.keys(a).forEach(function(g){var y=g;zn.style[y]=a[y]}),dA(zn),zn.value=e;var u=hA(zn,t);zn.value=e,u=hA(zn,t),zn.value="x";var d=zn.scrollHeight-s,h=d*n;c==="border-box"&&(h=h+s+i),u=Math.max(h,u);var m=d*r;return c==="border-box"&&(m=m+s+i),u=Math.min(m,u),[u,d]}var pA=function(){},fF=function(e,n){return e.reduce(function(r,s){return r[s]=n[s],r},{})},dF=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],hF=!!document.documentElement.currentStyle,pF=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=fF(dF,n),s=r.boxSizing;if(s==="")return null;hF&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:a}},mF=pF;function Vx(t,e,n){var r=aF(n);C.useLayoutEffect(function(){var s=function(a){return r.current(a)};if(t)return t.addEventListener(e,s),function(){return t.removeEventListener(e,s)}},[])}var gF=function(e,n){Vx(document.body,"reset",function(r){e.current.form===r.target&&n(r)})},yF=function(e){Vx(window,"resize",e)},bF=function(e){Vx(document.fonts,"loadingdone",e)},vF=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],_F=function(e,n){var r=e.cacheMeasurements,s=e.maxRows,i=e.minRows,a=e.onChange,c=a===void 0?pA:a,u=e.onHeightChange,d=u===void 0?pA:u,h=vI(e,vF),m=h.value!==void 0,g=C.useRef(null),y=lF(g,n),_=C.useRef(0),x=C.useRef(),E=function(){var k=g.current,L=r&&x.current?x.current:mF(k);if(L){x.current=L;var I=uF(L,k.value||k.placeholder||"x",i,s),P=I[0],j=I[1];_.current!==P&&(_.current=P,k.style.setProperty("height",P+"px","important"),d(P,{rowHeight:j}))}},S=function(k){m||E(),c(k)};return C.useLayoutEffect(E),gF(g,function(){if(!m){var T=g.current.value;requestAnimationFrame(function(){var k=g.current;k&&T!==k.value&&E()})}}),yF(E),bF(E),C.createElement("textarea",od({},h,{onChange:S,ref:y}))},wF=C.forwardRef(_F),_I=t=>{const e=Xn(t),n=n$(r=>r.onScrollToBottom);C.useEffect(()=>n(e),[n,e])},wI=C.forwardRef(({autoFocus:t=!1,asChild:e,disabled:n,onChange:r,onKeyDown:s,onPaste:i,submitOnEnter:a=!0,cancelOnEscape:c=!0,unstable_focusOnRunStart:u=!0,unstable_focusOnScrollToBottom:d=!0,unstable_focusOnThreadSwitched:h=!0,addAttachmentOnPaste:m=!0,...g},y)=>{const _=Ir(),x=ht(({composer:$})=>$.isEditing?$.text:""),E=e?_P:wF,S=ht(({thread:$})=>$.isDisabled)||n,T=C.useRef(null),k=vt(y,T);TP($=>{if(!c)return;const H=_.composer();H.getState().canCancel&&(H.cancel(),$.preventDefault())});const L=$=>{S||!a||$.nativeEvent.isComposing||$.key==="Enter"&&$.shiftKey===!1&&(_.thread().getState().isRunning||($.preventDefault(),T.current?.closest("form")?.requestSubmit()))},I=async $=>{if(!m)return;const H=_.thread().getState().capabilities,B=Array.from($.clipboardData?.files||[]);if(H.attachments&&B.length>0)try{$.preventDefault(),await Promise.all(B.map(Y=>_.composer().addAttachment(Y)))}catch(Y){console.error("Error adding attachment:",Y)}},P=t&&!S,j=C.useCallback(()=>{const $=T.current;!$||!P||($.focus({preventScroll:!0}),$.setSelectionRange($.value.length,$.value.length))},[P]);return C.useEffect(()=>j(),[j]),_I(()=>{_.composer().getState().type==="thread"&&d&&j()}),C.useEffect(()=>{if(!(_.composer().getState().type!=="thread"||!u))return _.on("thread.run-start",j)},[u,j,_]),C.useEffect(()=>{if(!(_.composer().getState().type!=="thread"||!h))return _.on("thread-list-item.switched-to",j)},[h,j,_]),w.jsx(E,{name:"input",value:x,...g,ref:k,disabled:S,onChange:ke(r,$=>{_.composer().getState().isEditing&&(_.composer().setText($.target.value),_.flushSync())}),onKeyDown:ke(s,L),onPaste:ke(i,I)})});wI.displayName="ComposerPrimitive.Input";var xF=()=>{const t=Ir(),e=ht(({composer:r})=>!r.canCancel),n=C.useCallback(()=>{t.composer().cancel()},[t]);return e?null:n},SF=CP("ComposerPrimitive.Cancel",xF),xI=C.forwardRef((t,e)=>w.jsx(Xe.div,{role:"alert",...t,ref:e}));xI.displayName="ErrorPrimitive.Root";var SI=C.forwardRef(({children:t,...e},n)=>{const r=ht(({message:s})=>s.status?.type==="incomplete"&&s.status.reason==="error"?s.status.error:void 0);return r===void 0?null:w.jsx(Xe.span,{...e,ref:n,children:t??String(r)})});SI.displayName="ErrorPrimitive.Message";var EI=C.forwardRef((t,e)=>w.jsx(Xe.div,{...t,ref:e}));EI.displayName="ThreadPrimitive.Root";var CI=({children:t})=>ht(({thread:n})=>n.messages.length===0)?t:null;CI.displayName="ThreadPrimitive.Empty";var EF=t=>ht(({thread:e})=>!(t.empty===!0&&e.messages.length!==0||t.empty===!1&&e.messages.length===0||t.running===!0&&!e.isRunning||t.running===!1&&e.isRunning||t.disabled===!0&&!e.isDisabled||t.disabled===!1&&e.isDisabled)),eg=({children:t,...e})=>EF(e)?t:null;eg.displayName="ThreadPrimitive.If";var CF=t=>{const e=Xn(t),n=C.useCallback(r=>{const s=new ResizeObserver(()=>{e()}),i=new MutationObserver(()=>{e()});return s.observe(r),i.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),i.disconnect()}},[e]);return jx(n)},TF=({autoScroll:t=!0})=>{const e=C.useRef(null),n=oP(),r=C.useRef(0),s=C.useRef(!1),i=C.useCallback(h=>{const m=e.current;!m||!t||(s.current=!0,m.scrollTo({top:m.scrollHeight,behavior:h}))},[t]),a=()=>{const h=e.current;if(!h)return;const m=n.getState().isAtBottom,g=h.scrollHeight-h.scrollTop<=h.clientHeight+1;!g&&r.current<h.scrollTop||(g&&(s.current=!1),g!==m&&Km(n).setState({isAtBottom:g})),r.current=h.scrollTop},c=CF(()=>{(s.current||n.getState().isAtBottom)&&i("instant"),a()}),u=jx(h=>(h.addEventListener("scroll",a),()=>{h.removeEventListener("scroll",a)}));return _I(()=>{i("auto")}),Y$("thread.run-start",()=>i("auto")),vt(c,u,e)},TI=C.forwardRef(({autoScroll:t,children:e,...n},r)=>{const s=TF({autoScroll:t}),i=vt(r,s);return w.jsx(Xe.div,{...n,ref:i,children:e})});TI.displayName="ThreadPrimitive.ViewportScrollable";var $_=C.forwardRef((t,e)=>w.jsx(aP,{children:w.jsx(TI,{...t,ref:e})}));$_.displayName="ThreadPrimitive.Viewport";var AI=(t,e)=>t.Message===e.Message&&t.EditComposer===e.EditComposer&&t.UserEditComposer===e.UserEditComposer&&t.AssistantEditComposer===e.AssistantEditComposer&&t.SystemEditComposer===e.SystemEditComposer&&t.UserMessage===e.UserMessage&&t.AssistantMessage===e.AssistantMessage&&t.SystemMessage===e.SystemMessage,AF=()=>null,RF=(t,e,n)=>{switch(e){case"user":return n?t.UserEditComposer??t.EditComposer??t.UserMessage??t.Message:t.UserMessage??t.Message;case"assistant":return n?t.AssistantEditComposer??t.EditComposer??t.AssistantMessage??t.Message:t.AssistantMessage??t.Message;case"system":return n?t.SystemEditComposer??t.EditComposer??t.SystemMessage??t.Message:t.SystemMessage??AF;default:const r=e;throw new Error(`Unknown message role: ${r}`)}},kF=({components:t})=>{const e=ht(({message:s})=>s.role),n=ht(({message:s})=>s.composer.isEditing),r=RF(t,e,n);return w.jsx(r,{})},RI=C.memo(({index:t,components:e})=>w.jsx(q$,{index:t,children:w.jsx(kF,{components:e})}),(t,e)=>t.index===e.index&&AI(t.components,e.components));RI.displayName="ThreadPrimitive.MessageByIndex";var kI=({components:t})=>{const e=ht(({thread:r})=>r.messages.length);return C.useMemo(()=>e===0?null:Array.from({length:e},(r,s)=>w.jsx(RI,{index:s,components:t},s)),[e,t])};kI.displayName="ThreadPrimitive.Messages";var MF=C.memo(kI,(t,e)=>AI(t.components,e.components));function Ue(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function de(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let MI=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return MI=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function ad(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const V_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Ke extends Error{}let Lr=class U_ extends Ke{constructor(e,n,r,s){super(`${U_.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s?.get("request-id"),this.error=n}static makeMessage(e,n,r){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new oy({message:r,cause:V_(n)});const i=n;return e===400?new PI(e,i,r,s):e===401?new II(e,i,r,s):e===403?new LI(e,i,r,s):e===404?new DI(e,i,r,s):e===409?new NI(e,i,r,s):e===422?new jI(e,i,r,s):e===429?new BI(e,i,r,s):e>=500?new $I(e,i,r,s):new U_(e,i,r,s)}},hs=class extends Lr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},oy=class extends Lr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},OI=class extends oy{constructor({message:e}={}){super({message:e??"Request timed out."})}},PI=class extends Lr{},II=class extends Lr{},LI=class extends Lr{},DI=class extends Lr{},NI=class extends Lr{},jI=class extends Lr{},BI=class extends Lr{},$I=class extends Lr{};const OF=/^[a-z][a-z0-9+.-]*:/i,PF=t=>OF.test(t);let F_=t=>(F_=Array.isArray,F_(t)),mA=F_;function gA(t){return typeof t!="object"?{}:t??{}}function IF(t){if(!t)return!0;for(const e in t)return!1;return!0}function LF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const DF=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ke(`${t} must be an integer`);if(e<0)throw new Ke(`${t} must be a positive integer`);return e},VI=t=>{try{return JSON.parse(t)}catch{return}},NF=t=>new Promise(e=>setTimeout(e,t)),Vl="0.60.0",jF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function BF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $F=()=>{const t=BF();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":bA(Deno.build.os),"X-Stainless-Arch":yA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":bA(globalThis.process.platform??"unknown"),"X-Stainless-Arch":yA(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=VF();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function VF(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const yA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let vA;const UF=()=>vA??(vA=$F());function FF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function UI(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function FI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return UI({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){await e.return?.()}})}function Ux(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zF(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const HF=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function qF(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let _A;function Fx(t){let e;return(_A??(e=new globalThis.TextEncoder,_A=e.encode.bind(e)))(t)}let wA;function xA(t){let e;return(wA??(e=new globalThis.TextDecoder,wA=e.decode.bind(e)))(t)}var wr,xr;let Rd=class{constructor(){wr.set(this,void 0),xr.set(this,void 0),Ue(this,wr,new Uint8Array),Ue(this,xr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Fx(e):e;Ue(this,wr,qF([de(this,wr,"f"),n]));const r=[];let s;for(;(s=GF(de(this,wr,"f"),de(this,xr,"f")))!=null;){if(s.carriage&&de(this,xr,"f")==null){Ue(this,xr,s.index);continue}if(de(this,xr,"f")!=null&&(s.index!==de(this,xr,"f")+1||s.carriage)){r.push(xA(de(this,wr,"f").subarray(0,de(this,xr,"f")-1))),Ue(this,wr,de(this,wr,"f").subarray(de(this,xr,"f"))),Ue(this,xr,null);continue}const i=de(this,xr,"f")!==null?s.preceding-1:s.preceding,a=xA(de(this,wr,"f").subarray(0,i));r.push(a),Ue(this,wr,de(this,wr,"f").subarray(s.index)),Ue(this,xr,null)}return r}flush(){return de(this,wr,"f").length?this.decode(`
`):[]}};wr=new WeakMap,xr=new WeakMap;Rd.NEWLINE_CHARS=new Set([`
`,"\r"]);Rd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function GF(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function WF(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const tg={off:0,error:200,warn:300,info:400,debug:500},SA=(t,e,n)=>{if(t){if(LF(tg,t))return t;qn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tg))}`)}};function df(){}function Tp(t,e,n){return!e||tg[t]>tg[n]?df:e[t].bind(e)}const KF={error:df,warn:df,info:df,debug:df};let EA=new WeakMap;function qn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return KF;const r=EA.get(e);if(r&&r[0]===n)return r[1];const s={error:Tp("error",e,n),warn:Tp("warn",e,n),info:Tp("info",e,n),debug:Tp("debug",e,n)};return EA.set(e,[n,s]),s}const ua=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var zu;let ld=class hf{constructor(e,n,r){this.iterator=e,zu.set(this,void 0),this.controller=n,Ue(this,zu,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?qn(r):console;async function*a(){if(s)throw new Ke("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of YF(e,n)){if(u.event==="completion")try{yield JSON.parse(u.data)}catch(d){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),d}if(u.event==="message_start"||u.event==="message_delta"||u.event==="message_stop"||u.event==="content_block_start"||u.event==="content_block_delta"||u.event==="content_block_stop")try{yield JSON.parse(u.data)}catch(d){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),d}if(u.event!=="ping"&&u.event==="error")throw new Lr(void 0,VI(u.data)??u.data,void 0,e.headers)}c=!0}catch(u){if(ad(u))return;throw u}finally{c||n.abort()}}return new hf(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const c=new Rd,u=Ux(e);for await(const d of u)for(const h of c.decode(d))yield h;for(const d of c.flush())yield d}async function*a(){if(s)throw new Ke("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of i())c||u&&(yield JSON.parse(u));c=!0}catch(u){if(ad(u))return;throw u}finally{c||n.abort()}}return new hf(a,n,r)}[(zu=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new hf(()=>s(e),this.controller,de(this,zu,"f")),new hf(()=>s(n),this.controller,de(this,zu,"f"))]}toReadableStream(){const e=this;let n;return UI({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=Fx(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){await n.return?.()}})}};async function*YF(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ke("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ke("Attempted to iterate over a response with no body");const n=new JF,r=new Rd,s=Ux(t.body);for await(const i of XF(s))for(const a of r.decode(i)){const c=n.decode(a);c&&(yield c)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*XF(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Fx(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=WF(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}let JF=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=ZF(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function ZF(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function zI(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{if(e.options.stream)return qn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):ld.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type")?.split(";")[0]?.trim();if(u?.includes("application/json")||u?.endsWith("+json")){const m=await n.json();return HI(m,n)}return await n.text()})();return qn(t).debug(`[${r}] response parsed`,ua({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function HI(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var pf;let qI=class GI extends Promise{constructor(e,n,r=zI){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,pf.set(this,void 0),Ue(this,pf,e)}_thenUnwrap(e){return new GI(de(this,pf,"f"),this.responsePromise,async(n,r)=>HI(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(de(this,pf,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};pf=new WeakMap;var Ap;let QF=class{constructor(e,n,r,s){Ap.set(this,void 0),Ue(this,Ap,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Ke("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await de(this,Ap,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ap=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}},ez=class extends qI{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await zI(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}},kd=class extends QF{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const n=this.first_id;return n?{...this.options,query:{...gA(this.options.query),before_id:n}}:null}const e=this.last_id;return e?{...this.options,query:{...gA(this.options.query),after_id:e}}:null}};const WI=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function oc(t,e,n){return WI(),new File(t,e??"unknown_file",n)}function wm(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const KI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",tz=async(t,e)=>({...t,body:await rz(t.body,e)}),CA=new WeakMap;function nz(t){const e=typeof t=="function"?t:t.fetch,n=CA.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return CA.set(e,r),r}const rz=async(t,e)=>{if(!await nz(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>z_(n,r,s))),n},sz=t=>t instanceof Blob&&"name"in t,z_=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response){let r={};const s=n.headers.get("Content-Type");s&&(r={type:s}),t.append(e,oc([await n.blob()],wm(n),r))}else if(KI(n))t.append(e,oc([await new Response(FI(n)).blob()],wm(n)));else if(sz(n))t.append(e,oc([n],wm(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(r=>z_(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>z_(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},YI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",iz=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&YI(t),oz=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function az(t,e,n){if(WI(),t=await t,e||(e=wm(t)),iz(t))return t instanceof File&&e==null&&n==null?t:oc([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...n});if(oz(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),oc(await H_(s),e,n)}const r=await H_(t);if(!n?.type){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return oc(r,e,n)}async function H_(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(YI(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(KI(t))for await(const n of t)e.push(...await H_(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${lz(t)}`)}return e}function lz(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let Pi=class{constructor(e){this._client=e}};const XI=Symbol.for("brand.privateNullableHeaders");function*cz(t){if(!t)return;if(XI in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():mA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=mA(r[1])?r[1]:[r[1]];let a=!1;for(const c of i)c!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,c])}}const xt=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of cz(r)){const c=i.toLowerCase();s.has(c)||(e.delete(i),s.add(c)),a===null?(e.delete(i),n.add(c)):(e.append(i,a),n.delete(c))}}return{[XI]:!0,values:e,nulls:n}};function JI(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const TA=Object.freeze(Object.create(null)),uz=(t=JI)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((h,m,g)=>{/[?#]/.test(m)&&(s=!0);const y=r[g];let _=(s?encodeURIComponent:t)(""+y);return g!==r.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??TA)??TA)?.toString)&&(_=y+"",i.push({start:h.length+m.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":_)},""),c=a.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=u.exec(c))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((h,m)=>h.start-m.start),i.length>0){let h=0;const m=i.reduce((g,y)=>{const _=" ".repeat(y.start-h),x="^".repeat(y.length);return h=y.start+y.length,g+_+x},"");throw new Ke(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${a}
${m}`)}return a},ps=uz(JI);let ZI=class extends Pi{list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/files",kd,{query:s,...n,headers:xt([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(ps`/v1/files/${e}`,{...r,headers:xt([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])})}download(e,n={},r){const{betas:s}=n??{};return this._client.get(ps`/v1/files/${e}/content`,{...r,headers:xt([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}retrieveMetadata(e,n={},r){const{betas:s}=n??{};return this._client.get(ps`/v1/files/${e}`,{...r,headers:xt([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])})}upload(e,n){const{betas:r,...s}=e;return this._client.post("/v1/files",tz({body:s,...n,headers:xt([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])},this._client))}},QI=class extends Pi{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(ps`/v1/models/${e}?beta=true`,{...r,headers:xt([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models?beta=true",kd,{query:s,...n,headers:xt([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}};class ay{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){const e=new Rd;for await(const n of this.iterator)for(const r of e.decode(n))yield JSON.parse(r);for(const n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ke("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ke("Attempted to iterate over a response with no body");return new ay(Ux(e.body),n)}}let eL=class extends Pi{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/batches?beta=true",{body:s,...n,headers:xt([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(ps`/v1/messages/batches/${e}?beta=true`,{...r,headers:xt([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",kd,{query:s,...n,headers:xt([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(ps`/v1/messages/batches/${e}?beta=true`,{...r,headers:xt([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}cancel(e,n={},r){const{betas:s}=n??{};return this._client.post(ps`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:xt([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}async results(e,n={},r){const s=await this.retrieve(e);if(!s.results_url)throw new Ke(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:i}=n??{};return this._client.get(s.results_url,{...r,headers:xt([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((a,c)=>ay.fromResponse(c.response,c.controller))}};const fz=t=>{let e=0,n=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(r==="["){n.push({type:"paren",value:"["}),e++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(r===":"){n.push({type:"separator",value:":"}),e++;continue}if(r===","){n.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let c="",u=!1;for(r=t[++e];r!=='"';){if(e===t.length){u=!0;break}if(r==="\\"){if(e++,e===t.length){u=!0;break}c+=r+t[e],r=t[++e]}else c+=r,r=t[++e]}r=t[++e],u||n.push({type:"string",value:c});continue}if(r&&/\s/.test(r)){e++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let c="";for(r==="-"&&(c+=r,r=t[++e]);r&&i.test(r)||r===".";)c+=r,r=t[++e];n.push({type:"number",value:c});continue}let a=/[a-z]/i;if(r&&a.test(r)){let c="";for(;r&&a.test(r)&&e!==t.length;)c+=r,r=t[++e];if(c=="true"||c=="false"||c==="null")n.push({type:"name",value:c});else{e++;continue}continue}e++}return n},Ul=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),Ul(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),Ul(t);case"string":let r=t[t.length-2];if(r?.type==="delimiter")return t=t.slice(0,t.length-1),Ul(t);if(r?.type==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),Ul(t);break;case"delimiter":return t=t.slice(0,t.length-1),Ul(t)}return t},dz=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},hz=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},tL=t=>JSON.parse(hz(dz(Ul(fz(t)))));var qr,mo,Hu,Rp,qu,Gu,kp,Wu,gi,Ku,Mp,Op,Ml,Pp,Ip,iv,AA,Lp,ov,av,lv,RA;const kA="__json_buf";function MA(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}class ng{constructor(){qr.add(this),this.messages=[],this.receivedMessages=[],mo.set(this,void 0),this.controller=new AbortController,Hu.set(this,void 0),Rp.set(this,()=>{}),qu.set(this,()=>{}),Gu.set(this,void 0),kp.set(this,()=>{}),Wu.set(this,()=>{}),gi.set(this,{}),Ku.set(this,!1),Mp.set(this,!1),Op.set(this,!1),Ml.set(this,!1),Pp.set(this,void 0),Ip.set(this,void 0),Lp.set(this,e=>{if(Ue(this,Mp,!0),ad(e)&&(e=new hs),e instanceof hs)return Ue(this,Op,!0),this._emit("abort",e);if(e instanceof Ke)return this._emit("error",e);if(e instanceof Error){const n=new Ke(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ke(String(e)))}),Ue(this,Hu,new Promise((e,n)=>{Ue(this,Rp,e,"f"),Ue(this,qu,n,"f")})),Ue(this,Gu,new Promise((e,n)=>{Ue(this,kp,e,"f"),Ue(this,Wu,n,"f")})),de(this,Hu,"f").catch(()=>{}),de(this,Gu,"f").catch(()=>{})}get response(){return de(this,Pp,"f")}get request_id(){return de(this,Ip,"f")}async withResponse(){const e=await de(this,Hu,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new ng;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const s=new ng;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},de(this,Lp,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){const s=r?.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{de(this,qr,"m",ov).call(this);const{response:a,data:c}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(a);for await(const u of c)de(this,qr,"m",av).call(this,u);if(c.controller.signal?.aborted)throw new hs;de(this,qr,"m",lv).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(Ue(this,Pp,e),Ue(this,Ip,e?.headers.get("request-id")),de(this,Rp,"f").call(this,e),this._emit("connect"))}get ended(){return de(this,Ku,"f")}get errored(){return de(this,Mp,"f")}get aborted(){return de(this,Op,"f")}abort(){this.controller.abort()}on(e,n){return(de(this,gi,"f")[e]||(de(this,gi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=de(this,gi,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(de(this,gi,"f")[e]||(de(this,gi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Ue(this,Ml,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Ue(this,Ml,!0),await de(this,Gu,"f")}get currentMessage(){return de(this,mo,"f")}async finalMessage(){return await this.done(),de(this,qr,"m",iv).call(this)}async finalText(){return await this.done(),de(this,qr,"m",AA).call(this)}_emit(e,...n){if(de(this,Ku,"f"))return;e==="end"&&(Ue(this,Ku,!0),de(this,kp,"f").call(this));const r=de(this,gi,"f")[e];if(r&&(de(this,gi,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!de(this,Ml,"f")&&!r?.length&&Promise.reject(s),de(this,qu,"f").call(this,s),de(this,Wu,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!de(this,Ml,"f")&&!r?.length&&Promise.reject(s),de(this,qu,"f").call(this,s),de(this,Wu,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",de(this,qr,"m",iv).call(this))}async _fromReadableStream(e,n){const r=n?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{de(this,qr,"m",ov).call(this),this._connected(null);const i=ld.fromReadableStream(e,this.controller);for await(const a of i)de(this,qr,"m",av).call(this,a);if(i.controller.signal?.aborted)throw new hs;de(this,qr,"m",lv).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(mo=new WeakMap,Hu=new WeakMap,Rp=new WeakMap,qu=new WeakMap,Gu=new WeakMap,kp=new WeakMap,Wu=new WeakMap,gi=new WeakMap,Ku=new WeakMap,Mp=new WeakMap,Op=new WeakMap,Ml=new WeakMap,Pp=new WeakMap,Ip=new WeakMap,Lp=new WeakMap,qr=new WeakSet,iv=function(){if(this.receivedMessages.length===0)throw new Ke("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},AA=function(){if(this.receivedMessages.length===0)throw new Ke("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Ke("stream ended without producing a content block with type=text");return n.join(" ")},ov=function(){this.ended||Ue(this,mo,void 0)},av=function(n){if(this.ended)return;const r=de(this,qr,"m",RA).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{MA(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Ue(this,mo,r);break}}},lv=function(){if(this.ended)throw new Ke("stream has ended, this shouldn't happen");const n=de(this,mo,"f");if(!n)throw new Ke("request ended without sending any chunks");return Ue(this,mo,void 0),n},RA=function(n){let r=de(this,mo,"f");if(n.type==="message_start"){if(r)throw new Ke(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Ke(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.container=n.delta.container,r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{s?.type==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{s?.type==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&MA(s)){let i=s[kA]||"";i+=n.delta.partial_json;const a={...s};if(Object.defineProperty(a,kA,{value:i,enumerable:!1,writable:!0}),i)try{a.input=tL(i)}catch(c){const u=new Ke(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${c}. JSON: ${i}`);de(this,Lp,"f").call(this,u)}r.content[n.index]=a}break}case"thinking_delta":{s?.type==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{s?.type==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ld(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const nL={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192},OA={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};let zx=class extends Pi{constructor(){super(...arguments),this.batches=new eL(this._client)}create(e,n){const{betas:r,...s}=e;s.model in OA&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${OA[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!s.stream&&i==null){const a=nL[s.model]??void 0;i=this._client.calculateNonstreamingTimeout(s.max_tokens,a)}return this._client.post("/v1/messages?beta=true",{body:s,timeout:i??6e5,...n,headers:xt([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers]),stream:e.stream??!1})}stream(e,n){return ng.createMessage(this,e,n)}countTokens(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...n,headers:xt([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},n?.headers])})}};zx.Batches=eL;let Md=class extends Pi{constructor(){super(...arguments),this.models=new QI(this._client),this.messages=new zx(this._client),this.files=new ZI(this._client)}};Md.Models=QI;Md.Messages=zx;Md.Files=ZI;let rL=class extends Pi{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/complete",{body:s,timeout:this._client._options.timeout??6e5,...n,headers:xt([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers]),stream:e.stream??!1})}};var Gr,go,Yu,Dp,Xu,Ju,Np,Zu,yi,Qu,jp,Bp,Ol,$p,Vp,cv,PA,uv,fv,dv,hv,IA;const LA="__json_buf";function DA(t){return t.type==="tool_use"||t.type==="server_tool_use"}class rg{constructor(){Gr.add(this),this.messages=[],this.receivedMessages=[],go.set(this,void 0),this.controller=new AbortController,Yu.set(this,void 0),Dp.set(this,()=>{}),Xu.set(this,()=>{}),Ju.set(this,void 0),Np.set(this,()=>{}),Zu.set(this,()=>{}),yi.set(this,{}),Qu.set(this,!1),jp.set(this,!1),Bp.set(this,!1),Ol.set(this,!1),$p.set(this,void 0),Vp.set(this,void 0),uv.set(this,e=>{if(Ue(this,jp,!0),ad(e)&&(e=new hs),e instanceof hs)return Ue(this,Bp,!0),this._emit("abort",e);if(e instanceof Ke)return this._emit("error",e);if(e instanceof Error){const n=new Ke(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ke(String(e)))}),Ue(this,Yu,new Promise((e,n)=>{Ue(this,Dp,e,"f"),Ue(this,Xu,n,"f")})),Ue(this,Ju,new Promise((e,n)=>{Ue(this,Np,e,"f"),Ue(this,Zu,n,"f")})),de(this,Yu,"f").catch(()=>{}),de(this,Ju,"f").catch(()=>{})}get response(){return de(this,$p,"f")}get request_id(){return de(this,Vp,"f")}async withResponse(){const e=await de(this,Yu,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new rg;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const s=new rg;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},de(this,uv,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){const s=r?.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{de(this,Gr,"m",fv).call(this);const{response:a,data:c}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(a);for await(const u of c)de(this,Gr,"m",dv).call(this,u);if(c.controller.signal?.aborted)throw new hs;de(this,Gr,"m",hv).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(Ue(this,$p,e),Ue(this,Vp,e?.headers.get("request-id")),de(this,Dp,"f").call(this,e),this._emit("connect"))}get ended(){return de(this,Qu,"f")}get errored(){return de(this,jp,"f")}get aborted(){return de(this,Bp,"f")}abort(){this.controller.abort()}on(e,n){return(de(this,yi,"f")[e]||(de(this,yi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=de(this,yi,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(de(this,yi,"f")[e]||(de(this,yi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Ue(this,Ol,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Ue(this,Ol,!0),await de(this,Ju,"f")}get currentMessage(){return de(this,go,"f")}async finalMessage(){return await this.done(),de(this,Gr,"m",cv).call(this)}async finalText(){return await this.done(),de(this,Gr,"m",PA).call(this)}_emit(e,...n){if(de(this,Qu,"f"))return;e==="end"&&(Ue(this,Qu,!0),de(this,Np,"f").call(this));const r=de(this,yi,"f")[e];if(r&&(de(this,yi,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!de(this,Ol,"f")&&!r?.length&&Promise.reject(s),de(this,Xu,"f").call(this,s),de(this,Zu,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!de(this,Ol,"f")&&!r?.length&&Promise.reject(s),de(this,Xu,"f").call(this,s),de(this,Zu,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",de(this,Gr,"m",cv).call(this))}async _fromReadableStream(e,n){const r=n?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{de(this,Gr,"m",fv).call(this),this._connected(null);const i=ld.fromReadableStream(e,this.controller);for await(const a of i)de(this,Gr,"m",dv).call(this,a);if(i.controller.signal?.aborted)throw new hs;de(this,Gr,"m",hv).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(go=new WeakMap,Yu=new WeakMap,Dp=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Np=new WeakMap,Zu=new WeakMap,yi=new WeakMap,Qu=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Ol=new WeakMap,$p=new WeakMap,Vp=new WeakMap,uv=new WeakMap,Gr=new WeakSet,cv=function(){if(this.receivedMessages.length===0)throw new Ke("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},PA=function(){if(this.receivedMessages.length===0)throw new Ke("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Ke("stream ended without producing a content block with type=text");return n.join(" ")},fv=function(){this.ended||Ue(this,go,void 0)},dv=function(n){if(this.ended)return;const r=de(this,Gr,"m",IA).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{DA(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Ue(this,go,r);break}}},hv=function(){if(this.ended)throw new Ke("stream has ended, this shouldn't happen");const n=de(this,go,"f");if(!n)throw new Ke("request ended without sending any chunks");return Ue(this,go,void 0),n},IA=function(n){let r=de(this,go,"f");if(n.type==="message_start"){if(r)throw new Ke(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Ke(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push({...n.content_block}),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{s?.type==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{s?.type==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&DA(s)){let i=s[LA]||"";i+=n.delta.partial_json;const a={...s};Object.defineProperty(a,LA,{value:i,enumerable:!1,writable:!0}),i&&(a.input=tL(i)),r.content[n.index]=a}break}case"thinking_delta":{s?.type==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{s?.type==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ld(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}let sL=class extends Pi{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ps`/v1/messages/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/v1/messages/batches",kd,{query:e,...n})}delete(e,n){return this._client.delete(ps`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(ps`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){const r=await this.retrieve(e);if(!r.results_url)throw new Ke(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:xt([{Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,i)=>ay.fromResponse(i.response,i.controller))}},Hx=class extends Pi{constructor(){super(...arguments),this.batches=new sL(this._client)}create(e,n){e.model in NA&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${NA[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){const s=nL[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,s)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...n,stream:e.stream??!1})}stream(e,n){return rg.createMessage(this,e,n)}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}};const NA={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};Hx.Batches=sL;let iL=class extends Pi{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(ps`/v1/models/${e}`,{...r,headers:xt([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models",kd,{query:s,...n,headers:xt([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}};var pz={};const Up=t=>{if(typeof globalThis.process<"u")return pz?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var q_,qx,xm,oL;class Gt{constructor({baseURL:e=Up("ANTHROPIC_BASE_URL"),apiKey:n=Up("ANTHROPIC_API_KEY")??null,authToken:r=Up("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){q_.add(this),xm.set(this,void 0);const i={apiKey:n,authToken:r,...s,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&jF())throw new Ke(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??qx.DEFAULT_TIMEOUT,this.logger=i.logger??console;const a="warn";this.logLevel=a,this.logLevel=SA(i.logLevel,"ClientOptions.logLevel",this)??SA(Up("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??FF(),Ue(this,xm,HF),this._options=i,this.apiKey=n,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return xt([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return xt([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return xt([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ke(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Vl}`}defaultIdempotencyKey(){return`stainless-node-retry-${MI()}`}makeStatusError(e,n,r,s){return Lr.generate(e,n,r,s)}buildURL(e,n,r){const s=!de(this,q_,"m",oL).call(this)&&r||this.baseURL,i=PF(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return IF(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new Ke("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new qI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:c,timeout:u}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:c,options:s});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,m=Date.now();if(qn(this).debug(`[${d}] sending request`,ua({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:a.headers})),s.signal?.aborted)throw new hs;const g=new AbortController,y=await this.fetchWithTimeout(c,a,u,g).catch(V_),_=Date.now();if(y instanceof Error){const S=`retrying, ${n} attempts remaining`;if(s.signal?.aborted)throw new hs;const T=ad(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return qn(this).info(`[${d}] connection ${T?"timed out":"failed"} - ${S}`),qn(this).debug(`[${d}] connection ${T?"timed out":"failed"} (${S})`,ua({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),this.retryRequest(s,n,r??d);throw qn(this).info(`[${d}] connection ${T?"timed out":"failed"} - error; no more retries left`),qn(this).debug(`[${d}] connection ${T?"timed out":"failed"} (error; no more retries left)`,ua({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),T?new OI:new oy({cause:y})}const x=[...y.headers.entries()].filter(([S])=>S==="request-id").map(([S,T])=>", "+S+": "+JSON.stringify(T)).join(""),E=`[${d}${h}${x}] ${a.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${_-m}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const j=`retrying, ${n} attempts remaining`;return await zF(y.body),qn(this).info(`${E} - ${j}`),qn(this).debug(`[${d}] response error (${j})`,ua({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),this.retryRequest(s,n,r??d,y.headers)}const T=S?"error; no more retries left":"error; not retryable";qn(this).info(`${E} - ${T}`);const k=await y.text().catch(j=>V_(j).message),L=VI(k),I=L?void 0:k;throw qn(this).debug(`[${d}] response error (${T})`,ua({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:I,durationMs:Date.now()-m})),this.makeStatusError(y.status,L,I,y.headers)}return qn(this).info(E),qn(this).debug(`[${d}] response start`,ua({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),{response:y,options:s,controller:g,requestLogID:d,retryOfRequestLogID:r,startTime:m}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new ez(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...c}=n||{};i&&i.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h={signal:s.signal,...d?{duplex:"half"}:{},method:"GET",...c};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s?.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const c=s?.get("retry-after");if(c&&!i){const u=parseFloat(c);Number.isNaN(u)?i=Date.parse(c)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,u)}return await NF(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),c=1-Math.random()*.25;return a*c*1e3}calculateNonstreamingTimeout(e,n){if(36e5*e/128e3>6e5||n!=null&&e>n)throw new Ke("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:c}=r,u=this.buildURL(i,a,c);"timeout"in r&&DF("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:r}),m=await this.buildHeaders({options:e,method:s,bodyHeaders:d,retryCount:n});return{req:{method:s,headers:m,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:u,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=xt([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...UF(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=xt([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:FI(e)}:de(this,xm,"f").call(this,{body:e,headers:r})}}qx=Gt,xm=new WeakMap,q_=new WeakSet,oL=function(){return this.baseURL!=="https://api.anthropic.com"};Gt.Anthropic=qx;Gt.HUMAN_PROMPT=`

Human:`;Gt.AI_PROMPT=`

Assistant:`;Gt.DEFAULT_TIMEOUT=6e5;Gt.AnthropicError=Ke;Gt.APIError=Lr;Gt.APIConnectionError=oy;Gt.APIConnectionTimeoutError=OI;Gt.APIUserAbortError=hs;Gt.NotFoundError=DI;Gt.ConflictError=NI;Gt.RateLimitError=BI;Gt.BadRequestError=PI;Gt.AuthenticationError=II;Gt.InternalServerError=$I;Gt.PermissionDeniedError=LI;Gt.UnprocessableEntityError=jI;Gt.toFile=az;class ko extends Gt{constructor(){super(...arguments),this.completions=new rL(this),this.messages=new Hx(this),this.models=new iL(this),this.beta=new Md(this)}}ko.Completions=rL;ko.Messages=Hx;ko.Models=iL;ko.Beta=Md;const{HUMAN_PROMPT:Upe,AI_PROMPT:Fpe}=ko;var mf={exports:{}};mf.exports;var jA;function mz(){return jA||(jA=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",m="[object GeneratorFunction]",g="[object Map]",y="[object Number]",_="[object Object]",x="[object Promise]",E="[object RegExp]",S="[object Set]",T="[object String]",k="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",j="[object Float32Array]",$="[object Float64Array]",H="[object Int8Array]",B="[object Int16Array]",Y="[object Int32Array]",ne="[object Uint8Array]",re="[object Uint8ClampedArray]",Z="[object Uint16Array]",ae="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,z=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,A={};A[i]=A[a]=A[I]=A[P]=A[c]=A[u]=A[j]=A[$]=A[H]=A[B]=A[Y]=A[g]=A[y]=A[_]=A[E]=A[S]=A[T]=A[k]=A[ne]=A[re]=A[Z]=A[ae]=!0,A[d]=A[h]=A[L]=!1;var ee=typeof gp=="object"&&gp&&gp.Object===Object&&gp,fe=typeof self=="object"&&self&&self.Object===Object&&self,O=ee||fe||Function("return this")(),me=e&&!e.nodeType&&e,Ce=me&&!0&&t&&!t.nodeType&&t,ye=Ce&&Ce.exports===me;function ve(D,W){return D.set(W[0],W[1]),D}function Ne(D,W){return D.add(W),D}function mt(D,W){for(var oe=-1,Se=D?D.length:0;++oe<Se&&W(D[oe],oe,D)!==!1;);return D}function Rt(D,W){for(var oe=-1,Se=W.length,Ct=D.length;++oe<Se;)D[Ct+oe]=W[oe];return D}function kt(D,W,oe,Se){for(var Ct=-1,kn=D?D.length:0;++Ct<kn;)oe=W(oe,D[Ct],Ct,D);return oe}function xn(D,W){for(var oe=-1,Se=Array(D);++oe<D;)Se[oe]=W(oe);return Se}function Sn(D,W){return D?.[W]}function cr(D){var W=!1;if(D!=null&&typeof D.toString!="function")try{W=!!(D+"")}catch{}return W}function ti(D){var W=-1,oe=Array(D.size);return D.forEach(function(Se,Ct){oe[++W]=[Ct,Se]}),oe}function ts(D,W){return function(oe){return D(W(oe))}}function En(D){var W=-1,oe=Array(D.size);return D.forEach(function(Se){oe[++W]=Se}),oe}var Nc=Array.prototype,$o=Function.prototype,Es=Object.prototype,Cs=O["__core-js_shared__"],ja=(function(){var D=/[^.]+$/.exec(Cs&&Cs.keys&&Cs.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""})(),Vo=$o.toString,Dr=Es.hasOwnProperty,Li=Es.toString,se=RegExp("^"+Vo.call(Dr).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=ye?O.Buffer:void 0,Ae=O.Symbol,Oe=O.Uint8Array,st=ts(Object.getPrototypeOf,Object),Vn=Object.create,ns=Es.propertyIsEnumerable,Cn=Nc.splice,ur=Object.getOwnPropertySymbols,Un=he?he.isBuffer:void 0,jt=ts(Object.keys,Object),Tn=dr(O,"DataView"),fn=dr(O,"Map"),Ba=dr(O,"Promise"),$a=dr(O,"Set"),Uo=dr(O,"WeakMap"),rs=dr(Object,"create"),Uy=er(Tn),Zd=er(fn),Qd=er(Ba),jc=er($a),Bc=er(Uo),$c=Ae?Ae.prototype:void 0,eh=$c?$c.valueOf:void 0;function An(D){var W=-1,oe=D?D.length:0;for(this.clear();++W<oe;){var Se=D[W];this.set(Se[0],Se[1])}}function nn(){this.__data__=rs?rs(null):{}}function Rn(D){return this.has(D)&&delete this.__data__[D]}function Di(D){var W=this.__data__;if(rs){var oe=W[D];return oe===r?void 0:oe}return Dr.call(W,D)?W[D]:void 0}function Vc(D){var W=this.__data__;return rs?W[D]!==void 0:Dr.call(W,D)}function Fy(D,W){var oe=this.__data__;return oe[D]=rs&&W===void 0?r:W,this}An.prototype.clear=nn,An.prototype.delete=Rn,An.prototype.get=Di,An.prototype.has=Vc,An.prototype.set=Fy;function ss(D){var W=-1,oe=D?D.length:0;for(this.clear();++W<oe;){var Se=D[W];this.set(Se[0],Se[1])}}function th(){this.__data__=[]}function Fo(D){var W=this.__data__,oe=$i(W,D);if(oe<0)return!1;var Se=W.length-1;return oe==Se?W.pop():Cn.call(W,oe,1),!0}function Uc(D){var W=this.__data__,oe=$i(W,D);return oe<0?void 0:W[oe][1]}function Ni(D){return $i(this.__data__,D)>-1}function ji(D,W){var oe=this.__data__,Se=$i(oe,D);return Se<0?oe.push([D,W]):oe[Se][1]=W,this}ss.prototype.clear=th,ss.prototype.delete=Fo,ss.prototype.get=Uc,ss.prototype.has=Ni,ss.prototype.set=ji;function Nr(D){var W=-1,oe=D?D.length:0;for(this.clear();++W<oe;){var Se=D[W];this.set(Se[0],Se[1])}}function Bi(){this.__data__={hash:new An,map:new(fn||ss),string:new An}}function Bt(D){return zo(this,D).delete(D)}function nh(D){return zo(this,D).get(D)}function rh(D){return zo(this,D).has(D)}function ni(D,W){return zo(this,D).set(D,W),this}Nr.prototype.clear=Bi,Nr.prototype.delete=Bt,Nr.prototype.get=nh,Nr.prototype.has=rh,Nr.prototype.set=ni;function fr(D){this.__data__=new ss(D)}function zy(){this.__data__=new ss}function sh(D){return this.__data__.delete(D)}function ih(D){return this.__data__.get(D)}function Hy(D){return this.__data__.has(D)}function Va(D,W){var oe=this.__data__;if(oe instanceof ss){var Se=oe.__data__;if(!fn||Se.length<n-1)return Se.push([D,W]),this;oe=this.__data__=new Nr(Se)}return oe.set(D,W),this}fr.prototype.clear=zy,fr.prototype.delete=sh,fr.prototype.get=ih,fr.prototype.has=Hy,fr.prototype.set=Va;function Ua(D,W){var oe=Wa(D)||Yc(D)?xn(D.length,String):[],Se=oe.length,Ct=!!Se;for(var kn in D)Dr.call(D,kn)&&!(Ct&&(kn=="length"||Ky(kn,Se)))&&oe.push(kn);return oe}function jr(D,W,oe){var Se=D[W];(!(Dr.call(D,W)&&Kc(Se,oe))||oe===void 0&&!(W in D))&&(D[W]=oe)}function $i(D,W){for(var oe=D.length;oe--;)if(Kc(D[oe][0],W))return oe;return-1}function oh(D,W){return D&&Ha(W,Ya(W),D)}function Ts(D,W,oe,Se,Ct,kn,hr){var rn;if(Se&&(rn=kn?Se(D,Ct,kn,hr):Se(D)),rn!==void 0)return rn;if(!Hi(D))return D;var qi=Wa(D);if(qi){if(rn=hh(D),!W)return uh(D,rn)}else{var os=As(D),Jc=os==h||os==m;if(Xc(D))return lh(D,W);if(os==_||os==i||Jc&&!kn){if(cr(D))return kn?D:{};if(rn=Gc(Jc?{}:D),!W)return Vi(D,oh(rn,D))}else{if(!A[os])return kn?D:{};rn=Wy(D,os,Ts,W)}}hr||(hr=new fr);var ph=hr.get(D);if(ph)return ph;if(hr.set(D,rn),!qi)var mh=oe?fh(D):Ya(D);return mt(mh||D,function(Zc,Gi){mh&&(Gi=Zc,Zc=D[Gi]),jr(rn,Gi,Ts(Zc,W,oe,Se,Gi,D,hr))}),rn}function Fc(D){return Hi(D)?Vn(D):{}}function zc(D,W,oe){var Se=W(D);return Wa(D)?Se:Rt(Se,oe(D))}function qy(D){return Li.call(D)}function ah(D){if(!Hi(D)||Wc(D))return!1;var W=zi(D)||cr(D)?se:z;return W.test(er(D))}function Zn(D){if(!Ga(D))return jt(D);var W=[];for(var oe in Object(D))Dr.call(D,oe)&&oe!="constructor"&&W.push(oe);return W}function lh(D,W){if(W)return D.slice();var oe=new D.constructor(D.length);return D.copy(oe),oe}function Hc(D){var W=new D.constructor(D.byteLength);return new Oe(W).set(new Oe(D)),W}function Fa(D,W){var oe=W?Hc(D.buffer):D.buffer;return new D.constructor(oe,D.byteOffset,D.byteLength)}function ch(D,W,oe){var Se=W?oe(ti(D),!0):ti(D);return kt(Se,ve,new D.constructor)}function za(D){var W=new D.constructor(D.source,X.exec(D));return W.lastIndex=D.lastIndex,W}function Gy(D,W,oe){var Se=W?oe(En(D),!0):En(D);return kt(Se,Ne,new D.constructor)}function Qn(D){return eh?Object(eh.call(D)):{}}function qc(D,W){var oe=W?Hc(D.buffer):D.buffer;return new D.constructor(oe,D.byteOffset,D.length)}function uh(D,W){var oe=-1,Se=D.length;for(W||(W=Array(Se));++oe<Se;)W[oe]=D[oe];return W}function Ha(D,W,oe,Se){oe||(oe={});for(var Ct=-1,kn=W.length;++Ct<kn;){var hr=W[Ct],rn=void 0;jr(oe,hr,rn===void 0?D[hr]:rn)}return oe}function Vi(D,W){return Ha(D,dh(D),W)}function fh(D){return zc(D,Ya,dh)}function zo(D,W){var oe=D.__data__;return qa(W)?oe[typeof W=="string"?"string":"hash"]:oe.map}function dr(D,W){var oe=Sn(D,W);return ah(oe)?oe:void 0}var dh=ur?ts(ur,Object):Xa,As=qy;(Tn&&As(new Tn(new ArrayBuffer(1)))!=P||fn&&As(new fn)!=g||Ba&&As(Ba.resolve())!=x||$a&&As(new $a)!=S||Uo&&As(new Uo)!=L)&&(As=function(D){var W=Li.call(D),oe=W==_?D.constructor:void 0,Se=oe?er(oe):void 0;if(Se)switch(Se){case Uy:return P;case Zd:return g;case Qd:return x;case jc:return S;case Bc:return L}return W});function hh(D){var W=D.length,oe=D.constructor(W);return W&&typeof D[0]=="string"&&Dr.call(D,"index")&&(oe.index=D.index,oe.input=D.input),oe}function Gc(D){return typeof D.constructor=="function"&&!Ga(D)?Fc(st(D)):{}}function Wy(D,W,oe,Se){var Ct=D.constructor;switch(W){case I:return Hc(D);case c:case u:return new Ct(+D);case P:return Fa(D,Se);case j:case $:case H:case B:case Y:case ne:case re:case Z:case ae:return qc(D,Se);case g:return ch(D,Se,oe);case y:case T:return new Ct(D);case E:return za(D);case S:return Gy(D,Se,oe);case k:return Qn(D)}}function Ky(D,W){return W=W??s,!!W&&(typeof D=="number"||le.test(D))&&D>-1&&D%1==0&&D<W}function qa(D){var W=typeof D;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?D!=="__proto__":D===null}function Wc(D){return!!ja&&ja in D}function Ga(D){var W=D&&D.constructor,oe=typeof W=="function"&&W.prototype||Es;return D===oe}function er(D){if(D!=null){try{return Vo.call(D)}catch{}try{return D+""}catch{}}return""}function Ui(D){return Ts(D,!0,!0)}function Kc(D,W){return D===W||D!==D&&W!==W}function Yc(D){return is(D)&&Dr.call(D,"callee")&&(!ns.call(D,"callee")||Li.call(D)==i)}var Wa=Array.isArray;function Fi(D){return D!=null&&Rs(D.length)&&!zi(D)}function is(D){return Ka(D)&&Fi(D)}var Xc=Un||Ja;function zi(D){var W=Hi(D)?Li.call(D):"";return W==h||W==m}function Rs(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function Hi(D){var W=typeof D;return!!D&&(W=="object"||W=="function")}function Ka(D){return!!D&&typeof D=="object"}function Ya(D){return Fi(D)?Ua(D):Zn(D)}function Xa(){return[]}function Ja(){return!1}t.exports=Ui})(mf,mf.exports)),mf.exports}var gz=mz();const Ys=Pa(gz),yz=t=>{const e=[];return t.forEach(({content:n})=>{n.forEach(r=>{if(r.type==="image"){const s=r.image,i=s.split(",")[1],a=s.split(";")[0].split(":")[1];let c;a==="image/jpeg"||a==="image/jpg"?c="image/jpeg":a==="image/png"?c="image/png":a==="image/gif"?c="image/gif":a==="image/webp"?c="image/webp":c="image/jpeg",e.push({type:"image",source:{type:"base64",media_type:c,data:i}})}})}),e},bz=t=>t.map(e=>({name:e.name,description:e.description,input_schema:{type:"object",...e.inputSchema}})),Fp=t=>{const e=[];return t.forEach(n=>{if(n.role==="user"){const r=typeof n.content=="string"?n.content:n.content.map(s=>s.type==="text"?{type:"text",text:s.text}:s.type==="file"?{type:"document",source:{type:"text",media_type:"text/plain",data:s.data},context:JSON.parse(s.mimeType).path}:{type:"text",text:""});if(n.attachments?.length){const s=yz(n.attachments);Array.isArray(r)&&r.push(...s)}e.push({role:"user",content:r})}else if(n.role==="system"){const r=typeof n.content=="string"?n.content:n.content.map(s=>s.type==="text"?{type:"text",text:s.text}:{type:"text",text:""});e.push({role:"user",content:r})}else{const r=typeof n.content=="string"?n.content:[],s=[];Array.isArray(n.content)&&n.content.forEach(i=>{if(Array.isArray(r)&&(i.type==="text"&&r.push({type:"text",text:i.text}),i.type==="tool-call")){i.result&&s.push({type:"tool_result",content:i.result,tool_use_id:i.toolCallId}),r.push({type:"tool_use",id:i.toolCallId,name:i.toolName,input:i.args||{}});return}}),e.push({role:"assistant",content:r}),s.length&&e.push({role:"user",content:s})}}),e},vz=t=>{const{message:e}=t;return{role:e.role,content:[]}},_z=(t,e)=>{const n={...e},{content_block:r}=t;if(r.type==="text"&&Array.isArray(n.content)){const s={type:"text",text:r.text};n.content.push(s)}if(r.type==="tool_use"&&Array.isArray(n.content)){const s={type:"tool-call",toolCallId:r.id,toolName:r.name,args:{},argsText:""};n.content.push(s)}return n},wz=(t,e)=>{const n={...e},{delta:r}=t;if(r.type==="text_delta"&&Array.isArray(n.content)){const s=n.content[n.content.length-1];if(s.type!=="text")return n;const i={type:"text",text:s.text+r.text};n.content[n.content.length-1]=i}if(r.type==="input_json_delta"&&Array.isArray(n.content)){const s=n.content[n.content.length-1];if(s.type!=="tool-call")return n;const i=s.argsText+r.partial_json;let a={};if(i.trim().endsWith("}"))try{a=JSON.parse(i)}catch(u){console.log(u)}const c={...s,args:a,argsText:i};n.content[n.content.length-1]=c}return n};class xz{modelKey="claude-3-7-sonnet-latest";systemPrompt="";apiKey;url;provider;messageStopped=!1;prevMessages=[];tools=[];client;constructor(){}setProvider=e=>{this.provider=e,this.client=new ko({apiKey:e.key,baseURL:e.baseUrl,dangerouslyAllowBrowser:!0}),e.key&&this.setApiKey(e.key),e.baseUrl&&this.setUrl(e.baseUrl)};setModelKey=e=>{this.modelKey=e};setSystemPrompt=e=>{this.systemPrompt=e};setApiKey=e=>{this.apiKey=e,this.client&&(this.client.apiKey=e)};setUrl=e=>{this.url=e,this.client&&(this.client.baseURL=e)};setPrevMessages=e=>{this.prevMessages=Fp(e)};setTools=e=>{this.tools=bz(e)};async*sendMessage(e,n,r){try{if(!this.client)return;const s=Fp(e),i=await this.client.messages.create({messages:[...this.prevMessages,...s],model:this.modelKey,system:this.systemPrompt,tools:this.tools,stream:!0,max_tokens:2048});this.prevMessages.push(...s);let a=n&&r?Ys(r):{role:"assistant",content:[]};for await(const c of i){const{type:u}=c;if(this.messageStopped&&(this.messageStopped=!1,i.controller.abort()),u==="message_start"){if(n&&r){yield r;continue}a=vz(c)}if(u==="content_block_start"&&(a=_z(c,a)),u==="content_block_delta"&&(a=wz(c,a)),u==="message_stop"){if(n&&r){const h=a.content.slice(r.content.length),m={...a,content:h},g=Fp([m]);this.prevMessages.push(...g),yield{isEnd:!0,responseMessage:a};continue}const d=Fp([a]);this.prevMessages.push(...d),yield{isEnd:!0,responseMessage:a};continue}yield a}}catch(s){yield{isEnd:!0,responseMessage:{role:"assistant",content:"",status:{type:"incomplete",reason:"error",error:s}}}}}async*sendMessageAfterToolCall(e){if(typeof e.content=="string")return e;const n=e.content.filter(s=>s.type==="tool-call").reverse()[0];if(!n)return e;const r={type:"tool_result",content:n.result,tool_use_id:n.toolCallId};return this.prevMessages.push({role:"user",content:[r]}),yield*this.sendMessage([],!0,e),e}stopMessage=()=>{this.messageStopped=!0};getBaseUrl=()=>"https://api.anthropic.com";getName=()=>"Anthropic";checkProvider=async e=>{const n=new ko({apiKey:e.apiKey,baseURL:e.url,dangerouslyAllowBrowser:!0});try{return await n.models.list(),!0}catch(r){if(typeof r=="object"&&r){if("status"in r&&r.status===401)return{field:"key",message:"Invalid API key"};if("status"in r&&r.status===404)return{field:"url",message:"Invalid URL"};if(e.apiKey)return{field:"url",message:"Invalid URL"}}return{field:"key",message:"Empty key"}}};getProviderModels=async e=>{const n=new ko({apiKey:e.apiKey,baseURL:e.url,dangerouslyAllowBrowser:!0});try{return(await n.models.list()).data.map(i=>({id:i.id,name:i.display_name,provider:"anthropic"}))}catch(r){return console.log(r),[]}}}const BA=new xz;var vn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Wn={searchParams:"URLSearchParams"in vn,iterable:"Symbol"in vn&&"iterator"in Symbol,blob:"FileReader"in vn&&"Blob"in vn&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in vn,arrayBuffer:"ArrayBuffer"in vn};function Sz(t){return t&&DataView.prototype.isPrototypeOf(t)}if(Wn.arrayBuffer)var Ez=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Cz=ArrayBuffer.isView||function(t){return t&&Ez.indexOf(Object.prototype.toString.call(t))>-1};function Sc(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Gx(t){return typeof t!="string"&&(t=String(t)),t}function Wx(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return Wn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function en(t){this.map={},t instanceof en?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}en.prototype.append=function(t,e){t=Sc(t),e=Gx(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};en.prototype.delete=function(t){delete this.map[Sc(t)]};en.prototype.get=function(t){return t=Sc(t),this.has(t)?this.map[t]:null};en.prototype.has=function(t){return this.map.hasOwnProperty(Sc(t))};en.prototype.set=function(t,e){this.map[Sc(t)]=Gx(e)};en.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};en.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Wx(t)};en.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Wx(t)};en.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Wx(t)};Wn.iterable&&(en.prototype[Symbol.iterator]=en.prototype.entries);function pv(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function aL(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Tz(t){var e=new FileReader,n=aL(e);return e.readAsArrayBuffer(t),n}function Az(t){var e=new FileReader,n=aL(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),s=r?r[1]:"utf-8";return e.readAsText(t,s),n}function Rz(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function $A(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function lL(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:Wn.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Wn.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Wn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Wn.arrayBuffer&&Wn.blob&&Sz(t)?(this._bodyArrayBuffer=$A(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Wn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Cz(t))?this._bodyArrayBuffer=$A(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Wn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Wn.blob&&(this.blob=function(){var t=pv(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=pv(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Wn.blob)return this.blob().then(Tz);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=pv(this);if(t)return t;if(this._bodyBlob)return Az(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rz(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Wn.formData&&(this.formData=function(){return this.text().then(Oz)}),this.json=function(){return this.text().then(JSON.parse)},this}var kz=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Mz(t){var e=t.toUpperCase();return kz.indexOf(e)>-1?e:t}function Aa(t,e){if(!(this instanceof Aa))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof Aa){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new en(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new en(e.headers)),this.method=Mz(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||(function(){if("AbortController"in vn){var i=new AbortController;return i.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Aa.prototype.clone=function(){return new Aa(this,{body:this._bodyInit})};function Oz(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),s=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(s),decodeURIComponent(i))}}),e}function Pz(t){var e=new en,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var s=r.split(":"),i=s.shift().trim();if(i){var a=s.join(":").trim();try{e.append(i,a)}catch(c){console.warn("Response "+c.message)}}}),e}lL.call(Aa.prototype);function Xs(t,e){if(!(this instanceof Xs))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new en(e.headers),this.url=e.url||"",this._initBody(t)}lL.call(Xs.prototype);Xs.prototype.clone=function(){return new Xs(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new en(this.headers),url:this.url})};Xs.error=function(){var t=new Xs(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Iz=[301,302,303,307,308];Xs.redirect=function(t,e){if(Iz.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Xs(null,{status:e,headers:{location:t}})};var ma=vn.DOMException;try{new ma}catch{ma=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},ma.prototype=Object.create(Error.prototype),ma.prototype.constructor=ma}function cL(t,e){return new Promise(function(n,r){var s=new Aa(t,e);if(s.signal&&s.signal.aborted)return r(new ma("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var d={statusText:i.statusText,headers:Pz(i.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(i.status<200||i.status>599)?d.status=200:d.status=i.status,d.url="responseURL"in i?i.responseURL:d.headers.get("X-Request-URL");var h="response"in i?i.response:i.responseText;setTimeout(function(){n(new Xs(h,d))},0)},i.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){r(new ma("Aborted","AbortError"))},0)};function c(d){try{return d===""&&vn.location.href?vn.location.href:d}catch{return d}}if(i.open(s.method,c(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(Wn.blob?i.responseType="blob":Wn.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof en||vn.Headers&&e.headers instanceof vn.Headers)){var u=[];Object.getOwnPropertyNames(e.headers).forEach(function(d){u.push(Sc(d)),i.setRequestHeader(d,Gx(e.headers[d]))}),s.headers.forEach(function(d,h){u.indexOf(h)===-1&&i.setRequestHeader(h,d)})}else s.headers.forEach(function(d,h){i.setRequestHeader(h,d)});s.signal&&(s.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",a)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}cL.polyfill=!0;vn.fetch||(vn.fetch=cL,vn.Headers=en,vn.Request=Aa,vn.Response=Xs);const uL="11434",fL=`http://127.0.0.1:${uL}`,Lz="0.5.18";var Dz=Object.defineProperty,Nz=(t,e,n)=>e in t?Dz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mv=(t,e,n)=>(Nz(t,typeof e!="symbol"?e+"":e,n),n);class Kx extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,Kx)}}class jz{constructor(e,n,r){mv(this,"abortController"),mv(this,"itr"),mv(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const Yx=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new Kx(e,t.status)};function Bz(){if(typeof window<"u"&&window.navigator){const t=navigator;return"userAgentData"in t&&t.userAgentData?.platform?`${t.userAgentData.platform.toLowerCase()} Browser/${navigator.userAgent};`:navigator.platform?`${navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:`unknown Browser/${navigator.userAgent};`}else if(typeof process<"u")return`${process.arch} ${process.platform} Node.js/${process.version}`;return""}function $z(t){if(t instanceof Headers){const e={};return t.forEach((n,r)=>{e[r]=n}),e}else return Array.isArray(t)?Object.fromEntries(t):t||{}}const Xx=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${Lz} (${Bz()})`};n.headers=$z(n.headers);const s=Object.fromEntries(Object.entries(n.headers).filter(([i])=>!Object.keys(r).some(a=>a.toLowerCase()===i.toLowerCase())));return n.headers={...r,...s},t(e,n)},VA=async(t,e,n)=>{const r=await Xx(t,e,{headers:n?.headers});return await Yx(r),r},Pl=async(t,e,n,r)=>{const i=(c=>c!==null&&typeof c=="object"&&!Array.isArray(c))(n)?JSON.stringify(n):n,a=await Xx(t,e,{method:"POST",body:i,signal:r?.signal,headers:r?.headers});return await Yx(a),a},Vz=async(t,e,n,r)=>{const s=await Xx(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await Yx(s),s},Uz=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:s,value:i}=await r.read();if(s)break;n+=e.decode(i);const a=n.split(`
`);n=a.pop()??"";for(const c of a)try{yield JSON.parse(c)}catch{console.warn("invalid json: ",c)}}for(const s of n.split(`
`).filter(i=>i!==""))try{yield JSON.parse(s)}catch{console.warn("invalid json: ",s)}},Fz=t=>{if(!t)return fL;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=uL);let s="";n.username&&(s=n.username,n.password&&(s+=`:${n.password}`),s+="@");let i=`${n.protocol}//${s}${n.hostname}:${r}${n.pathname}`;return i.endsWith("/")&&(i=i.slice(0,-1)),i};var zz=Object.defineProperty,Hz=(t,e,n)=>e in t?zz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gv=(t,e,n)=>(Hz(t,typeof e!="symbol"?e+"":e,n),n);let Sm=class{constructor(e){gv(this,"config"),gv(this,"fetch"),gv(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=Fz(e?.host??fL)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const i=new AbortController,a=await Pl(this.fetch,r,n,{signal:i.signal,headers:this.config.headers});if(!a.body)throw new Error("Missing body");const c=Uz(a.body),u=new jz(i,c,()=>{const d=this.ongoingStreamedRequests.indexOf(u);d>-1&&this.ongoingStreamedRequests.splice(d,1)});return this.ongoingStreamedRequests.push(u),u}return await(await Pl(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const s=n.byteLength;for(let i=0;i<s;i++)r+=String.fromCharCode(n[i]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await Vz(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Pl(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await VA(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Pl(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Pl(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Pl(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await VA(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new Sm;const Bf="<TOOL_CALL>",sg="</TOOL_CALL>",qz=t=>t.map(e=>({type:"string",function:{name:e.name,description:e.description,parameters:e.inputSchema}})),Gz=t=>{let e=`

Available tools:

`;const n=JSON.stringify(t);e+=n;const s=JSON.stringify({name:"toolName",args:{arg1:"arg1",arg2:"arg2"}});return e+=`

 When you call a tool, output must look EXACTLY like this: 
${Bf}
${s}
${sg}

 Do not add explanations, markdown, or extra text outside the tags.`,e},UA=t=>{const e=[];return t.forEach(n=>{if(n.role==="user"){const r=typeof n.content=="string"?n.content:n.content.map(s=>s.type==="text"?s.text:s.type==="file"?`File: ${JSON.parse(s.mimeType).path.split("/").pop()}
File content:
${s.data}`:"").filter(s=>s!=="").join(`

`);e.push({role:"user",content:r})}else if(n.role==="system"){const r=typeof n.content=="string"?n.content:n.content.find(s=>s.type==="text")?.text??"";e.push({role:"user",content:r})}else{let r="";const s=Array.isArray(n.content)?n.content.map(a=>{if(a.type==="text")return a.text;if(a.type==="tool-call"){const c={name:a.toolName,result:a.result};return r=`${JSON.stringify(c)}
`,`${Bf}${a.argsText}${sg}`}}).join(""):"",i=typeof n.content=="string"?n.content:s;e.push({role:"assistant",content:i}),r&&e.push({role:"user",content:r})}}),e},Wz=t=>{let e=!1,n=!1,r="";if(t.includes(Bf)&&(e=!0,r=t.split(Bf)[1]),!e)return{content:t};t.includes(sg)&&(n=!0,r=r.split(sg)[0]);const s=t.split(Bf)[0];if(n){const a={type:"tool-call",toolCallId:"",toolName:JSON.parse(r).name,args:JSON.parse(r).args,argsText:r};return{content:s,toolContent:a}}return{toolContent:{type:"tool-call",toolCallId:"",toolName:"",args:{},argsText:r},content:s}};class Kz{modelKey="";systemPrompt="";apiKey;url;provider;prevMessages=[];tools=[];client;constructor(){}setProvider=e=>{this.provider=e,this.client=new Sm({host:e.baseUrl}),e.key&&this.setAPIKey(e.key),e.baseUrl&&this.setURL(e.baseUrl)};setModelKey=e=>{this.modelKey=e};setSystemPrompt=e=>{this.systemPrompt=e};setAPIKey=e=>{this.apiKey=e};setURL=e=>{this.url=e};setPrevMessages=e=>{this.prevMessages=UA(e)};setTools=e=>{this.tools=qz(e)};async*sendMessage(e,n,r){try{if(!this.client)return;const s=UA(e),i=Gz(this.tools),a={role:"system",content:this.systemPrompt+i},c=await this.client.chat({model:this.modelKey,messages:[a,...this.prevMessages,...s],stream:!0});this.prevMessages.push(...s);const u=n&&r?Ys(r):{role:"assistant",content:[]};let d="";for await(const h of c){d+=h.message.content;const{toolContent:m,content:g}=Wz(d);Array.isArray(u.content)&&(u.content.length===0?u.content.push({type:"text",text:g}):m?u.content[u.content.length-1].type!=="tool-call"?(u.content[u.content.length-1]={type:"text",text:g},u.content.push(m)):u.content[u.content.length-1]=m:u.content[u.content.length-1].type==="tool-call"?u.content.push({type:"text",text:g}):u.content[u.content.length-1]={type:"text",text:g}),h.done&&(this.prevMessages.push({role:"assistant",content:d}),yield{isEnd:!0,responseMessage:u}),yield u}}catch(s){yield{isEnd:!0,responseMessage:{role:"assistant",content:"",status:{type:"incomplete",reason:"error",error:s}}}}}async*sendMessageAfterToolCall(e){if(typeof e.content=="string")return e;const n=e.content.filter(s=>s.type==="tool-call").reverse()[0];if(!n)return e;const r=JSON.stringify({name:n.toolName,result:n.result});return this.prevMessages.push({role:"user",content:r}),yield*this.sendMessage([],!0,e),e}stopMessage=()=>{this.client&&this.client.abort()};getName=()=>"Ollama";getBaseUrl=()=>"http://localhost:11434";checkProvider=async e=>{const n=new Sm({host:e.url});try{return await n.list(),!0}catch(r){return console.log(r),{field:"url",message:"Invalid URL"}}};getProviderModels=async e=>(await new Sm({host:e.url}).list()).models.map(s=>({id:s.model,name:s.name,provider:"ollama"}))}const FA=new Kz;function $e(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function J(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let dL=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return dL=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function G_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const W_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Re extends Error{}let ar=class K_ extends Re{constructor(e,n,r,s){super(`${K_.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s?.get("x-request-id"),this.error=n;const i=n;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,n,r){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new ly({message:r,cause:W_(n)});const i=n?.error;return e===400?new hL(e,i,r,s):e===401?new pL(e,i,r,s):e===403?new mL(e,i,r,s):e===404?new gL(e,i,r,s):e===409?new yL(e,i,r,s):e===422?new bL(e,i,r,s):e===429?new vL(e,i,r,s):e>=500?new _L(e,i,r,s):new K_(e,i,r,s)}},Jr=class extends ar{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},ly=class extends ar{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Jx=class extends ly{constructor({message:e}={}){super({message:e??"Request timed out."})}},hL=class extends ar{},pL=class extends ar{},mL=class extends ar{},gL=class extends ar{},yL=class extends ar{},bL=class extends ar{},vL=class extends ar{},_L=class extends ar{};class wL extends Re{constructor(){super("Could not parse response content as the length limit was reached")}}class xL extends Re{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class gf extends Error{constructor(e){super(e)}}const Yz=/^[a-z][a-z0-9+.-]*:/i,Xz=t=>Yz.test(t);let ir=t=>(ir=Array.isArray,ir(t)),zA=ir;function SL(t){return typeof t!="object"?{}:t??{}}function Jz(t){if(!t)return!0;for(const e in t)return!1;return!0}function Zz(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yv(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const Qz=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Re(`${t} must be an integer`);if(e<0)throw new Re(`${t} must be a positive integer`);return e},eH=t=>{try{return JSON.parse(t)}catch{return}},Od=t=>new Promise(e=>setTimeout(e,t)),Fl="5.22.0",tH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function nH(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const rH=()=>{const t=nH();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":qA(Deno.build.os),"X-Stainless-Arch":HA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":qA(globalThis.process.platform??"unknown"),"X-Stainless-Arch":HA(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=sH();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sH(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const HA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",qA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let GA;const iH=()=>GA??(GA=rH());function oH(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function EL(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function CL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return EL({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){await e.return?.()}})}function TL(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aH(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const lH=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),AL="RFC3986",RL=t=>String(t),WA={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:RL},cH="RFC1738";let Y_=(t,e)=>(Y_=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Y_(t,e));const Ls=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),bv=1024,uH=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let a="";for(let c=0;c<i.length;c+=bv){const u=i.length>=bv?i.slice(c,c+bv):i,d=[];for(let h=0;h<u.length;++h){let m=u.charCodeAt(h);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===cH&&(m===40||m===41)){d[d.length]=u.charAt(h);continue}if(m<128){d[d.length]=Ls[m];continue}if(m<2048){d[d.length]=Ls[192|m>>6]+Ls[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=Ls[224|m>>12]+Ls[128|m>>6&63]+Ls[128|m&63];continue}h+=1,m=65536+((m&1023)<<10|u.charCodeAt(h)&1023),d[d.length]=Ls[240|m>>18]+Ls[128|m>>12&63]+Ls[128|m>>6&63]+Ls[128|m&63]}a+=d.join("")}return a};function fH(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function KA(t,e){if(ir(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const kL={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},ML=function(t,e){Array.prototype.push.apply(t,ir(e)?e:[e])};let YA;const Zt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:uH,encodeValuesOnly:!1,format:AL,formatter:RL,indices:!1,serializeDate(t){return(YA??(YA=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function dH(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const vv={};function OL(t,e,n,r,s,i,a,c,u,d,h,m,g,y,_,x,E,S){let T=t,k=S,L=0,I=!1;for(;(k=k.get(vv))!==void 0&&!I;){const B=k.get(t);if(L+=1,typeof B<"u"){if(B===L)throw new RangeError("Cyclic object value");I=!0}typeof k.get(vv)>"u"&&(L=0)}if(typeof d=="function"?T=d(e,T):T instanceof Date?T=g?.(T):n==="comma"&&ir(T)&&(T=KA(T,function(B){return B instanceof Date?g?.(B):B})),T===null){if(i)return u&&!x?u(e,Zt.encoder,E,"key",y):e;T=""}if(dH(T)||fH(T)){if(u){const B=x?e:u(e,Zt.encoder,E,"key",y);return[_?.(B)+"="+_?.(u(T,Zt.encoder,E,"value",y))]}return[_?.(e)+"="+_?.(String(T))]}const P=[];if(typeof T>"u")return P;let j;if(n==="comma"&&ir(T))x&&u&&(T=KA(T,u)),j=[{value:T.length>0?T.join(",")||null:void 0}];else if(ir(d))j=d;else{const B=Object.keys(T);j=h?B.sort(h):B}const $=c?String(e).replace(/\./g,"%2E"):String(e),H=r&&ir(T)&&T.length===1?$+"[]":$;if(s&&ir(T)&&T.length===0)return H+"[]";for(let B=0;B<j.length;++B){const Y=j[B],ne=typeof Y=="object"&&typeof Y.value<"u"?Y.value:T[Y];if(a&&ne===null)continue;const re=m&&c?Y.replace(/\./g,"%2E"):Y,Z=ir(T)?typeof n=="function"?n(H,re):H:H+(m?"."+re:"["+re+"]");S.set(t,L);const ae=new WeakMap;ae.set(vv,S),ML(P,OL(ne,Z,n,r,s,i,a,c,n==="comma"&&x&&ir(T)?null:u,d,h,m,g,y,_,x,E,ae))}return P}function hH(t=Zt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Zt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=AL;if(typeof t.format<"u"){if(!Y_(WA,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=WA[n];let s=Zt.filter;(typeof t.filter=="function"||ir(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in kL?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Zt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Zt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Zt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Zt.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Zt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Zt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Zt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Zt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Zt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Zt.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Zt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Zt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Zt.strictNullHandling}}function pH(t,e={}){let n=t;const r=hH(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):ir(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const c=kL[r.arrayFormat],u=c==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const d=new WeakMap;for(let g=0;g<s.length;++g){const y=s[g];r.skipNulls&&n[y]===null||ML(a,OL(n[y],y,c,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}const h=a.join(r.delimiter);let m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""}function mH(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let XA;function Zx(t){let e;return(XA??(e=new globalThis.TextEncoder,XA=e.encode.bind(e)))(t)}let JA;function ZA(t){let e;return(JA??(e=new globalThis.TextDecoder,JA=e.decode.bind(e)))(t)}var Sr,Er;let cy=class{constructor(){Sr.set(this,void 0),Er.set(this,void 0),$e(this,Sr,new Uint8Array),$e(this,Er,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Zx(e):e;$e(this,Sr,mH([J(this,Sr,"f"),n]));const r=[];let s;for(;(s=gH(J(this,Sr,"f"),J(this,Er,"f")))!=null;){if(s.carriage&&J(this,Er,"f")==null){$e(this,Er,s.index);continue}if(J(this,Er,"f")!=null&&(s.index!==J(this,Er,"f")+1||s.carriage)){r.push(ZA(J(this,Sr,"f").subarray(0,J(this,Er,"f")-1))),$e(this,Sr,J(this,Sr,"f").subarray(J(this,Er,"f"))),$e(this,Er,null);continue}const i=J(this,Er,"f")!==null?s.preceding-1:s.preceding,a=ZA(J(this,Sr,"f").subarray(0,i));r.push(a),$e(this,Sr,J(this,Sr,"f").subarray(s.index)),$e(this,Er,null)}return r}flush(){return J(this,Sr,"f").length?this.decode(`
`):[]}};Sr=new WeakMap,Er=new WeakMap;cy.NEWLINE_CHARS=new Set([`
`,"\r"]);cy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function gH(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function yH(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const ig={off:0,error:200,warn:300,info:400,debug:500},QA=(t,e,n)=>{if(t){if(Zz(ig,t))return t;mn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ig))}`)}};function yf(){}function zp(t,e,n){return!e||ig[t]>ig[n]?yf:e[t].bind(e)}const bH={error:yf,warn:yf,info:yf,debug:yf};let eR=new WeakMap;function mn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return bH;const r=eR.get(e);if(r&&r[0]===n)return r[1];const s={error:zp("error",e,n),warn:zp("warn",e,n),info:zp("info",e,n),debug:zp("debug",e,n)};return eR.set(e,[n,s]),s}const fa=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var ef;let cd=class bf{constructor(e,n,r){this.iterator=e,ef.set(this,void 0),this.controller=n,$e(this,ef,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?mn(r):console;async function*a(){if(s)throw new Re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of vH(e,n))if(!c){if(u.data.startsWith("[DONE]")){c=!0;continue}if(u.event===null||!u.event.startsWith("thread.")){let d;try{d=JSON.parse(u.data)}catch(h){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),h}if(d&&d.error)throw new ar(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(u.data)}catch(h){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),h}if(u.event=="error")throw new ar(void 0,d.error,d.message,void 0);yield{event:u.event,data:d}}}c=!0}catch(u){if(G_(u))return;throw u}finally{c||n.abort()}}return new bf(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const c=new cy,u=TL(e);for await(const d of u)for(const h of c.decode(d))yield h;for(const d of c.flush())yield d}async function*a(){if(s)throw new Re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of i())c||u&&(yield JSON.parse(u));c=!0}catch(u){if(G_(u))return;throw u}finally{c||n.abort()}}return new bf(a,n,r)}[(ef=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new bf(()=>s(e),this.controller,J(this,ef,"f")),new bf(()=>s(n),this.controller,J(this,ef,"f"))]}toReadableStream(){const e=this;let n;return EL({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=Zx(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){await n.return?.()}})}};async function*vH(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Re("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Re("Attempted to iterate over a response with no body");const n=new wH,r=new cy,s=TL(t.body);for await(const i of _H(s))for(const a of r.decode(i)){const c=n.decode(a);c&&(yield c)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*_H(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Zx(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=yH(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}let wH=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=xH(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function xH(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function PL(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{if(e.options.stream)return mn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):cd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type")?.split(";")[0]?.trim();if(u?.includes("application/json")||u?.endsWith("+json")){const m=await n.json();return IL(m,n)}return await n.text()})();return mn(t).debug(`[${r}] response parsed`,fa({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function IL(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var vf;let LL=class DL extends Promise{constructor(e,n,r=PL){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,vf.set(this,void 0),$e(this,vf,e)}_thenUnwrap(e){return new DL(J(this,vf,"f"),this.responsePromise,async(n,r)=>IL(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(J(this,vf,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};vf=new WeakMap;var Hp;class Qx{constructor(e,n,r,s){Hp.set(this,void 0),$e(this,Hp,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Re("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await J(this,Hp,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Hp=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class SH extends LL{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await PL(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class uy extends Qx{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class qt extends Qx{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...SL(this.options.query),after:n}}:null}}class EH extends Qx{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...SL(this.options.query),after:e}}:null}}const NL=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $f(t,e,n){return NL(),new File(t,e??"unknown_file",n)}function Em(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const jL=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Ra=async(t,e)=>({...t,body:await TH(t.body,e)}),tR=new WeakMap;function CH(t){const e=typeof t=="function"?t:t.fetch,n=tR.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return tR.set(e,r),r}const TH=async(t,e)=>{if(!await CH(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>X_(n,r,s))),n},AH=t=>t instanceof Blob&&"name"in t,X_=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,$f([await n.blob()],Em(n)));else if(jL(n))t.append(e,$f([await new Response(CL(n)).blob()],Em(n)));else if(AH(n))t.append(e,n,Em(n));else if(Array.isArray(n))await Promise.all(n.map(r=>X_(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>X_(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},BL=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",RH=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&BL(t),kH=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MH(t,e,n){if(NL(),t=await t,RH(t))return t instanceof File?t:$f([await t.arrayBuffer()],t.name);if(kH(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),$f(await J_(s),e,n)}const r=await J_(t);if(e||(e=Em(t)),!n?.type){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return $f(r,e,n)}async function J_(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(BL(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(jL(t))for await(const n of t)e.push(...await J_(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${OH(t)}`)}return e}function OH(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let Le=class{constructor(e){this._client=e}};function $L(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nR=Object.freeze(Object.create(null)),PH=(t=$L)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((h,m,g)=>{/[?#]/.test(m)&&(s=!0);const y=r[g];let _=(s?encodeURIComponent:t)(""+y);return g!==r.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??nR)??nR)?.toString)&&(_=y+"",i.push({start:h.length+m.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":_)},""),c=a.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=u.exec(c))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((h,m)=>h.start-m.start),i.length>0){let h=0;const m=i.reduce((g,y)=>{const _=" ".repeat(y.start-h),x="^".repeat(y.length);return h=y.start+y.length,g+_+x},"");throw new Re(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${a}
${m}`)}return a},ge=PH($L);let VL=class extends Le{list(e,n={},r){return this._client.getAPIList(ge`/chat/completions/${e}/messages`,qt,{query:n,...r})}};function og(t){return t!==void 0&&"function"in t&&t.function!==void 0}function e2(t){return t?.$brand==="auto-parseable-response-format"}function Pd(t){return t?.$brand==="auto-parseable-tool"}function IH(t,e){return!e||!UL(e)?{...t,choices:t.choices.map(n=>(FL(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:t2(t,e)}function t2(t,e){const n=t.choices.map(r=>{if(r.finish_reason==="length")throw new wL;if(r.finish_reason==="content_filter")throw new xL;return FL(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(s=>DH(e,s))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?LH(e,r.message.content):null}}});return{...t,choices:n}}function LH(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function DH(t,e){const n=t.tools?.find(r=>og(r)&&r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Pd(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function NH(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(r=>og(r)&&r.function?.name===e.function.name);return og(n)&&(Pd(n)||n?.function.strict||!1)}function UL(t){return e2(t.response_format)?!0:t.tools?.some(e=>Pd(e)||e.type==="function"&&e.function.strict===!0)??!1}function FL(t){for(const e of t||[])if(e.type!=="function")throw new Re(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function jH(t){for(const e of t??[]){if(e.type!=="function")throw new Re(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Re(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ag=t=>t?.role==="assistant",zL=t=>t?.role==="tool";var Z_,Cm,Tm,_f,wf,Am,xf,wi,Sf,lg,cg,zl,HL;class n2{constructor(){Z_.add(this),this.controller=new AbortController,Cm.set(this,void 0),Tm.set(this,()=>{}),_f.set(this,()=>{}),wf.set(this,void 0),Am.set(this,()=>{}),xf.set(this,()=>{}),wi.set(this,{}),Sf.set(this,!1),lg.set(this,!1),cg.set(this,!1),zl.set(this,!1),$e(this,Cm,new Promise((e,n)=>{$e(this,Tm,e,"f"),$e(this,_f,n,"f")})),$e(this,wf,new Promise((e,n)=>{$e(this,Am,e,"f"),$e(this,xf,n,"f")})),J(this,Cm,"f").catch(()=>{}),J(this,wf,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},J(this,Z_,"m",HL).bind(this))},0)}_connected(){this.ended||(J(this,Tm,"f").call(this),this._emit("connect"))}get ended(){return J(this,Sf,"f")}get errored(){return J(this,lg,"f")}get aborted(){return J(this,cg,"f")}abort(){this.controller.abort()}on(e,n){return(J(this,wi,"f")[e]||(J(this,wi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=J(this,wi,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(J(this,wi,"f")[e]||(J(this,wi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{$e(this,zl,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){$e(this,zl,!0),await J(this,wf,"f")}_emit(e,...n){if(J(this,Sf,"f"))return;e==="end"&&($e(this,Sf,!0),J(this,Am,"f").call(this));const r=J(this,wi,"f")[e];if(r&&(J(this,wi,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!J(this,zl,"f")&&!r?.length&&Promise.reject(s),J(this,_f,"f").call(this,s),J(this,xf,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!J(this,zl,"f")&&!r?.length&&Promise.reject(s),J(this,_f,"f").call(this,s),J(this,xf,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Cm=new WeakMap,Tm=new WeakMap,_f=new WeakMap,wf=new WeakMap,Am=new WeakMap,xf=new WeakMap,wi=new WeakMap,Sf=new WeakMap,lg=new WeakMap,cg=new WeakMap,zl=new WeakMap,Z_=new WeakSet,HL=function(e){if($e(this,lg,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Jr),e instanceof Jr)return $e(this,cg,!0),this._emit("abort",e);if(e instanceof Re)return this._emit("error",e);if(e instanceof Error){const n=new Re(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Re(String(e)))};function BH(t){return typeof t.parse=="function"}var Hn,Q_,ug,ew,tw,nw,qL,GL;const $H=10;let WL=class extends n2{constructor(){super(...arguments),Hn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),zL(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(ag(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Re("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),J(this,Hn,"m",Q_).call(this)}async finalMessage(){return await this.done(),J(this,Hn,"m",ug).call(this)}async finalFunctionToolCall(){return await this.done(),J(this,Hn,"m",ew).call(this)}async finalFunctionToolCallResult(){return await this.done(),J(this,Hn,"m",tw).call(this)}async totalUsage(){return await this.done(),J(this,Hn,"m",nw).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=J(this,Hn,"m",ug).call(this);n&&this._emit("finalMessage",n);const r=J(this,Hn,"m",Q_).call(this);r&&this._emit("finalContent",r);const s=J(this,Hn,"m",ew).call(this);s&&this._emit("finalFunctionToolCall",s);const i=J(this,Hn,"m",tw).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",J(this,Hn,"m",nw).call(this))}async _createChatCompletion(e,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,Hn,"m",qL).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(t2(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){const s="tool",{tool_choice:i="auto",stream:a,...c}=n,u=typeof i!="string"&&i.type==="function"&&i?.function?.name,{maxChatCompletions:d=$H}=r||{},h=n.tools.map(y=>{if(Pd(y)){if(!y.$callback)throw new Re("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),m={};for(const y of h)y.type==="function"&&(m[y.function.name||y.function.function.name]=y.function);const g="tools"in n?h.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const x=(await this._createChatCompletion(e,{...c,tool_choice:i,tools:g,messages:[...this.messages]},r)).choices[0]?.message;if(!x)throw new Re("missing message in ChatCompletion response");if(!x.tool_calls?.length)return;for(const E of x.tool_calls){if(E.type!=="function")continue;const S=E.id,{name:T,arguments:k}=E.function,L=m[T];if(L){if(u&&u!==T){const $=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:$});continue}}else{const $=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(m).map(H=>JSON.stringify(H)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:$});continue}let I;try{I=BH(L)?await L.parse(k):k}catch($){const H=$ instanceof Error?$.message:String($);this._addMessage({role:s,tool_call_id:S,content:H});continue}const P=await L.function(I,this),j=J(this,Hn,"m",GL).call(this,P);if(this._addMessage({role:s,tool_call_id:S,content:j}),u)return}}}};Hn=new WeakSet,Q_=function(){return J(this,Hn,"m",ug).call(this).content??null},ug=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(ag(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Re("stream ended without producing a ChatCompletionMessage with role=assistant")},ew=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(ag(n)&&n?.tool_calls?.length)return n.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},tw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(zL(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(s=>s.type==="function"&&s.id===n.tool_call_id)))return n.content}},nw=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},qL=function(e){if(e.n!=null&&e.n>1)throw new Re("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},GL=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class r2 extends WL{static runTools(e,n,r){const s=new r2,i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),ag(e)&&e.content&&this._emit("content",e.content)}}const KL=1,YL=2,XL=4,JL=8,ZL=16,QL=32,eD=64,tD=128,nD=256,rD=tD|nD,sD=ZL|QL|rD|eD,iD=KL|YL|sD,oD=XL|JL,VH=iD|oD,ln={STR:KL,NUM:YL,ARR:XL,OBJ:JL,NULL:ZL,BOOL:QL,NAN:eD,INFINITY:tD,MINUS_INFINITY:nD,INF:rD,SPECIAL:sD,ATOM:iD,COLLECTION:oD,ALL:VH};class UH extends Error{}class FH extends Error{}function zH(t,e=ln.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return HH(t.trim(),e)}const HH=(t,e)=>{const n=t.length;let r=0;const s=g=>{throw new UH(`${g} at position ${r}`)},i=g=>{throw new FH(`${g} at position ${r}`)},a=()=>(m(),r>=n&&s("Unexpected end of input"),t[r]==='"'?c():t[r]==="{"?u():t[r]==="["?d():t.substring(r,r+4)==="null"||ln.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||ln.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||ln.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||ln.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||ln.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||ln.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),c=()=>{const g=r;let y=!1;for(r++;r<n&&(t[r]!=='"'||y&&t[r-1]==="\\");)y=t[r]==="\\"?!y:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(g,++r-Number(y)))}catch(_){i(String(_))}else if(ln.STR&e)try{return JSON.parse(t.substring(g,r-Number(y))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},u=()=>{r++,m();const g={};try{for(;t[r]!=="}";){if(m(),r>=n&&ln.OBJ&e)return g;const y=c();m(),r++;try{const _=a();Object.defineProperty(g,y,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(ln.OBJ&e)return g;throw _}m(),t[r]===","&&r++}}catch{if(ln.OBJ&e)return g;s("Expected '}' at end of object")}return r++,g},d=()=>{r++;const g=[];try{for(;t[r]!=="]";)g.push(a()),m(),t[r]===","&&r++}catch{if(ln.ARR&e)return g;s("Expected ']' at end of array")}return r++,g},h=()=>{if(r===0){t==="-"&&ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(ln.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(y))}}const g=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(ln.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(g,r))}catch{t.substring(g,r)==="-"&&ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(_){i(String(_))}}},m=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},rR=t=>zH(t,ln.ALL^ln.NUM);var Yt,bi,Il,yo,_v,qp,wv,xv,Sv,Gp,Ev,sR;let aD=class rw extends WL{constructor(e){super(),Yt.add(this),bi.set(this,void 0),Il.set(this,void 0),yo.set(this,void 0),$e(this,bi,e),$e(this,Il,[])}get currentChatCompletionSnapshot(){return J(this,yo,"f")}static fromReadableStream(e){const n=new rw(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new rw(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){super._createChatCompletion;const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,Yt,"m",_v).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)J(this,Yt,"m",wv).call(this,a);if(i.controller.signal?.aborted)throw new Jr;return this._addChatCompletion(J(this,Yt,"m",Gp).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),J(this,Yt,"m",_v).call(this),this._connected();const s=cd.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(J(this,Yt,"m",Gp).call(this)),J(this,Yt,"m",wv).call(this,a),i=a.id;if(s.controller.signal?.aborted)throw new Jr;return this._addChatCompletion(J(this,Yt,"m",Gp).call(this))}[(bi=new WeakMap,Il=new WeakMap,yo=new WeakMap,Yt=new WeakSet,_v=function(){this.ended||$e(this,yo,void 0)},qp=function(n){let r=J(this,Il,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},J(this,Il,"f")[n.index]=r,r)},wv=function(n){if(this.ended)return;const r=J(this,Yt,"m",sR).call(this,n);this._emit("chunk",n,r);for(const s of n.choices){const i=r.choices[s.index];s.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",s.delta.content,i.message.content),this._emit("content.delta",{delta:s.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),s.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:s.delta.refusal,snapshot:i.message.refusal}),s.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:s.logprobs?.content,snapshot:i.logprobs?.content??[]}),s.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:s.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});const a=J(this,Yt,"m",qp).call(this,i);i.finish_reason&&(J(this,Yt,"m",Sv).call(this,i),a.current_tool_call_index!=null&&J(this,Yt,"m",xv).call(this,i,a.current_tool_call_index));for(const c of s.delta.tool_calls??[])a.current_tool_call_index!==c.index&&(J(this,Yt,"m",Sv).call(this,i),a.current_tool_call_index!=null&&J(this,Yt,"m",xv).call(this,i,a.current_tool_call_index)),a.current_tool_call_index=c.index;for(const c of s.delta.tool_calls??[]){const u=i.message.tool_calls?.[c.index];u?.type&&(u?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:u.function?.name,index:c.index,arguments:u.function.arguments,parsed_arguments:u.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(u?.type,void 0))}}},xv=function(n,r){if(J(this,Yt,"m",qp).call(this,n).done_tool_calls.has(r))return;const i=n.message.tool_calls?.[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const a=J(this,bi,"f")?.tools?.find(c=>og(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Pd(a)?a.$parseRaw(i.function.arguments):a?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Sv=function(n){const r=J(this,Yt,"m",qp).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const s=J(this,Yt,"m",Ev).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Gp=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");const n=J(this,yo,"f");if(!n)throw new Re("request ended without sending any chunks");return $e(this,yo,void 0),$e(this,Il,[]),qH(n,J(this,bi,"f"))},Ev=function(){const n=J(this,bi,"f")?.response_format;return e2(n)?n:null},sR=function(n){var r,s,i,a;let c=J(this,yo,"f");const{choices:u,...d}=n;c?Object.assign(c,d):c=$e(this,yo,{...d,choices:[]});for(const{delta:h,finish_reason:m,index:g,logprobs:y=null,..._}of n.choices){let x=c.choices[g];if(x||(x=c.choices[g]={finish_reason:m,index:g,message:{},logprobs:y,..._}),y)if(!x.logprobs)x.logprobs=Object.assign({},y);else{const{content:P,refusal:j,...$}=y;Object.assign(x.logprobs,$),P&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...P)),j&&((s=x.logprobs).refusal??(s.refusal=[]),x.logprobs.refusal.push(...j))}if(m&&(x.finish_reason=m,J(this,bi,"f")&&UL(J(this,bi,"f")))){if(m==="length")throw new wL;if(m==="content_filter")throw new xL}if(Object.assign(x,_),!h)continue;const{content:E,refusal:S,function_call:T,role:k,tool_calls:L,...I}=h;if(Object.assign(x.message,I),S&&(x.message.refusal=(x.message.refusal||"")+S),k&&(x.message.role=k),T&&(x.message.function_call?(T.name&&(x.message.function_call.name=T.name),T.arguments&&((i=x.message.function_call).arguments??(i.arguments=""),x.message.function_call.arguments+=T.arguments)):x.message.function_call=T),E&&(x.message.content=(x.message.content||"")+E,!x.message.refusal&&J(this,Yt,"m",Ev).call(this)&&(x.message.parsed=rR(x.message.content))),L){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:P,id:j,type:$,function:H,...B}of L){const Y=(a=x.message.tool_calls)[P]??(a[P]={});Object.assign(Y,B),j&&(Y.id=j),$&&(Y.type=$),H&&(Y.function??(Y.function={name:H.name??"",arguments:""})),H?.name&&(Y.function.name=H.name),H?.arguments&&(Y.function.arguments+=H.arguments,NH(J(this,bi,"f"),Y)&&(Y.function.parsed_arguments=rR(Y.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new cd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function qH(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...c}=t,u={...c,id:n,choices:r.map(({message:d,finish_reason:h,index:m,logprobs:g,...y})=>{if(!h)throw new Re(`missing finish_reason for choice ${m}`);const{content:_=null,function_call:x,tool_calls:E,...S}=d,T=d.role;if(!T)throw new Re(`missing role for choice ${m}`);if(x){const{arguments:k,name:L}=x;if(k==null)throw new Re(`missing function_call.arguments for choice ${m}`);if(!L)throw new Re(`missing function_call.name for choice ${m}`);return{...y,message:{content:_,function_call:{arguments:k,name:L},role:T,refusal:d.refusal??null},finish_reason:h,index:m,logprobs:g}}return E?{...y,index:m,finish_reason:h,logprobs:g,message:{...S,role:T,content:_,refusal:d.refusal??null,tool_calls:E.map((k,L)=>{const{function:I,type:P,id:j,...$}=k,{arguments:H,name:B,...Y}=I||{};if(j==null)throw new Re(`missing choices[${m}].tool_calls[${L}].id
${Wp(t)}`);if(P==null)throw new Re(`missing choices[${m}].tool_calls[${L}].type
${Wp(t)}`);if(B==null)throw new Re(`missing choices[${m}].tool_calls[${L}].function.name
${Wp(t)}`);if(H==null)throw new Re(`missing choices[${m}].tool_calls[${L}].function.arguments
${Wp(t)}`);return{...$,id:j,type:P,function:{...Y,name:B,arguments:H}}})}}:{...y,message:{...S,content:_,role:T,refusal:d.refusal??null},finish_reason:h,index:m,logprobs:g}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return IH(u,e)}function Wp(t){return JSON.stringify(t)}class fg extends aD{static fromReadableStream(e){const n=new fg(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const s=new fg(n),i={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let s2=class extends Le{constructor(){super(...arguments),this.messages=new VL(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(ge`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(ge`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",qt,{query:e,...n})}delete(e,n){return this._client.delete(ge`/chat/completions/${e}`,n)}parse(e,n){return jH(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>t2(r,e))}runTools(e,n){return e.stream?fg.runTools(this._client,e,n):r2.runTools(this._client,e,n)}stream(e,n){return aD.createChatCompletion(this._client,e,n)}};s2.Messages=VL;let i2=class extends Le{constructor(){super(...arguments),this.completions=new s2(this._client)}};i2.Completions=s2;const lD=Symbol("brand.privateNullableHeaders");function*GH(t){if(!t)return;if(lD in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():zA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=zA(r[1])?r[1]:[r[1]];let a=!1;for(const c of i)c!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,c])}}const Me=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of GH(r)){const c=i.toLowerCase();s.has(c)||(e.delete(i),s.add(c)),a===null?(e.delete(i),n.add(c)):(e.append(i,a),n.delete(c))}}return{[lD]:!0,values:e,nulls:n}};class cD extends Le{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Me([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}let uD=class extends Le{create(e,n){return this._client.post("/audio/transcriptions",Ra({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}},fD=class extends Le{create(e,n){return this._client.post("/audio/translations",Ra({body:e,...n,__metadata:{model:e.model}},this._client))}},Id=class extends Le{constructor(){super(...arguments),this.transcriptions=new uD(this._client),this.translations=new fD(this._client),this.speech=new cD(this._client)}};Id.Transcriptions=uD;Id.Translations=fD;Id.Speech=cD;let dD=class extends Le{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ge`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",qt,{query:e,...n})}cancel(e,n){return this._client.post(ge`/batches/${e}/cancel`,n)}};class hD extends Le{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ge`/assistants/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(ge`/assistants/${e}`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",qt,{query:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ge`/assistants/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let pD=class extends Le{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class mD extends Le{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let fy=class extends Le{constructor(){super(...arguments),this.sessions=new pD(this._client),this.transcriptionSessions=new mD(this._client)}};fy.Sessions=pD;fy.TranscriptionSessions=mD;class gD extends Le{create(e,n,r){return this._client.post(ge`/threads/${e}/messages`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(ge`/threads/${s}/messages/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(ge`/threads/${s}/messages/${e}`,{body:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(ge`/threads/${e}/messages`,qt,{query:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{thread_id:s}=n;return this._client.delete(ge`/threads/${s}/messages/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class yD extends Le{retrieve(e,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(ge`/threads/${s}/runs/${i}/steps/${e}`,{query:a,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(ge`/threads/${s}/runs/${e}/steps`,qt,{query:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const WH=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var KH={};const Ll=t=>{if(typeof globalThis.process<"u")return KH?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var yn,ba,sw,Vs,Rm,fs,va,Yl,ga,dg,Rr,km,Mm,Vf,Ef,Cf,iR,oR,aR,lR,cR,uR,fR;class Uf extends n2{constructor(){super(...arguments),yn.add(this),sw.set(this,[]),Vs.set(this,{}),Rm.set(this,{}),fs.set(this,void 0),va.set(this,void 0),Yl.set(this,void 0),ga.set(this,void 0),dg.set(this,void 0),Rr.set(this,void 0),km.set(this,void 0),Mm.set(this,void 0),Vf.set(this,void 0)}[(sw=new WeakMap,Vs=new WeakMap,Rm=new WeakMap,fs=new WeakMap,va=new WeakMap,Yl=new WeakMap,ga=new WeakMap,dg=new WeakMap,Rr=new WeakMap,km=new WeakMap,Mm=new WeakMap,Vf=new WeakMap,yn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new ba;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=cd.fromReadableStream(e,this.controller);for await(const i of s)J(this,yn,"m",Ef).call(this,i);if(s.controller.signal?.aborted)throw new Jr;return this._addRun(J(this,yn,"m",Cf).call(this))}toReadableStream(){return new cd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s){const i=new ba;return i._run(()=>i._runToolAssistantStream(e,n,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},c=await e.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of c)J(this,yn,"m",Ef).call(this,u);if(c.controller.signal?.aborted)throw new Jr;return this._addRun(J(this,yn,"m",Cf).call(this))}static createThreadAssistantStream(e,n,r){const s=new ba;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new ba;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return J(this,km,"f")}currentRun(){return J(this,Mm,"f")}currentMessageSnapshot(){return J(this,fs,"f")}currentRunStepSnapshot(){return J(this,Vf,"f")}async finalRunSteps(){return await this.done(),Object.values(J(this,Vs,"f"))}async finalMessages(){return await this.done(),Object.values(J(this,Rm,"f"))}async finalRun(){if(await this.done(),!J(this,va,"f"))throw Error("Final run was not received.");return J(this,va,"f")}async _createThreadAssistantStream(e,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const c of a)J(this,yn,"m",Ef).call(this,c);if(a.controller.signal?.aborted)throw new Jr;return this._addRun(J(this,yn,"m",Cf).call(this))}async _createAssistantStream(e,n,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},c=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of c)J(this,yn,"m",Ef).call(this,u);if(c.controller.signal?.aborted)throw new Jr;return this._addRun(J(this,yn,"m",Cf).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(yv(i)&&yv(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!yv(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const c=a.index;if(c==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const u=i[c];u==null?i.push(a):i[c]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s){return await this._createToolAssistantStream(n,e,r,s)}}ba=Uf,Ef=function(e){if(!this.ended)switch($e(this,km,e),J(this,yn,"m",aR).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":J(this,yn,"m",fR).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":J(this,yn,"m",oR).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":J(this,yn,"m",iR).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Cf=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");if(!J(this,va,"f"))throw Error("Final run has not been received");return J(this,va,"f")},iR=function(e){const[n,r]=J(this,yn,"m",cR).call(this,e,J(this,fs,"f"));$e(this,fs,n),J(this,Rm,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=J(this,Yl,"f")){if(J(this,ga,"f"))switch(J(this,ga,"f").type){case"text":this._emit("textDone",J(this,ga,"f").text,J(this,fs,"f"));break;case"image_file":this._emit("imageFileDone",J(this,ga,"f").image_file,J(this,fs,"f"));break}$e(this,Yl,s.index)}$e(this,ga,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(J(this,Yl,"f")!==void 0){const s=e.data.content[J(this,Yl,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,J(this,fs,"f"));break;case"text":this._emit("textDone",s.text,J(this,fs,"f"));break}}J(this,fs,"f")&&this._emit("messageDone",e.data),$e(this,fs,void 0)}},oR=function(e){const n=J(this,yn,"m",lR).call(this,e);switch($e(this,Vf,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==J(this,dg,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(J(this,Rr,"f")&&this._emit("toolCallDone",J(this,Rr,"f")),$e(this,dg,i.index),$e(this,Rr,n.step_details.tool_calls[i.index]),J(this,Rr,"f")&&this._emit("toolCallCreated",J(this,Rr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$e(this,Vf,void 0),e.data.step_details.type=="tool_calls"&&J(this,Rr,"f")&&(this._emit("toolCallDone",J(this,Rr,"f")),$e(this,Rr,void 0)),this._emit("runStepDone",e.data,n);break}},aR=function(e){J(this,sw,"f").push(e),this._emit("event",e)},lR=function(e){switch(e.event){case"thread.run.step.created":return J(this,Vs,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=J(this,Vs,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=ba.accumulateDelta(n,r.delta);J(this,Vs,"f")[e.data.id]=s}return J(this,Vs,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":J(this,Vs,"f")[e.data.id]=e.data;break}if(J(this,Vs,"f")[e.data.id])return J(this,Vs,"f")[e.data.id];throw new Error("No snapshot available")},cR=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=J(this,yn,"m",uR).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},uR=function(e,n){return ba.accumulateDelta(n,e)},fR=function(e){switch($e(this,Mm,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":$e(this,va,e.data),J(this,Rr,"f")&&(this._emit("toolCallDone",J(this,Rr,"f")),$e(this,Rr,void 0));break}};let o2=class extends Le{constructor(){super(...arguments),this.steps=new yD(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(ge`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(ge`/threads/${s}/runs/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(ge`/threads/${s}/runs/${e}`,{body:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(ge`/threads/${e}/runs`,qt,{query:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{thread_id:s}=n;return this._client.post(ge`/threads/${s}/runs/${e}/cancel`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(s.id,{thread_id:e},r)}createAndStream(e,n,r){return Uf.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s=Me([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(e,n,{...r,headers:{...r?.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Od(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return Uf.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:s,...i}=n;return this._client.post(ge`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const s=await this.submitToolOutputs(e,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(e,n,r){return Uf.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};o2.Steps=yD;class dy extends Le{constructor(){super(...arguments),this.runs=new o2(this._client),this.messages=new gD(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ge`/threads/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(ge`/threads/${e}`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n){return this._client.delete(ge`/threads/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Uf.createThreadAssistantStream(e,this._client.beta.threads,n)}}dy.Runs=o2;dy.Messages=gD;class Ld extends Le{constructor(){super(...arguments),this.realtime=new fy(this._client),this.assistants=new hD(this._client),this.threads=new dy(this._client)}}Ld.Realtime=fy;Ld.Assistants=hD;Ld.Threads=dy;let bD=class extends Le{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}},vD=class extends Le{retrieve(e,n,r){const{container_id:s}=n;return this._client.get(ge`/containers/${s}/files/${e}/content`,{...r,headers:Me([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}},a2=class extends Le{constructor(){super(...arguments),this.content=new vD(this._client)}create(e,n,r){return this._client.post(ge`/containers/${e}/files`,Ra({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:s}=n;return this._client.get(ge`/containers/${s}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(ge`/containers/${e}/files`,qt,{query:n,...r})}delete(e,n,r){const{container_id:s}=n;return this._client.delete(ge`/containers/${s}/files/${e}`,{...r,headers:Me([{Accept:"*/*"},r?.headers])})}};a2.Content=vD;class l2 extends Le{constructor(){super(...arguments),this.files=new a2(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(ge`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",qt,{query:e,...n})}delete(e,n){return this._client.delete(ge`/containers/${e}`,{...n,headers:Me([{Accept:"*/*"},n?.headers])})}}l2.Files=a2;class _D extends Le{create(e,n,r){const{include:s,...i}=n;return this._client.post(ge`/conversations/${e}/items`,{query:{include:s},body:i,...r})}retrieve(e,n,r){const{conversation_id:s,...i}=n;return this._client.get(ge`/conversations/${s}/items/${e}`,{query:i,...r})}list(e,n={},r){return this._client.getAPIList(ge`/conversations/${e}/items`,EH,{query:n,...r})}delete(e,n,r){const{conversation_id:s}=n;return this._client.delete(ge`/conversations/${s}/items/${e}`,r)}}class c2 extends Le{constructor(){super(...arguments),this.items=new _D(this._client)}create(e,n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(ge`/conversations/${e}`,n)}update(e,n,r){return this._client.post(ge`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(ge`/conversations/${e}`,n)}}c2.Items=_D;let wD=class extends Le{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&mn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?i:(mn(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(c=>{const u=c.embedding;c.embedding=WH(u)}),a)))}};class xD extends Le{retrieve(e,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(ge`/evals/${s}/runs/${i}/output_items/${e}`,r)}list(e,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(ge`/evals/${s}/runs/${e}/output_items`,qt,{query:i,...r})}}class u2 extends Le{constructor(){super(...arguments),this.outputItems=new xD(this._client)}create(e,n,r){return this._client.post(ge`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:s}=n;return this._client.get(ge`/evals/${s}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(ge`/evals/${e}/runs`,qt,{query:n,...r})}delete(e,n,r){const{eval_id:s}=n;return this._client.delete(ge`/evals/${s}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:s}=n;return this._client.post(ge`/evals/${s}/runs/${e}`,r)}}u2.OutputItems=xD;class f2 extends Le{constructor(){super(...arguments),this.runs=new u2(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(ge`/evals/${e}`,n)}update(e,n,r){return this._client.post(ge`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",qt,{query:e,...n})}delete(e,n){return this._client.delete(ge`/evals/${e}`,n)}}f2.Runs=u2;let SD=class extends Le{create(e,n){return this._client.post("/files",Ra({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ge`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",qt,{query:e,...n})}delete(e,n){return this._client.delete(ge`/files/${e}`,n)}content(e,n){return this._client.get(ge`/files/${e}/content`,{...n,headers:Me([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await Od(n),a=await this.retrieve(e),Date.now()-i>r)throw new Jx({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class ED extends Le{}let CD=class extends Le{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class d2 extends Le{constructor(){super(...arguments),this.graders=new CD(this._client)}}d2.Graders=CD;class TD extends Le{create(e,n,r){return this._client.getAPIList(ge`/fine_tuning/checkpoints/${e}/permissions`,uy,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(ge`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(ge`/fine_tuning/checkpoints/${s}/permissions/${e}`,r)}}let h2=class extends Le{constructor(){super(...arguments),this.permissions=new TD(this._client)}};h2.Permissions=TD;class AD extends Le{list(e,n={},r){return this._client.getAPIList(ge`/fine_tuning/jobs/${e}/checkpoints`,qt,{query:n,...r})}}let p2=class extends Le{constructor(){super(...arguments),this.checkpoints=new AD(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(ge`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",qt,{query:e,...n})}cancel(e,n){return this._client.post(ge`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(ge`/fine_tuning/jobs/${e}/events`,qt,{query:n,...r})}pause(e,n){return this._client.post(ge`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(ge`/fine_tuning/jobs/${e}/resume`,n)}};p2.Checkpoints=AD;class Ec extends Le{constructor(){super(...arguments),this.methods=new ED(this._client),this.jobs=new p2(this._client),this.checkpoints=new h2(this._client),this.alpha=new d2(this._client)}}Ec.Methods=ED;Ec.Jobs=p2;Ec.Checkpoints=h2;Ec.Alpha=d2;class RD extends Le{}class m2 extends Le{constructor(){super(...arguments),this.graderModels=new RD(this._client)}}m2.GraderModels=RD;let kD=class extends Le{createVariation(e,n){return this._client.post("/images/variations",Ra({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Ra({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}},MD=class extends Le{retrieve(e,n){return this._client.get(ge`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",uy,e)}delete(e,n){return this._client.delete(ge`/models/${e}`,n)}};class OD extends Le{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class PD extends Le{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class g2 extends Le{constructor(){super(...arguments),this.clientSecrets=new PD(this._client)}}g2.ClientSecrets=PD;function YH(t,e){return!e||!JH(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:ID(t,e)}function ID(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:eq(e,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:XH(e,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||iw(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function XH(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function JH(t){return!!e2(t.text?.format)}function ZH(t){return t?.$brand==="auto-parseable-tool"}function QH(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function eq(t,e){const n=QH(t.tools??[],e.name);return{...e,...e,parsed_arguments:ZH(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function iw(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var Dl,Kp,bo,Yp,dR,hR,pR,mR;class y2 extends n2{constructor(e){super(),Dl.add(this),Kp.set(this,void 0),bo.set(this,void 0),Yp.set(this,void 0),$e(this,Kp,e)}static createResponse(e,n,r){const s=new y2(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,Dl,"m",dR).call(this);let i,a=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of i)J(this,Dl,"m",hR).call(this,c,a);if(i.controller.signal?.aborted)throw new Jr;return J(this,Dl,"m",pR).call(this)}[(Kp=new WeakMap,bo=new WeakMap,Yp=new WeakMap,Dl=new WeakSet,dR=function(){this.ended||$e(this,bo,void 0)},hR=function(n,r){if(this.ended)return;const s=(a,c)=>{(r==null||c.sequence_number>r)&&this._emit(a,c)},i=J(this,Dl,"m",mR).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new Re(`missing output at index ${n.output_index}`);if(a.type==="message"){const c=a.content[n.content_index];if(!c)throw new Re(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Re(`expected content to be 'output_text', got ${c.type}`);s("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new Re(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},pR=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");const n=J(this,bo,"f");if(!n)throw new Re("request ended without sending any events");$e(this,bo,void 0);const r=tq(n,J(this,Kp,"f"));return $e(this,Yp,r),r},mR=function(n){let r=J(this,bo,"f");if(!r){if(n.type!=="response.created")throw new Re(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=$e(this,bo,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new Re(`missing output at index ${n.output_index}`);const i=s.type,a=n.part;i==="message"&&a.type!=="reasoning_text"?s.content.push(a):i==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new Re(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new Re(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new Re(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new Re(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new Re(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const i=s.content?.[n.content_index];if(!i)throw new Re(`missing content at index ${n.content_index}`);if(i.type!=="reasoning_text")throw new Re(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=n.delta}break}case"response.completed":{$e(this,bo,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=J(this,Yp,"f");if(!e)throw new Re("stream ended without producing a ChatCompletion");return e}}function tq(t,e){return YH(t,e)}class LD extends Le{list(e,n={},r){return this._client.getAPIList(ge`/responses/${e}/input_items`,qt,{query:n,...r})}}class b2 extends Le{constructor(){super(...arguments),this.inputItems=new LD(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&iw(r),r))}retrieve(e,n={},r){return this._client.get(ge`/responses/${e}`,{query:n,...r,stream:n?.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&iw(s),s))}delete(e,n){return this._client.delete(ge`/responses/${e}`,{...n,headers:Me([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>ID(r,e))}stream(e,n){return y2.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(ge`/responses/${e}/cancel`,n)}}b2.InputItems=LD;class DD extends Le{create(e,n,r){return this._client.post(ge`/uploads/${e}/parts`,Ra({body:n,...r},this._client))}}class v2 extends Le{constructor(){super(...arguments),this.parts=new DD(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(ge`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(ge`/uploads/${e}/complete`,{body:n,...r})}}v2.Parts=DD;const nq=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class ND extends Le{create(e,n,r){return this._client.post(ge`/vector_stores/${e}/file_batches`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(ge`/vector_stores/${s}/file_batches/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{vector_store_id:s}=n;return this._client.post(ge`/vector_stores/${s}/file_batches/${e}/cancel`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(ge`/vector_stores/${s}/file_batches/${e}/files`,qt,{query:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,n,r){const s=Me([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:a}=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Od(c);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=s?.maxConcurrency??5,a=Math.min(i,n.length),c=this._client,u=n.values(),d=[...r];async function h(g){for(let y of g){const _=await c.files.create({file:y,purpose:"assistants"},s);d.push(_.id)}}const m=Array(a).fill(u).map(h);return await nq(m),await this.createAndPoll(e,{file_ids:d})}}let jD=class extends Le{create(e,n,r){return this._client.post(ge`/vector_stores/${e}/files`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(ge`/vector_stores/${s}/files/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{vector_store_id:s,...i}=n;return this._client.post(ge`/vector_stores/${s}/files/${e}`,{body:i,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(ge`/vector_stores/${e}/files`,qt,{query:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{vector_store_id:s}=n;return this._client.delete(ge`/vector_stores/${s}/files/${e}`,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s=Me([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const i=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const u=i.response.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await Od(c);break;case"failed":case"completed":return a}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(ge`/vector_stores/${s}/files/${e}/content`,uy,{...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};class hy extends Le{constructor(){super(...arguments),this.files=new jD(this._client),this.fileBatches=new ND(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ge`/vector_stores/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(ge`/vector_stores/${e}`,{body:n,...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",qt,{query:e,...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ge`/vector_stores/${e}`,{...n,headers:Me([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,r){return this._client.getAPIList(ge`/vector_stores/${e}/search`,uy,{body:n,method:"post",...r,headers:Me([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}hy.Files=jD;hy.FileBatches=ND;var Hl,BD,Om;class $D extends Le{constructor(){super(...arguments),Hl.add(this)}async unwrap(e,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(e,n,r,s),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");J(this,Hl,"m",BD).call(this,r);const i=Me([n]).values,a=J(this,Hl,"m",Om).call(this,i,"webhook-signature"),c=J(this,Hl,"m",Om).call(this,i,"webhook-timestamp"),u=J(this,Hl,"m",Om).call(this,i,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new gf("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-d>s)throw new gf("Webhook timestamp is too old");if(d>h+s)throw new gf("Webhook timestamp is too new");const m=a.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),g=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),y=u?`${u}.${c}.${e}`:`${c}.${e}`,_=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of m)try{const E=Buffer.from(x,"base64");if(await crypto.subtle.verify("HMAC",_,E,new TextEncoder().encode(y)))return}catch{continue}throw new gf("The given webhook signature does not match the expected signature")}}Hl=new WeakSet,BD=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Om=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var ow,_2,Pm,VD;class qe{constructor({baseURL:e=Ll("OPENAI_BASE_URL"),apiKey:n=Ll("OPENAI_API_KEY"),organization:r=Ll("OPENAI_ORG_ID")??null,project:s=Ll("OPENAI_PROJECT_ID")??null,webhookSecret:i=Ll("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(ow.add(this),Pm.set(this,void 0),this.completions=new bD(this),this.chat=new i2(this),this.embeddings=new wD(this),this.files=new SD(this),this.images=new kD(this),this.audio=new Id(this),this.moderations=new OD(this),this.models=new MD(this),this.fineTuning=new Ec(this),this.graders=new m2(this),this.vectorStores=new hy(this),this.webhooks=new $D(this),this.beta=new Ld(this),this.batches=new dD(this),this.uploads=new v2(this),this.responses=new b2(this),this.realtime=new g2(this),this.conversations=new c2(this),this.evals=new f2(this),this.containers=new l2(this),n===void 0)throw new Re("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&tH())throw new Re(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??_2.DEFAULT_TIMEOUT,this.logger=c.logger??console;const u="warn";this.logLevel=u,this.logLevel=QA(c.logLevel,"ClientOptions.logLevel",this)??QA(Ll("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??u,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??oH(),$e(this,Pm,lH),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Me([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return pH(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Fl}`}defaultIdempotencyKey(){return`stainless-node-retry-${dL()}`}makeStatusError(e,n,r,s){return ar.generate(e,n,r,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof Re?r:new Re(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new Re(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const s=!J(this,ow,"m",VD).call(this)&&r||this.baseURL,i=Xz(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Jz(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new LL(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:c,timeout:u}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:c,options:s});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,m=Date.now();if(mn(this).debug(`[${d}] sending request`,fa({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:a.headers})),s.signal?.aborted)throw new Jr;const g=new AbortController,y=await this.fetchWithTimeout(c,a,u,g).catch(W_),_=Date.now();if(y instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(s.signal?.aborted)throw new Jr;const T=G_(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return mn(this).info(`[${d}] connection ${T?"timed out":"failed"} - ${S}`),mn(this).debug(`[${d}] connection ${T?"timed out":"failed"} (${S})`,fa({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),this.retryRequest(s,n,r??d);throw mn(this).info(`[${d}] connection ${T?"timed out":"failed"} - error; no more retries left`),mn(this).debug(`[${d}] connection ${T?"timed out":"failed"} (error; no more retries left)`,fa({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),T?new Jx:new ly({cause:y})}const x=[...y.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,T])=>", "+S+": "+JSON.stringify(T)).join(""),E=`[${d}${h}${x}] ${a.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${_-m}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const j=`retrying, ${n} attempts remaining`;return await aH(y.body),mn(this).info(`${E} - ${j}`),mn(this).debug(`[${d}] response error (${j})`,fa({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),this.retryRequest(s,n,r??d,y.headers)}const T=S?"error; no more retries left":"error; not retryable";mn(this).info(`${E} - ${T}`);const k=await y.text().catch(j=>W_(j).message),L=eH(k),I=L?void 0:k;throw mn(this).debug(`[${d}] response error (${T})`,fa({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:I,durationMs:Date.now()-m})),this.makeStatusError(y.status,L,I,y.headers)}return mn(this).info(E),mn(this).debug(`[${d}] response start`,fa({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),{response:y,options:s,controller:g,requestLogID:d,retryOfRequestLogID:r,startTime:m}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new SH(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...c}=n||{};i&&i.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h={signal:s.signal,...d?{duplex:"half"}:{},method:"GET",...c};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s?.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const c=s?.get("retry-after");if(c&&!i){const u=parseFloat(c);Number.isNaN(u)?i=Date.parse(c)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Od(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),c=1-Math.random()*.25;return a*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:c}=r,u=this.buildURL(i,a,c);"timeout"in r&&Qz("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:r}),m=await this.buildHeaders({options:e,method:s,bodyHeaders:d,retryCount:n});return{req:{method:s,headers:m,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:u,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=Me([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...iH(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Me([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:CL(e)}:J(this,Pm,"f").call(this,{body:e,headers:r})}}_2=qe,Pm=new WeakMap,ow=new WeakSet,VD=function(){return this.baseURL!=="https://api.openai.com/v1"};qe.OpenAI=_2;qe.DEFAULT_TIMEOUT=6e5;qe.OpenAIError=Re;qe.APIError=ar;qe.APIConnectionError=ly;qe.APIConnectionTimeoutError=Jx;qe.APIUserAbortError=Jr;qe.NotFoundError=gL;qe.ConflictError=yL;qe.RateLimitError=vL;qe.BadRequestError=hL;qe.AuthenticationError=pL;qe.InternalServerError=_L;qe.PermissionDeniedError=mL;qe.UnprocessableEntityError=bL;qe.InvalidWebhookSignatureError=gf;qe.toFile=MH;qe.Completions=bD;qe.Chat=i2;qe.Embeddings=wD;qe.Files=SD;qe.Images=kD;qe.Audio=Id;qe.Moderations=OD;qe.Models=MD;qe.FineTuning=Ec;qe.Graders=m2;qe.VectorStores=hy;qe.Webhooks=$D;qe.Beta=Ld;qe.Batches=dD;qe.Uploads=v2;qe.Responses=b2;qe.Realtime=g2;qe.Conversations=c2;qe.Evals=f2;qe.Containers=l2;const rq=t=>t.map(e=>({type:"function",function:{name:e.name,description:e.description,input_schema:{type:"object",...e.inputSchema}}})),Cv=t=>{const e=[];return t.forEach(n=>{if(n.role==="user"||n.role==="system"){const r=typeof n.content=="string"?n.content:n.content.map(s=>s.type==="text"?{type:"text",text:s.text}:s.type==="file"?{type:"file",file:{file_data:s.data,file_name:JSON.parse(s.mimeType).path}}:{type:"text",text:""});e.push({role:"user",content:r})}else{const r=typeof n.content=="string"?n.content:[],s=[],i=[],a=n.content;typeof a!="string"&&typeof r!="string"&&a.forEach(u=>{if(Array.isArray(r)&&(u.type==="text"&&r.push({type:"text",text:u.text}),u.type==="tool-call")){u.result&&s.push({role:"tool",content:u.result,tool_call_id:u.toolCallId}),i.push({id:u.toolCallId,type:"function",function:{arguments:u.argsText??"",name:u.toolName}});return}});const c={role:"assistant",content:r};i.length&&(c.tool_calls=i),e.push(c),s.length&&e.push(...s)}}),e},sq=(t,e,n)=>{if(!e.delta.content)return t;let r=Ys(t);const s=r.content;if(typeof s=="string")return r;const i=s[s.length-1];if((!i||n)&&typeof t.content!="string"&&(r={...r,content:[...s,{type:"text",text:e.delta.content}]}),i&&typeof i!="string"&&typeof s!="string"&&i.type==="text"){const a=i.text+e.delta.content,c=Ys({...i,text:a});r={...r,content:[...s.slice(0,-1),c]}}return r},iq=(t,e)=>{let n=Ys(t);if(!e.delta.tool_calls||typeof n.content=="string")return n;const r=e.delta.tool_calls[0],s=n.content[n.content.length-1];if(!s||s?.type!=="tool-call"){const i={type:"tool-call",args:{},argsText:r?.function?.arguments??"",toolName:r?.function?.name??"",toolCallId:r?.id??""};n={...n,content:[...n.content,i]}}else{const i=s,a=i.argsText+(r?.function?.arguments??""),c=i.toolName||r?.function?.name||"",u=i.toolCallId||r?.id||"",d={...i,args:{},argsText:a,toolName:c,toolCallId:u};n={...n,content:[...n.content.slice(0,-1),d]}}return n};class oq{modelKey="";systemPrompt="";apiKey;url;provider;prevMessages=[];tools=[];client;stopStream=!1;constructor(){}setProvider=e=>{this.provider=e,this.client=new qe({apiKey:e.key,baseURL:e.baseUrl,dangerouslyAllowBrowser:!0}),e.key&&this.setApiKey(e.key),e.baseUrl&&this.setUrl(e.baseUrl)};setModelKey=e=>{this.modelKey=e};setSystemPrompt=e=>{this.systemPrompt=e};setApiKey=e=>{this.apiKey=e,this.client&&(this.client.apiKey=e)};setUrl=e=>{this.url=e,this.client&&(this.client.baseURL=e)};setPrevMessages=e=>{this.prevMessages=Cv(e)};setTools=e=>{this.tools=rq(e)};async*sendMessage(e,n,r){try{if(!this.client)return;const s=Cv(e),i={role:"system",content:this.systemPrompt},a=await this.client.chat.completions.create({messages:[i,...this.prevMessages,...s],model:this.modelKey,tools:this.tools,stream:!0,max_tokens:2048});this.prevMessages.push(...s);let c=n&&r?Ys(r):{role:"assistant",content:[]},u=!1;for await(const d of a){if(this.stopStream){a.controller.abort(),this.stopStream=!1;return}if(d.choices.forEach(m=>{if(this.stopStream){a.controller.abort(),this.stopStream=!1;return}if(!u){if(m.finish_reason){u=!0;const g=n?{...c,content:c.content.slice(r?.content.length??0)}:c,y=Cv([g]);this.prevMessages.push(...y);return}m.delta.content&&(c=sq(c,m,n)),m.delta.tool_calls&&typeof c.content!="string"&&(c=iq(c,m))}}),u){yield{isEnd:!0,responseMessage:c};continue}else yield c}}catch(s){console.log(s),yield{isEnd:!0,responseMessage:{role:"assistant",content:"",status:{type:"incomplete",reason:"error",error:s}}}}}async*sendMessageAfterToolCall(e){if(typeof e.content=="string")return e;const n=e.content.filter(s=>s.type==="tool-call").reverse()[0];if(!n)return e;const r={role:"tool",content:n.result,tool_call_id:n.toolCallId};return this.prevMessages.push(r),yield*this.sendMessage([],!0,e),e}stopMessage=()=>{this.stopStream=!0};getName=()=>"OpenAI";getBaseUrl=()=>"https://api.openai.com/v1";checkProvider=async e=>{const n=new qe({baseURL:e.url,apiKey:e.apiKey,dangerouslyAllowBrowser:!0});try{return await n.models.list(),!0}catch(r){if(console.log(r),r.code==="invalid_api_key")return{field:"key",message:"Invalid API Key"};if(e.apiKey)return{field:"url",message:"Invalid URL"}}return{field:"key",message:"Empty key"}};getProviderModels=async e=>(await new qe({baseURL:e.url,apiKey:e.apiKey,dangerouslyAllowBrowser:!0}).models.list()).data.map(s=>({id:s.id,name:s.id,provider:"openai"}))}const gR=new oq;function bt(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function be(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let UD=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return UD=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function aw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const lw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class ft extends Error{}class jn extends ft{constructor(e,n,r,s){super(`${jn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new py({message:r,cause:lw(n)});const i=n;return e===400?new zD(e,i,r,s):e===401?new HD(e,i,r,s):e===403?new qD(e,i,r,s):e===404?new GD(e,i,r,s):e===409?new WD(e,i,r,s):e===422?new KD(e,i,r,s):e===429?new YD(e,i,r,s):e>=500?new XD(e,i,r,s):new jn(e,i,r,s)}}class ka extends jn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class py extends jn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class FD extends py{constructor({message:e}={}){super({message:e??"Request timed out."})}}class zD extends jn{}class HD extends jn{}class qD extends jn{}class GD extends jn{}class WD extends jn{}class KD extends jn{}class YD extends jn{}class XD extends jn{}const aq=/^[a-z][a-z0-9+.-]*:/i,lq=t=>aq.test(t);let cw=t=>(cw=Array.isArray,cw(t)),yR=cw;function cq(t){if(!t)return!0;for(const e in t)return!1;return!0}function uq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const fq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ft(`${t} must be an integer`);if(e<0)throw new ft(`${t} must be a positive integer`);return e},dq=t=>{try{return JSON.parse(t)}catch{return}},hq=t=>new Promise(e=>setTimeout(e,t)),ql="0.22.0";function pq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mq=()=>{const t=pq();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ql,"X-Stainless-OS":vR(Deno.build.os),"X-Stainless-Arch":bR(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ql,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ql,"X-Stainless-OS":vR(globalThis.process.platform??"unknown"),"X-Stainless-Arch":bR(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=gq();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ql,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ql,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const bR=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",vR=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let _R;const yq=()=>_R??(_R=mq());function bq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Together({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function JD(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ZD(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return JD({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){await e.return?.()}})}function QD(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vq(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const _q=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),eN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ff(t,e,n){return eN(),new File(t,e??"unknown_file",n)}function Im(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const tN=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",nN=async(t,e)=>({...t,body:await xq(t.body,e)}),wR=new WeakMap;function wq(t){const e=typeof t=="function"?t:t.fetch,n=wR.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return wR.set(e,r),r}const xq=async(t,e)=>{if(!await wq(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>uw(n,r,s))),n},Sq=t=>t instanceof Blob&&"name"in t,uw=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Ff([await n.blob()],Im(n)));else if(tN(n))t.append(e,Ff([await new Response(ZD(n)).blob()],Im(n)));else if(Sq(n))t.append(e,n,Im(n));else if(Array.isArray(n))await Promise.all(n.map(r=>uw(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>uw(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},rN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Eq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&rN(t),Cq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Tq(t,e,n){if(eN(),t=await t,Eq(t))return t instanceof File?t:Ff([await t.arrayBuffer()],t.name);if(Cq(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ff(await fw(s),e,n)}const r=await fw(t);if(e||(e=Im(t)),!n?.type){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Ff(r,e,n)}async function fw(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(rN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(tN(t))for await(const n of t)e.push(...await fw(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${Aq(t)}`)}return e}function Aq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class wn{constructor(e){this._client=e}}class sN extends wn{create(e,n){return this._client.post("/audio/transcriptions",nN({body:e,...n},this._client))}}class iN extends wn{create(e,n){return this._client.post("/audio/translations",nN({body:e,...n},this._client))}}const oN=Symbol("brand.privateNullableHeaders");function*Rq(t){if(!t)return;if(oN in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():yR(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=yR(r[1])?r[1]:[r[1]];let a=!1;for(const c of i)c!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,c])}}const ac=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of Rq(r)){const c=i.toLowerCase();s.has(c)||(e.delete(i),s.add(c)),a===null?(e.delete(i),n.add(c)):(e.append(i,a),n.delete(c))}}return{[oN]:!0,values:e,nulls:n}};class my extends wn{constructor(){super(...arguments),this.transcriptions=new sN(this._client),this.translations=new iN(this._client)}create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:ac([{Accept:"application/octet-stream"},n?.headers]),stream:e.stream??!1,__binaryResponse:!0})}}my.Transcriptions=sN;my.Translations=iN;function aN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xR=Object.freeze(Object.create(null)),kq=(t=aN)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((h,m,g)=>{/[?#]/.test(m)&&(s=!0);const y=r[g];let _=(s?encodeURIComponent:t)(""+y);return g!==r.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??xR)??xR)?.toString)&&(_=y+"",i.push({start:h.length+m.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),h+m+(g===r.length?"":_)},""),c=a.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=u.exec(c))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((h,m)=>h.start-m.start),i.length>0){let h=0;const m=i.reduce((g,y)=>{const _=" ".repeat(y.start-h),x="^".repeat(y.length);return h=y.start+y.length,g+_+x},"");throw new ft(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${a}
${m}`)}return a},Zr=kq(aN);class lN extends wn{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Zr`/batches/${e}`,n)}list(e){return this._client.get("/batches",e)}}function SR(t){return typeof t.parse=="function"}const zf=t=>t?.role==="assistant",cN=t=>t?.role==="function",uN=t=>t?.role==="tool";var In,Lm,Dm,Tf,Af,Nm,Rf,xi,kf,jm,Bm,Gl,dw,hg,hw,pw,mw,gw,fN,yw;const ER=10;class Mq{constructor(){In.add(this),this.controller=new AbortController,Lm.set(this,void 0),Dm.set(this,()=>{}),Tf.set(this,()=>{}),Af.set(this,void 0),Nm.set(this,()=>{}),Rf.set(this,()=>{}),xi.set(this,{}),this._chatCompletions=[],this.messages=[],kf.set(this,!1),jm.set(this,!1),Bm.set(this,!1),Gl.set(this,!1),gw.set(this,e=>{if(bt(this,jm,!0),e instanceof Error&&e.name==="AbortError"&&(e=new ka),e instanceof ka)return bt(this,Bm,!0),this._emit("abort",e);if(e instanceof ft)return this._emit("error",e);if(e instanceof Error){const n=new n(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ft(String(e)))}),bt(this,Lm,new Promise((e,n)=>{bt(this,Dm,e,"f"),bt(this,Tf,n,"f")})),bt(this,Af,new Promise((e,n)=>{bt(this,Nm,e,"f"),bt(this,Rf,n,"f")})),be(this,Lm,"f").catch(()=>{}),be(this,Af,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},be(this,gw,"f"))},0)}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(cN(e)||uN(e))&&e.content)this._emit("functionCallResult",e.content);else if(zf(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(zf(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(be(this,Dm,"f").call(this),this._emit("connect"))}get ended(){return be(this,kf,"f")}get errored(){return be(this,jm,"f")}get aborted(){return be(this,Bm,"f")}abort(){this.controller.abort()}on(e,n){return(be(this,xi,"f")[e]||(be(this,xi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=be(this,xi,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(be(this,xi,"f")[e]||(be(this,xi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{bt(this,Gl,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){bt(this,Gl,!0),await be(this,Af,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ft("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),be(this,In,"m",dw).call(this)}async finalMessage(){return await this.done(),be(this,In,"m",hg).call(this)}async finalFunctionCall(){return await this.done(),be(this,In,"m",hw).call(this)}async finalFunctionCallResult(){return await this.done(),be(this,In,"m",pw).call(this)}async totalUsage(){return await this.done(),be(this,In,"m",mw).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(be(this,kf,"f"))return;e==="end"&&(bt(this,kf,!0),be(this,Nm,"f").call(this));const r=be(this,xi,"f")[e];if(r&&(be(this,xi,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!be(this,Gl,"f")&&!r?.length&&Promise.reject(s),be(this,Tf,"f").call(this,s),be(this,Rf,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!be(this,Gl,"f")&&!r?.length&&Promise.reject(s),be(this,Tf,"f").call(this,s),be(this,Rf,"f").call(this,s),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=be(this,In,"m",hg).call(this);n&&this._emit("finalMessage",n);const r=be(this,In,"m",dw).call(this);r&&this._emit("finalContent",r);const s=be(this,In,"m",hw).call(this);s&&this._emit("finalFunctionCall",s);const i=be(this,In,"m",pw).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",be(this,In,"m",mw).call(this))}async _createChatCompletion(e,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),be(this,In,"m",fN).call(this,n);const i=await e.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(i)}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){const s="function",{function_call:i="auto",stream:a,...c}=n,u=typeof i!="string"&&i?.name,{maxChatCompletions:d=ER}=r||{},h={};for(const g of n.functions)h[g.name||g.function.name]=g;const m=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<d;++g){const _=(await this._createChatCompletion(e,{...c,function_call:i,functions:m,messages:[...this.messages]},r)).choices[0]?.message;if(!_)throw new ft("missing message in ChatCompletion response");if(!_.function_call)return;const{name:x,arguments:E}=_.function_call,S=h[x];if(S){if(u&&u!==x){const I=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:s,name:x,content:I});continue}}else{const I=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${m.map(P=>JSON.stringify(P.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:I});continue}let T;try{T=SR(S)?await S.parse(E):E}catch(I){this._addMessage({role:s,name:x,content:I instanceof Error?I.message:String(I)});continue}const k=await S.function(T,this),L=be(this,In,"m",yw).call(this,k);if(this._addMessage({role:s,name:x,content:L}),u)return}}async _runTools(e,n,r){const s="tool",{tool_choice:i="auto",stream:a,...c}=n,u=typeof i!="string"&&i?.function?.name,{maxChatCompletions:d=ER}=r||{},h={};for(const g of n.tools)g.type==="function"&&(h[g.function.name||g.function.function.name]=g.function);const m="tools"in n?n.tools.map(g=>g.type==="function"?{type:"function",function:{name:g.function.name||g.function.function.name,parameters:g.function.parameters,description:g.function.description}}:g):void 0;for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<d;++g){const _=(await this._createChatCompletion(e,{...c,tool_choice:i,tools:m,messages:[...this.messages]},r)).choices[0]?.message;if(!_)throw new ft("missing message in ChatCompletion response");if(!_.tool_calls)return;for(const x of _.tool_calls){if(x.type!=="function")continue;const E=x.id,{name:S,arguments:T}=x.function,k=h[S];if(k){if(u&&u!==S){const j=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:s,tool_call_id:E,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${m.map($=>JSON.stringify($.function.name)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:E,content:j});continue}let L;try{L=SR(k)?await k.parse(T):T}catch(j){const $=j instanceof Error?j.message:String(j);this._addMessage({role:s,tool_call_id:E,content:$});continue}const I=await k.function(L,this),P=be(this,In,"m",yw).call(this,I);if(this._addMessage({role:s,tool_call_id:E,content:P}),u)return}}}}Lm=new WeakMap,Dm=new WeakMap,Tf=new WeakMap,Af=new WeakMap,Nm=new WeakMap,Rf=new WeakMap,xi=new WeakMap,kf=new WeakMap,jm=new WeakMap,Bm=new WeakMap,Gl=new WeakMap,gw=new WeakMap,In=new WeakSet,dw=function(){return be(this,In,"m",hg).call(this).content??null},hg=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(zf(n))return{...n,content:n.content??null}}throw new ft("stream ended without producing a ChatCompletionMessage with role=assistant")},hw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(zf(n)&&n?.function_call)return n.function_call;if(zf(n)&&n?.tool_calls?.length)return n.tool_calls.at(-1)?.function}},pw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(cN(n)&&n.content!=null||uN(n)&&n.content!=null&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(s=>s.type==="function"&&s.id===n.tool_call_id)))return n.content}},mw=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},fN=function(e){if(e.n!=null&&e.n>1)throw new ft("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},yw=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};function Oq(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let CR;function w2(t){let e;return(CR??(e=new globalThis.TextEncoder,CR=e.encode.bind(e)))(t)}let TR;function AR(t){let e;return(TR??(e=new globalThis.TextDecoder,TR=e.decode.bind(e)))(t)}var Cr,Tr;class gy{constructor(){Cr.set(this,void 0),Tr.set(this,void 0),bt(this,Cr,new Uint8Array),bt(this,Tr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?w2(e):e;bt(this,Cr,Oq([be(this,Cr,"f"),n]));const r=[];let s;for(;(s=Pq(be(this,Cr,"f"),be(this,Tr,"f")))!=null;){if(s.carriage&&be(this,Tr,"f")==null){bt(this,Tr,s.index);continue}if(be(this,Tr,"f")!=null&&(s.index!==be(this,Tr,"f")+1||s.carriage)){r.push(AR(be(this,Cr,"f").subarray(0,be(this,Tr,"f")-1))),bt(this,Cr,be(this,Cr,"f").subarray(be(this,Tr,"f"))),bt(this,Tr,null);continue}const i=be(this,Tr,"f")!==null?s.preceding-1:s.preceding,a=AR(be(this,Cr,"f").subarray(0,i));r.push(a),bt(this,Cr,be(this,Cr,"f").subarray(s.index)),bt(this,Tr,null)}return r}flush(){return be(this,Cr,"f").length?this.decode(`
`):[]}}Cr=new WeakMap,Tr=new WeakMap;gy.NEWLINE_CHARS=new Set([`
`,"\r"]);gy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Pq(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Iq(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const pg={off:0,error:200,warn:300,info:400,debug:500},RR=(t,e,n)=>{if(t){if(uq(pg,t))return t;Gn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(pg))}`)}};function Mf(){}function Xp(t,e,n){return!e||pg[t]>pg[n]?Mf:e[t].bind(e)}const Lq={error:Mf,warn:Mf,info:Mf,debug:Mf};let kR=new WeakMap;function Gn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return Lq;const r=kR.get(e);if(r&&r[0]===n)return r[1];const s={error:Xp("error",e,n),warn:Xp("warn",e,n),info:Xp("info",e,n),debug:Xp("debug",e,n)};return kR.set(e,[n,s]),s}const da=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var tf;class To{constructor(e,n,r){this.iterator=e,tf.set(this,void 0),this.controller=n,bt(this,tf,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?Gn(r):console;async function*a(){if(s)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of Dq(e,n))if(!c){if(u.data.startsWith("[DONE]")){c=!0;continue}if(u.event===null){let d;try{d=JSON.parse(u.data)}catch(h){throw i.error("Could not parse message into JSON:",u.data),i.error("From chunk:",u.raw),h}if(d&&d.error)throw new jn(void 0,d.error,void 0,e.headers);yield d}}c=!0}catch(u){if(aw(u))return;throw u}finally{c||n.abort()}}return new To(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const c=new gy,u=QD(e);for await(const d of u)for(const h of c.decode(d))yield h;for(const d of c.flush())yield d}async function*a(){if(s)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{for await(const u of i())c||u&&(yield JSON.parse(u));c=!0}catch(u){if(aw(u))return;throw u}finally{c||n.abort()}}return new To(a,n,r)}[(tf=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new To(()=>s(e),this.controller,be(this,tf,"f")),new To(()=>s(n),this.controller,be(this,tf,"f"))]}toReadableStream(){const e=this;let n;return JD({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=w2(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){await n.return?.()}})}}async function*Dq(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ft("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ft("Attempted to iterate over a response with no body");const n=new jq,r=new gy,s=QD(t.body);for await(const i of Nq(s))for(const a of r.decode(i)){const c=n.decode(a);c&&(yield c)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*Nq(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?w2(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=Iq(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class jq{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=Bq(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function Bq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}var Ds,vo,Tv,Av,Jp,MR;class mg extends Mq{constructor(){super(...arguments),Ds.add(this),vo.set(this,void 0)}get currentChatCompletionSnapshot(){return be(this,vo,"f")}static fromReadableStream(e){const n=new mg;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new mg;return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),be(this,Ds,"m",Tv).call(this);const i=await e.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)be(this,Ds,"m",Av).call(this,a);if(i.controller.signal?.aborted)throw new ka;return this._addChatCompletion(be(this,Ds,"m",Jp).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),be(this,Ds,"m",Tv).call(this),this._connected();const s=To.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(be(this,Ds,"m",Jp).call(this)),be(this,Ds,"m",Av).call(this,a),i=a.id;if(s.controller.signal?.aborted)throw new ka;return this._addChatCompletion(be(this,Ds,"m",Jp).call(this))}[(vo=new WeakMap,Ds=new WeakSet,Tv=function(){this.ended||bt(this,vo,void 0)},Av=function(n){if(this.ended)return;const r=be(this,Ds,"m",MR).call(this,n);this._emit("chunk",n,r);const s=n.choices[0]?.delta?.content,i=r.choices[0]?.message;s!=null&&i?.role==="assistant"&&i?.content&&this._emit("content",s,i.content)},Jp=function(){if(this.ended)throw new ft("stream has ended, this shouldn't happen");const n=be(this,vo,"f");if(!n)throw new ft("request ended without sending any chunks");return bt(this,vo,void 0),$q(n)},MR=function(n){var r,s,i,a,c;let u=be(this,vo,"f");const{choices:d,...h}=n;u?Object.assign(u,h):u=bt(this,vo,{...h,choices:[]});for(const{delta:m,finish_reason:g,index:y,logprobs:_=null,...x}of n.choices){let E=u.choices[y];if(E||(E=u.choices[y]={finish_reason:g,index:y,message:{},logprobs:{token_ids:[],token_logprobs:[],tokens:[]},...x}),_&&(console.log({logprobs:_}),E.logprobs||(E.logprobs={token_ids:[],token_logprobs:[],tokens:[]}),(r=E.logprobs).token_ids??(r.token_ids=[]),E.logprobs.token_ids.push(m.token_id??null),(s=E.logprobs).token_logprobs??(s.token_logprobs=[]),E.logprobs.token_logprobs.push(_??null),(i=E.logprobs).tokens??(i.tokens=[]),E.logprobs.tokens.push(m.content??null)),g&&(E.finish_reason=g),Object.assign(E,x),!m)continue;const{content:S,function_call:T,role:k,tool_calls:L,...I}=m;if(Object.assign(E.message,I),S&&(E.message.content=(E.message.content||"")+S),k&&(E.message.role=k),T&&(E.message.function_call?(T.name&&(E.message.function_call.name=T.name),T.arguments&&((a=E.message.function_call).arguments??(a.arguments=""),E.message.function_call.arguments+=T.arguments)):E.message.function_call=T),L){E.message.tool_calls||(E.message.tool_calls=[]);for(const{index:P,id:j,type:$,function:H,...B}of L){const Y=(c=E.message.tool_calls)[P]??(c[P]={});Object.assign(Y,B),j&&(Y.id=j),$&&(Y.type=$),H&&(Y.function??(Y.function={arguments:""})),H?.name&&(Y.function.name=H.name),H?.arguments&&(Y.function.arguments+=H.arguments)}}}return u},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new To(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function $q(t){const{id:e,choices:n,created:r,model:s,system_fingerprint:i,...a}=t;return{...a,id:e,choices:n.map(({message:c,finish_reason:u,index:d,logprobs:h,...m})=>{if(!u)throw new ft(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:y,tool_calls:_,...x}=c,E=c.role;if(!E)throw new ft(`missing role for choice ${d}`);if(y){const{arguments:S,name:T}=y;if(S==null)throw new ft(`missing function_call.arguments for choice ${d}`);if(!T)throw new ft(`missing function_call.name for choice ${d}`);return{...m,message:{content:g,function_call:{arguments:S,name:T},role:E},finish_reason:u,index:d,logprobs:h}}return _?{...m,index:d,finish_reason:u,logprobs:h,message:{...x,role:E,content:g,tool_calls:_.map((S,T)=>{const{function:k,type:L,id:I,...P}=S,{arguments:j,name:$,...H}=k||{};if(I==null)throw new ft(`missing choices[${d}].tool_calls[${T}].id
${Zp(t)}`);if(L==null)throw new ft(`missing choices[${d}].tool_calls[${T}].type
${Zp(t)}`);if($==null)throw new ft(`missing choices[${d}].tool_calls[${T}].function.name
${Zp(t)}`);if(j==null)throw new ft(`missing choices[${d}].tool_calls[${T}].function.arguments
${Zp(t)}`);return{...P,id:I,type:L,function:{...H,name:$,arguments:j}}})}}:{...m,message:{...x,content:g,role:E},finish_reason:u,index:d,logprobs:h}}),created:r,model:s,object:"chat.completion",...i?{system_fingerprint:i}:{}}}function Zp(t){return JSON.stringify(t)}let dN=class extends wn{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}stream(e,n){return mg.createChatCompletion(this._client.chat.completions,e,n)}};class x2 extends wn{constructor(){super(...arguments),this.completions=new dN(this._client)}}x2.Completions=dN;class hN extends wn{list(e){return this._client.get("/tci/sessions",e)}}class S2 extends wn{constructor(){super(...arguments),this.sessions=new hN(this._client)}execute(e,n){return this._client.post("/tci/execute",{body:e,...n})}}S2.Sessions=hN;class pN extends wn{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class mN extends wn{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class gN extends wn{create(e,n){return this._client.post("/endpoints",{body:e,...n})}retrieve(e,n){return this._client.get(Zr`/endpoints/${e}`,n)}update(e,n,r){return this._client.patch(Zr`/endpoints/${e}`,{body:n,...r})}list(e={},n){return this._client.get("/endpoints",{query:e,...n})}delete(e,n){return this._client.delete(Zr`/endpoints/${e}`,{...n,headers:ac([{Accept:"*/*"},n?.headers])})}}class yN extends wn{retrieve(e,n){return this._client.get(Zr`/files/${e}`,n)}list(e){return this._client.get("/files",e)}delete(e,n){return this._client.delete(Zr`/files/${e}`,n)}content(e,n){return this._client.get(Zr`/files/${e}/content`,{...n,headers:ac([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}upload(e){throw"please use together-ai/lib/upload"}}class bN extends wn{create(e,n){return this._client.post("/fine-tunes",{body:e,...n})}retrieve(e,n){return this._client.get(Zr`/fine-tunes/${e}`,n)}list(e){return this._client.get("/fine-tunes",e)}cancel(e,n){return this._client.post(Zr`/fine-tunes/${e}/cancel`,n)}download(e,n){return this._client.get("/finetune/download",{query:e,...n})}listEvents(e,n){return this._client.get(Zr`/fine-tunes/${e}/events`,n)}retrieveCheckpoints(e,n){return this._client.get(Zr`/fine-tunes/${e}/checkpoints`,n)}}class vN extends wn{list(e={},n){return this._client.get("/hardware",{query:e,...n})}}class _N extends wn{create(e,n){return this._client.post("/images/generations",{body:e,...n})}}class wN extends wn{retrieve(e,n){return this._client.get(Zr`/jobs/${e}`,n)}list(e){return this._client.get("/jobs",e)}}class xN extends wn{list(e){return this._client.get("/models",e)}upload(e,n){return this._client.post("/models",{body:e,...n})}}async function Vq(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{if(e.options.stream)return Gn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):To.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type")?.split(";")[0]?.trim();return u?.includes("application/json")||u?.endsWith("+json")?await n.json():await n.text()})();return Gn(t).debug(`[${r}] response parsed`,da({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}var Of;class E2 extends Promise{constructor(e,n,r=Vq){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,Of.set(this,void 0),bt(this,Of,e)}_thenUnwrap(e){return new E2(be(this,Of,"f"),this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(be(this,Of,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Of=new WeakMap;var Uq={};const Rv=t=>{if(typeof globalThis.process<"u")return Uq?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var bw,C2,$m,SN;class nt{constructor({baseURL:e=Rv("TOGETHER_BASE_URL"),apiKey:n=Rv("TOGETHER_API_KEY"),...r}={}){if(bw.add(this),$m.set(this,void 0),this.chat=new x2(this),this.completions=new pN(this),this.embeddings=new mN(this),this.files=new yN(this),this.fineTune=new bN(this),this.codeInterpreter=new S2(this),this.images=new _N(this),this.audio=new my(this),this.models=new xN(this),this.jobs=new wN(this),this.endpoints=new gN(this),this.hardware=new vN(this),this.batches=new lN(this),n===void 0)throw new ft("The TOGETHER_API_KEY environment variable is missing or empty; either provide it, or instantiate the Together client with an apiKey option, like new Together({ apiKey: 'My API Key' }).");const s={apiKey:n,...r,baseURL:e||"https://api.together.xyz/v1"};this.baseURL=s.baseURL,this.timeout=s.timeout??C2.DEFAULT_TIMEOUT,this.logger=s.logger??console;const i="warn";this.logLevel=i,this.logLevel=RR(s.logLevel,"ClientOptions.logLevel",this)??RR(Rv("TOGETHER_LOG"),"process.env['TOGETHER_LOG']",this)??i,this.fetchOptions=s.fetchOptions,this.maxRetries=s.maxRetries??5,this.fetch=s.fetch??bq(),bt(this,$m,_q),this._options=s,this.apiKey=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,...e})}rerank(e,n){return this.post("/rerank",{body:e,...n})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return ac([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ft(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ql}`}defaultIdempotencyKey(){return`stainless-node-retry-${UD()}`}makeStatusError(e,n,r,s){return jn.generate(e,n,r,s)}buildURL(e,n,r){const s=!be(this,bw,"m",SN).call(this)&&r||this.baseURL,i=lq(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return cq(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new E2(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:c,timeout:u}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:c,options:s});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,m=Date.now();if(Gn(this).debug(`[${d}] sending request`,da({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:a.headers})),s.signal?.aborted)throw new ka;const g=new AbortController,y=await this.fetchWithTimeout(c,a,u,g).catch(lw),_=Date.now();if(y instanceof Error){const E=`retrying, ${n} attempts remaining`;if(s.signal?.aborted)throw new ka;const S=aw(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Gn(this).info(`[${d}] connection ${S?"timed out":"failed"} - ${E}`),Gn(this).debug(`[${d}] connection ${S?"timed out":"failed"} (${E})`,da({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),this.retryRequest(s,n,r??d);throw Gn(this).info(`[${d}] connection ${S?"timed out":"failed"} - error; no more retries left`),Gn(this).debug(`[${d}] connection ${S?"timed out":"failed"} (error; no more retries left)`,da({retryOfRequestLogID:r,url:c,durationMs:_-m,message:y.message})),S?new FD:new py({cause:y})}const x=`[${d}${h}] ${a.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${_-m}ms`;if(!y.ok){const E=await this.shouldRetry(y);if(n&&E){const P=`retrying, ${n} attempts remaining`;return await vq(y.body),Gn(this).info(`${x} - ${P}`),Gn(this).debug(`[${d}] response error (${P})`,da({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),this.retryRequest(s,n,r??d,y.headers)}const S=E?"error; no more retries left":"error; not retryable";Gn(this).info(`${x} - ${S}`);const T=await y.text().catch(P=>lw(P).message),k=dq(T),L=k?void 0:T;throw Gn(this).debug(`[${d}] response error (${S})`,da({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:L,durationMs:Date.now()-m})),this.makeStatusError(y.status,k,L,y.headers)}return Gn(this).info(x),Gn(this).debug(`[${d}] response start`,da({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:_-m})),{response:y,options:s,controller:g,requestLogID:d,retryOfRequestLogID:r,startTime:m}}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...c}=n||{};i&&i.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h={signal:s.signal,...d?{duplex:"half"}:{},method:"GET",...c};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s?.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const c=s?.get("retry-after");if(c&&!i){const u=parseFloat(c);Number.isNaN(u)?i=Date.parse(c)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,u)}return await hq(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(1*Math.pow(2,i),10),c=1-Math.random()*.25;return a*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:c}=r,u=this.buildURL(i,a,c);"timeout"in r&&fq("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:r}),m=await this.buildHeaders({options:e,method:s,bodyHeaders:d,retryCount:n});return{req:{method:s,headers:m,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:u,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=ac([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...yq()},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=ac([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ZD(e)}:be(this,$m,"f").call(this,{body:e,headers:r})}}C2=nt,$m=new WeakMap,bw=new WeakSet,SN=function(){return this.baseURL!=="https://api.together.xyz/v1"};nt.Together=C2;nt.DEFAULT_TIMEOUT=6e4;nt.TogetherError=ft;nt.APIError=jn;nt.APIConnectionError=py;nt.APIConnectionTimeoutError=FD;nt.APIUserAbortError=ka;nt.NotFoundError=GD;nt.ConflictError=WD;nt.RateLimitError=YD;nt.BadRequestError=zD;nt.AuthenticationError=HD;nt.InternalServerError=XD;nt.PermissionDeniedError=qD;nt.UnprocessableEntityError=KD;nt.toFile=Tq;nt.Chat=x2;nt.Completions=pN;nt.Embeddings=mN;nt.Files=yN;nt.FineTuneResource=bN;nt.CodeInterpreter=S2;nt.Images=_N;nt.Audio=my;nt.Models=xN;nt.Jobs=wN;nt.Endpoints=gN;nt.Hardware=vN;nt.Batches=lN;const Fq=t=>t.map(e=>({type:"function",function:{name:e.name,description:e.description,parameters:{type:"object",...e.inputSchema}}})),kv=t=>{const e=[];return t.forEach(n=>{if(n.role==="user"||n.role==="system"){const r=typeof n.content=="string"?n.content:n.content.map(s=>s.type==="text"?s.text:s.type==="file"?`File: ${JSON.parse(s.mimeType).path.split("/").pop()}
File content:
${s.data}`:"").filter(s=>s!=="").join(`

`);e.push({role:"user",content:r})}else{let r=typeof n.content=="string"?n.content:"";const s=[],i=[];let a=0;const c=n.content;typeof c!="string"&&typeof r!="string"&&c.forEach(d=>{if(d.type==="text"&&(r+=d.text),d.type==="tool-call"){d.result&&s.push({role:"tool",content:d.result,tool_call_id:d.toolCallId}),i.push({id:d.toolCallId,index:a++,type:"function",function:{arguments:d.argsText??"",name:d.toolName}});return}});const u={role:"assistant",content:r};i.length&&(u.tool_calls=i),e.push(u),s.length&&e.push(...s)}}),e},zq=(t,e,n)=>{if(!e.delta.content)return t;let r=Ys(t);const s=r.content;if(typeof s=="string")return r;const i=s[s.length-1];if((!i||n)&&typeof t.content!="string"&&(r={...r,content:[...s,{type:"text",text:e.delta.content}]}),i&&typeof i!="string"&&typeof s!="string"&&i.type==="text"){const a=i.text+e.delta.content,c=Ys({...i,text:a});r={...r,content:[...s.slice(0,-1),c]}}return r},Hq=(t,e)=>{let n=Ys(t);if(!e.delta.tool_calls||typeof n.content=="string")return n;const r=e.delta.tool_calls[0],s=n.content[n.content.length-1];if(!s||s?.type!=="tool-call"){const i={type:"tool-call",args:{},argsText:r?.function?.arguments??"",toolName:r?.function?.name??"",toolCallId:r?.id??""};n={...n,content:[...n.content,i]}}else{const i=s,a=i.argsText+(r?.function?.arguments??""),c=i.toolName||r?.function?.name||"",u=i.toolCallId||r?.id||"",d={...i,args:{},argsText:a,toolName:c,toolCallId:u};n={...n,content:[...n.content.slice(0,-1),d]}}return n};class qq{modelKey="";systemPrompt="";apiKey;url;provider;prevMessages=[];tools=[];client;stopStream=!1;constructor(){}setProvider=e=>{this.provider=e,this.client=new nt({apiKey:e.key,baseURL:e.baseUrl}),e.key&&this.setApiKey(e.key),e.baseUrl&&this.setUrl(e.baseUrl)};setModelKey=e=>{this.modelKey=e};setSystemPrompt=e=>{this.systemPrompt=e};setApiKey=e=>{this.apiKey=e,this.client&&(this.client.apiKey=e)};setUrl=e=>{this.url=e,this.client&&(this.client.baseURL=e)};setPrevMessages=e=>{this.prevMessages=kv(e)};setTools=e=>{this.tools=Fq(e)};async*sendMessage(e,n,r){try{if(!this.client)return;const s=kv(e),i={role:"system",content:this.systemPrompt},a=await this.client.chat.completions.create({messages:[i,...this.prevMessages,...s],model:this.modelKey,tools:this.tools,stream:!0,max_tokens:2048});this.prevMessages.push(...s);let c=n&&r?Ys(r):{role:"assistant",content:[]},u=!1;for await(const d of a){if(this.stopStream){a.controller.abort(),this.stopStream=!1;return}if(d.choices.forEach(m=>{if(this.stopStream){a.controller.abort(),this.stopStream=!1;return}if(!u){if(m.finish_reason){u=!0;const g=n?{...c,content:c.content.slice(r?.content.length??0)}:c,y=kv([g]);this.prevMessages.push(...y);return}m.delta.content&&(c=zq(c,m,n)),m.delta.tool_calls&&typeof c.content!="string"&&(c=Hq(c,m))}}),u){yield{isEnd:!0,responseMessage:c};continue}else yield c}}catch(s){console.log(s),yield{isEnd:!0,responseMessage:{role:"assistant",content:"",status:{type:"incomplete",reason:"error",error:s}}}}}async*sendMessageAfterToolCall(e){if(typeof e.content=="string")return e;const n=e.content.filter(s=>s.type==="tool-call").reverse()[0];if(!n)return e;const r={role:"tool",content:n.result||"",tool_call_id:n.toolCallId};return this.prevMessages.push(r),yield*this.sendMessage([],!0,e),e}stopMessage=()=>{this.stopStream=!0};getName=()=>"TogetherAI";getBaseUrl=()=>"https://api.together.xyz/v1";checkProvider=async e=>{const n=new nt({baseURL:e.url,apiKey:e.apiKey});try{return await n.models.list(),!0}catch(r){if(console.log(r),r.status===401)return{field:"key",message:"Invalid API Key"};if(e.apiKey)return{field:"url",message:"Invalid URL"}}return{field:"key",message:"Empty key"}};getProviderModels=async e=>(await new nt({baseURL:e.url,apiKey:e.apiKey}).models.list()).filter(s=>s.type==="chat").map(s=>({id:s.id,name:s.display_name??s.id,provider:"openai"}))}const OR=new qq,Gq=`You are an AI assistant with access to a set of MCP tools.
Your default behavior is to act as a helpful, conversational LLM assistant: answer questions, explain concepts, brainstorm, or chat naturally.
Only call a tool when the users request clearly indicates the need for it (e.g., "search", "open URL", "analyze file", "plot data", etc.).
If the users intent is ambiguous, respond conversationally instead of calling a tool.
Do not push the user toward tools unnecessarily.
When you do use a tool, explain in natural language what youre doing if appropriate.
Otherwise, behave as if you are a standalone LLM chat without tools`;let Wq=class{currentProvider;currentProviderInfo;currentProviderType;anthropicProvider;ollamaProvider;openaiProvider;togetherProvider;constructor(){this.anthropicProvider=BA,this.ollamaProvider=FA,this.openaiProvider=gR,this.togetherProvider=OR}setCurrentProvider=e=>{if(!e){this.currentProvider=void 0,this.currentProviderInfo=void 0,this.currentProviderType=void 0;return}switch(this.currentProviderInfo=e,e.type){case"anthropic":this.currentProvider=BA,this.currentProviderType="anthropic";break;case"ollama":this.currentProvider=FA,this.currentProviderType="ollama";break;case"openai":this.currentProvider=gR,this.currentProviderType="openai";break;case"together":this.currentProvider=OR,this.currentProviderType="together";break;default:this.currentProvider=void 0,this.currentProviderType=void 0}this.currentProvider&&(this.currentProvider.setProvider(e),this.currentProvider.setSystemPrompt(Gq))};setCurrentProviderModel=e=>{this.currentProvider&&this.currentProvider.setModelKey(e)};setCurrentProviderTools=e=>{this.currentProvider&&this.currentProvider.setTools(e)};setCurrentProviderPrevMessages=e=>{this.currentProvider&&this.currentProvider.setPrevMessages(e)};getCurrentProviderModel=()=>{if(this.currentProvider)return this.currentProvider.modelKey};sendMessage=e=>{if(this.currentProvider)return this.currentProvider.sendMessage(e)};sendMessageAfterToolCall=e=>{if(this.currentProvider)return this.currentProvider.sendMessageAfterToolCall(e)};stopMessage=()=>{this.currentProvider&&this.currentProvider.stopMessage()};getProvidersInfo=()=>{const e={type:"anthropic",name:this.anthropicProvider.getName(),baseUrl:this.anthropicProvider.getBaseUrl()},n={type:"ollama",name:this.ollamaProvider.getName(),baseUrl:this.ollamaProvider.getBaseUrl()},r={type:"openai",name:this.openaiProvider.getName(),baseUrl:this.openaiProvider.getBaseUrl()},s={type:"together",name:this.togetherProvider.getName(),baseUrl:this.togetherProvider.getBaseUrl()};return[e,n,r,s]};getProviderInfo=e=>e==="anthropic"?{type:e,name:this.anthropicProvider.getName(),baseUrl:this.anthropicProvider.getBaseUrl()}:e==="ollama"?{type:e,name:this.ollamaProvider.getName(),baseUrl:this.ollamaProvider.getBaseUrl()}:e==="openai"?{type:e,name:this.openaiProvider.getName(),baseUrl:this.openaiProvider.getBaseUrl()}:e==="together"?{type:e,name:this.togetherProvider.getName(),baseUrl:this.togetherProvider.getBaseUrl()}:{name:"",baseUrl:""};checkNewProvider=(e,n)=>e==="anthropic"?this.anthropicProvider.checkProvider(n):e==="ollama"?this.ollamaProvider.checkProvider(n):e==="openai"?this.openaiProvider.checkProvider(n):e==="together"?this.togetherProvider.checkProvider(n):!1;getProvidersModels=async e=>{const n=new Map,r=e.map(a=>a.type==="anthropic"?this.anthropicProvider.getProviderModels({url:a.baseUrl,apiKey:a.key}):a.type==="ollama"?this.ollamaProvider.getProviderModels({url:a.baseUrl,apiKey:a.key}):a.type==="openai"?this.openaiProvider.getProviderModels({url:a.baseUrl,apiKey:a.key}):a.type==="together"?this.togetherProvider.getProviderModels({url:a.baseUrl,apiKey:a.key}):null).filter(a=>a!==null),s=await Promise.allSettled(r);let i=0;return e.forEach(a=>{if(a.type==="anthropic"||a.type==="ollama"||a.type==="openai"||a.type==="together"){const c=s[i];c.status==="fulfilled"&&c.value&&c.value.length>0&&n.set(a.name,c.value),i++}}),n}};const wt=new Wq;class Kq{dbName="ChatHistory";version=1;db=null;async init(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=s=>{const i=s.target.result;if(i.objectStoreNames.contains("threads")||i.createObjectStore("threads",{keyPath:"threadId"}).createIndex("updatedAt","updatedAt",{unique:!1}),!i.objectStoreNames.contains("messages")){const a=i.createObjectStore("messages",{keyPath:"id"});a.createIndex("threadId","threadId",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}}})}getDB(){if(!this.db)throw new Error("Database not initialized");return this.db}async close(){this.db&&(this.db.close(),this.db=null)}}const Qs=new Kq,Yq=()=>Qs.init(),PR=async(t,e,n)=>{const r=Qs.getDB(),s={id:e,threadId:t,message:n,timestamp:Date.now()};return new Promise((i,a)=>{const d=r.transaction(["messages"],"readwrite").objectStore("messages").put(s);d.onerror=()=>a(d.error),d.onsuccess=()=>i()})},EN=async(t,e)=>{const n=Qs.getDB();return new Promise((r,s)=>{const u=n.transaction(["messages"],"readonly").objectStore("messages").index("threadId").getAll(IDBKeyRange.only(t));u.onerror=()=>s(u.error),u.onsuccess=()=>{let d=u.result.sort((h,m)=>h.timestamp-m.timestamp).map(h=>h.message);r(d)}})},Xq=async(t,e)=>{const n=Qs.getDB();return new Promise((r,s)=>{const a=n.transaction(["messages"],"readwrite").objectStore("messages"),c=a.get(t);c.onerror=()=>s(c.error),c.onsuccess=()=>{const u=c.result;if(!u){s(new Error("Message not found"));return}const d={...u,message:e,timestamp:Date.now()},h=a.put(d);h.onerror=()=>s(h.error),h.onsuccess=()=>r()}})},Cc=Mi((t,e)=>({messages:[],isStreamRunning:!1,isRequestRunning:!1,attachmentFiles:[],fetchPrevMessages:async n=>{const r=await EN(n);t({messages:r}),wt.setCurrentProviderPrevMessages(r)},setIsStreamRunning:n=>{t({isStreamRunning:n})},setIsRequestRunning:n=>{t({isRequestRunning:n})},addMessage:n=>{const r=e();if(r.messages.length&&r.messages[r.messages.length-1].status?.type==="incomplete"){t({messages:[...r.messages.slice(0,-1),{...n}]});return}t({messages:[...r.messages,n]})},updateLastMessage:n=>{const r=e();t({messages:[...r.messages.slice(0,-1),n]})},addAttachmentFile:n=>{t({attachmentFiles:[...e().attachmentFiles,n]})},clearAttachmentFiles:()=>{t({attachmentFiles:[]})},stopMessage:()=>{e().setIsStreamRunning(!1),wt.stopMessage()}})),T2=Mi(t=>({currentPage:"chat",setCurrentPage:e=>t({currentPage:e}),goToChat:()=>t({currentPage:"chat"}),goToSettings:()=>t({currentPage:"settings"})})),Qp="providers",nf="current-provider",Mv="current-model",xs=Mi()((t,e)=>({providers:(()=>{const n=localStorage.getItem(Qp);return n?JSON.parse(n):[]})(),currentProvider:(()=>{const n=localStorage.getItem(nf);if(!n)return null;const r=JSON.parse(n);wt.setCurrentProvider(r);const s=wt.checkNewProvider(r.type,{url:r.baseUrl,apiKey:r.key});if(s instanceof Promise)s.then(i=>{(typeof i!="boolean"||!i)&&localStorage.removeItem(nf)}).catch(i=>{console.error("Provider validation error:",i),localStorage.removeItem(nf)});else if(!s)return localStorage.removeItem(nf),null;return r})(),providersModels:new Map,fetchProvidersModels:async()=>{const n=e().providers,r=await wt.getProvidersModels(n);t({providersModels:r})},setCurrentProvider:n=>{t({currentProvider:n}),wt.setCurrentProvider(n),localStorage.setItem(nf,JSON.stringify(n))},addProvider:async n=>{if(e().providers.some(a=>a.name.toLowerCase()===n.name.toLowerCase()))return{field:"name",message:"Duplicate name"};const i=await wt.checkNewProvider(n.type,{url:n.baseUrl,apiKey:n.key});return typeof i=="boolean"&&i?(t(a=>{const c=[...a.providers,n];return localStorage.setItem(Qp,JSON.stringify(c)),{providers:c}}),!0):i},editProvider:async(n,r)=>{if(e().providers.some(c=>c.name.toLowerCase()===n.name.toLowerCase()&&c.baseUrl!==n.baseUrl&&c.key!==n.key&&c.type!==n.type))return{field:"name",message:"Duplicate name"};const a=await wt.checkNewProvider(n.type,{url:n.baseUrl,apiKey:n.key});return typeof a=="boolean"&&a?(t(c=>{const u=c.providers.map(d=>d.name===r?n:d);return localStorage.setItem(Qp,JSON.stringify(u)),{providers:u}}),!0):a},deleteProvider:async n=>{t(r=>{const s=r.providers.filter(i=>i.name!==n.name);return r.currentProvider?.name===n.name&&(r.currentProvider=null,wt.setCurrentProvider()),localStorage.setItem(Qp,JSON.stringify(s)),{providers:s}})}})),IR="allowAlwaysDesktopTools";class Jq{tools;allowAlways=!1;constructor(){this.tools=[],this.initTools(),this.allowAlways=localStorage.getItem(IR)==="true"}setAllowAlways=e=>{this.allowAlways=e,localStorage.setItem(IR,e.toString())};getAllowAlways=()=>this.allowAlways;setTools=e=>{this.tools=e};getTools=()=>[...this.tools];callTools=async(e,n)=>{const r={...n};return await window.AscDesktopEditor?.callToolFunction(e,JSON.stringify(r))};initTools=()=>{try{const e=window.AscDesktopEditor?.getToolFunctions()??"",n=JSON.parse(e).map(r=>({name:r.name,description:r.description,inputSchema:r.parameters}));this.setTools(n)}catch(e){console.error("Error parsing tools:",e)}}}class Zq{desktopEditorTool;customServers;startedCustomServers;customServersProcesses;customServersLogs;constructor(){this.desktopEditorTool=new Jq,this.customServers={},this.startedCustomServers={},this.customServersProcesses={},this.customServersLogs={}}init=()=>{this.desktopEditorTool.initTools()};checkAllowAlways=()=>this.desktopEditorTool.getAllowAlways();setAllowAlways=e=>{this.desktopEditorTool.setAllowAlways(e)};getTools=async()=>{const[e]=await Promise.all([this.desktopEditorTool.getTools()]);return{"desktop-editor":e}};callTools=async(e,n,r)=>e==="desktop-editor"?this.desktopEditorTool.callTools(n,r):this.desktopEditorTool.callTools(n,r);setCustomServers=e=>{this.customServers=e.mcpServers};startCustomServers=()=>{const e=[];Object.entries(this.customServers).forEach(([n,r])=>{e.push(n);let s="";const i={};let a="";Object.entries(r).map(([d,h])=>{d=="env"&&Object.entries(h).forEach(([m,g])=>{i[m]=g}),d==="command"&&(s=h),d=="args"&&(a=h.join(" "))});const c=s+" "+a;if(this.startedCustomServers[n]&&this.startedCustomServers[n]===c)return;this.customServersProcesses[n]&&console.log("stop server"),this.customServersLogs[n]=[`${new Date().toLocaleString()}: ${c}
`];const u=new window.ExternalProcess(c,i);u.onprocess=(d,h)=>{switch(d){case 0:{this.customServersLogs[n].push(`${new Date().toLocaleString()}: ${h}
`);break}case 1:{this.customServersLogs[n].push(`${new Date().toLocaleString()}: ${h}
`);break}case 2:{this.customServersLogs[n].push(`${new Date().toLocaleString()}: [stop] ${h}
`);break}}},this.customServersProcesses[n]=u,u.start()}),Object.keys(this.customServersProcesses).forEach(n=>{e.includes(n)||(this.customServersProcesses[n]&&(console.log("stop"),delete this.customServersProcesses[n]),this.customServersLogs[n]&&delete this.customServersLogs[n],this.startedCustomServers[n]&&delete this.startedCustomServers[n],this.customServers[n]&&delete this.customServers[n])})}}const vi=new Zq,Ov="disabledTools",Pv="mcpServers",Tc=Mi((t,e)=>({servers:{},tools:[],disabledTools:{},manageToolData:void 0,initServers:async()=>{const n=localStorage.getItem(Pv);if(n){const c=JSON.parse(n);vi.setCustomServers(c),vi.startCustomServers()}const r=await vi.getTools(),s=localStorage.getItem(Ov),i=[],a={};if(s){const c=JSON.parse(s);Object.entries(r).map(([u,d])=>{a[u]=d.map(h=>{c[u]||(c[u]=[]);const m=!c[u].includes(h.name);return m&&i.push({...h,name:`${u}_${h.name}`}),{...h,enabled:m}})}),t({disabledTools:c})}else{const c={};Object.entries(r).map(([u,d])=>{const h=d.map(m=>({...m,enabled:!0}));c[u]=[],a[u]=h,i.push(...h.map(m=>({...m,name:`${u}_${m.name}`})))}),t({disabledTools:c})}t({tools:i,servers:a})},changeToolStatus:(n,r,s)=>{const i=e(),a=i.servers,c=a[n].find(u=>u.name===r);if(c){if(s){const u={...i.disabledTools,[n]:i.disabledTools[n].filter(d=>d!==r)};t({tools:[...i.tools,{...c,name:`${n}_${c.name}`}],disabledTools:u}),localStorage.setItem(Ov,JSON.stringify(u))}else{const u=[...i.disabledTools[n],r],d={...i.disabledTools,[n]:u},h=i.tools.filter(m=>m.name!==`${n}_${r}`);t({tools:h,disabledTools:d}),localStorage.setItem(Ov,JSON.stringify(d))}t({servers:{...a,[n]:a[n].map(u=>u.name===r?{...u,enabled:s}:u)}})}},checkAllowAlways:()=>vi.checkAllowAlways(),setAllowAlways:()=>{vi.setAllowAlways(!0)},callTools:(n,r)=>{const s=e(),i=n.split("_")[0],a=n.replace(i+"_","");if(!s.disabledTools[i].find(u=>u===a))return vi.callTools(i,a,r)},setManageToolData:n=>{t({manageToolData:n})},getConfig:()=>JSON.parse(localStorage.getItem(Pv)||"{}"),saveConfig:n=>{localStorage.setItem(Pv,JSON.stringify(n)),vi.setCustomServers(n),vi.startCustomServers()},getCustomServersLogs:()=>vi.customServersLogs})),Qq=(t,e,n,r)=>{const s=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Sa(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...s):console?.warn&&console.warn(...s)},LR={},vw=(t,e,n,r)=>{Sa(n)&&LR[n]||(Sa(n)&&(LR[n]=new Date),Qq(t,e,n,r))},CN=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},_w=(t,e,n)=>{t.loadNamespaces(e,CN(t,n))},DR=(t,e,n,r)=>{if(Sa(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return _w(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,CN(t,r))},eG=(t,e,n={})=>!e.languages||!e.languages.length?(vw(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),Sa=t=>typeof t=="string",tG=t=>typeof t=="object"&&t!==null,nG=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rG={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},sG=t=>rG[t],iG=t=>t.replace(nG,sG);let ww={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:iG};const oG=(t={})=>{ww={...ww,...t}},aG=()=>ww;let TN;const lG=t=>{TN=t},cG=()=>TN,uG={type:"3rdParty",init(t){oG(t.options.react),lG(t)}},fG=C.createContext();class dG{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const hG=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},AN=(t,e,n,r)=>t.getFixedT(e,n,r),pG=(t,e,n,r)=>C.useCallback(AN(t,e,n,r),[t,e,n,r]),Nt=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:s}=C.useContext(fG)||{},i=n||r||cG();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new dG),!i){vw(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const L=(P,j)=>Sa(j)?j:tG(j)&&Sa(j.defaultValue)?j.defaultValue:Array.isArray(P)?P[P.length-1]:P,I=[L,{},!1];return I.t=L,I.i18n={},I.ready=!1,I}i.options.react?.wait&&vw(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...aG(),...i.options.react,...e},{useSuspense:c,keyPrefix:u}=a;let d=s||i.options?.defaultNS;d=Sa(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const h=(i.isInitialized||i.initializedStoreOnce)&&d.every(L=>eG(L,i,a)),m=pG(i,e.lng||null,a.nsMode==="fallback"?d:d[0],u),g=()=>m,y=()=>AN(i,e.lng||null,a.nsMode==="fallback"?d:d[0],u),[_,x]=C.useState(g);let E=d.join();e.lng&&(E=`${e.lng}${E}`);const S=hG(E),T=C.useRef(!0);C.useEffect(()=>{const{bindI18n:L,bindI18nStore:I}=a;T.current=!0,!h&&!c&&(e.lng?DR(i,e.lng,d,()=>{T.current&&x(y)}):_w(i,d,()=>{T.current&&x(y)})),h&&S&&S!==E&&T.current&&x(y);const P=()=>{T.current&&x(y)};return L&&i?.on(L,P),I&&i?.store.on(I,P),()=>{T.current=!1,i&&L&&L?.split(" ").forEach(j=>i.off(j,P)),I&&i&&I.split(" ").forEach(j=>i.store.off(j,P))}},[i,E]),C.useEffect(()=>{T.current&&h&&x(g)},[i,u,h]);const k=[_,i,h];if(k.t=_,k.i18n=i,k.ready=h,h||!h&&!c)return k;throw new Promise(L=>{e.lng?DR(i,e.lng,d,()=>L()):_w(i,d,()=>L())})};function RN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=RN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gg(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=RN(t))&&(r&&(r+=" "),r+=e);return r}const NR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jR=gg,mG=(t,e)=>n=>{var r;if(e?.variants==null)return jR(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const h=n?.[d],m=i?.[d];if(h===null)return null;const g=NR(h)||NR(m);return s[d][g]}),c=n&&Object.entries(n).reduce((d,h)=>{let[m,g]=h;return g===void 0||(d[m]=g),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:g,...y}=h;return Object.entries(y).every(_=>{let[x,E]=_;return Array.isArray(E)?E.includes({...i,...c}[x]):{...i,...c}[x]===E})?[...d,m,g]:d},[]);return jR(t,a,u,n?.class,n?.className)},A2="-",gG=t=>{const e=bG(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(A2);return c[0]===""&&c.length!==1&&c.shift(),kN(c,e)||yG(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},kN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(A2);return e.validators.find(({validator:a})=>a(i))?.classGroupId},BR=/^\[(.+)\]$/,yG=t=>{if(BR.test(t)){const e=BR.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},bG=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)xw(n[s],r,s,e);return r},xw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$R(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(vG(s)){xw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{xw(a,$R(e,i),n,r)})})},$R=(t,e)=>{let n=t;return e.split(A2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vG=t=>t.isThemeGetter,_G=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Sw="!",Ew=":",wG=Ew.length,xG=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,c=0,u=0,d;for(let _=0;_<s.length;_++){let x=s[_];if(a===0&&c===0){if(x===Ew){i.push(s.slice(u,_)),u=_+wG;continue}if(x==="/"){d=_;continue}}x==="["?a++:x==="]"?a--:x==="("?c++:x===")"&&c--}const h=i.length===0?s:s.substring(u),m=SG(h),g=m!==h,y=d&&d>u?d-u:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const s=e+Ew,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},SG=t=>t.endsWith(Sw)?t.substring(0,t.length-1):t.startsWith(Sw)?t.substring(1):t,EG=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},CG=t=>({cache:_G(t.cacheSize),parseClassName:xG(t),sortModifiers:EG(t),...gG(t)}),TG=/\s+/,AG=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],c=t.trim().split(TG);let u="";for(let d=c.length-1;d>=0;d-=1){const h=c[d],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:x}=n(h);if(m){u=h+(u.length>0?" "+u:u);continue}let E=!!x,S=r(E?_.substring(0,x):_);if(!S){if(!E){u=h+(u.length>0?" "+u:u);continue}if(S=r(_),!S){u=h+(u.length>0?" "+u:u);continue}E=!1}const T=i(g).join(":"),k=y?T+Sw:T,L=k+S;if(a.includes(L))continue;a.push(L);const I=s(S,E);for(let P=0;P<I.length;++P){const j=I[P];a.push(k+j)}u=h+(u.length>0?" "+u:u)}return u};function RG(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MN(e))&&(r&&(r+=" "),r+=n);return r}const MN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MN(t[r]))&&(n&&(n+=" "),n+=e);return n};function kG(t,...e){let n,r,s,i=a;function a(u){const d=e.reduce((h,m)=>m(h),t());return n=CG(d),r=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const d=r(u);if(d)return d;const h=AG(u,n);return s(u,h),h}return function(){return i(RG.apply(null,arguments))}}const Xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ON=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,MG=/^\d+\/\d+$/,OG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nl=t=>MG.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),_o=t=>!!t&&Number.isInteger(Number(t)),Iv=t=>t.endsWith("%")&&We(t.slice(0,-1)),_i=t=>OG.test(t),NG=()=>!0,jG=t=>PG.test(t)&&!IG.test(t),IN=()=>!1,BG=t=>LG.test(t),$G=t=>DG.test(t),VG=t=>!we(t)&&!xe(t),UG=t=>Ac(t,NN,IN),we=t=>ON.test(t),aa=t=>Ac(t,jN,jG),Lv=t=>Ac(t,GG,We),VR=t=>Ac(t,LN,IN),FG=t=>Ac(t,DN,$G),em=t=>Ac(t,BN,BG),xe=t=>PN.test(t),rf=t=>Rc(t,jN),zG=t=>Rc(t,WG),UR=t=>Rc(t,LN),HG=t=>Rc(t,NN),qG=t=>Rc(t,DN),tm=t=>Rc(t,BN,!0),Ac=(t,e,n)=>{const r=ON.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Rc=(t,e,n=!1)=>{const r=PN.exec(t);return r?r[1]?e(r[1]):n:!1},LN=t=>t==="position"||t==="percentage",DN=t=>t==="image"||t==="url",NN=t=>t==="length"||t==="size"||t==="bg-size",jN=t=>t==="length",GG=t=>t==="number",WG=t=>t==="family-name",BN=t=>t==="shadow",KG=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),s=Xt("tracking"),i=Xt("leading"),a=Xt("breakpoint"),c=Xt("container"),u=Xt("spacing"),d=Xt("radius"),h=Xt("shadow"),m=Xt("inset-shadow"),g=Xt("text-shadow"),y=Xt("drop-shadow"),_=Xt("blur"),x=Xt("perspective"),E=Xt("aspect"),S=Xt("ease"),T=Xt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...L(),xe,we],P=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],$=()=>[xe,we,u],H=()=>[Nl,"full","auto",...$()],B=()=>[_o,"none","subgrid",xe,we],Y=()=>["auto",{span:["full",_o,xe,we]},_o,xe,we],ne=()=>[_o,"auto",xe,we],re=()=>["auto","min","max","fr",xe,we],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...$()],X=()=>[Nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],z=()=>[t,xe,we],le=()=>[...L(),UR,VR,{position:[xe,we]}],A=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",HG,UG,{size:[xe,we]}],fe=()=>[Iv,rf,aa],O=()=>["","none","full",d,xe,we],me=()=>["",We,rf,aa],Ce=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[We,Iv,UR,VR],Ne=()=>["","none",_,xe,we],mt=()=>["none",We,xe,we],Rt=()=>["none",We,xe,we],kt=()=>[We,xe,we],xn=()=>[Nl,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_i],breakpoint:[_i],color:[NG],container:[_i],"drop-shadow":[_i],ease:["in","out","in-out"],font:[VG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_i],shadow:[_i],spacing:["px",We],text:[_i],"text-shadow":[_i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nl,we,xe,E]}],container:["container"],columns:[{columns:[We,we,xe,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[_o,"auto",xe,we]}],basis:[{basis:[Nl,"full","auto",c,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Nl,"auto","initial","none",we]}],grow:[{grow:["",We,xe,we]}],shrink:[{shrink:["",We,xe,we]}],order:[{order:[_o,"first","last","none",xe,we]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[c,"screen",...X()]}],"min-w":[{"min-w":[c,"screen","none",...X()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,rf,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,Lv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Iv,we]}],"font-family":[{font:[zG,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,we]}],"line-clamp":[{"line-clamp":[We,"none",xe,Lv]}],leading:[{leading:[i,...$()]}],"list-image":[{"list-image":["none",xe,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",xe,aa]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[We,"auto",xe,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:A()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_o,xe,we],radial:["",xe,we],conic:[_o,xe,we]},qG,FG]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,xe,we]}],"outline-w":[{outline:["",We,rf,aa]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",h,tm,em]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,tm,em]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[We,aa]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,tm,em]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[We,xe,we]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[xe,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:A()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,we]}],filter:[{filter:["","none",xe,we]}],blur:[{blur:Ne()}],brightness:[{brightness:[We,xe,we]}],contrast:[{contrast:[We,xe,we]}],"drop-shadow":[{"drop-shadow":["","none",y,tm,em]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",We,xe,we]}],"hue-rotate":[{"hue-rotate":[We,xe,we]}],invert:[{invert:["",We,xe,we]}],saturate:[{saturate:[We,xe,we]}],sepia:[{sepia:["",We,xe,we]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,we]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[We,xe,we]}],"backdrop-contrast":[{"backdrop-contrast":[We,xe,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,xe,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,xe,we]}],"backdrop-invert":[{"backdrop-invert":["",We,xe,we]}],"backdrop-opacity":[{"backdrop-opacity":[We,xe,we]}],"backdrop-saturate":[{"backdrop-saturate":[We,xe,we]}],"backdrop-sepia":[{"backdrop-sepia":["",We,xe,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",xe,we]}],ease:[{ease:["linear","initial",S,xe,we]}],delay:[{delay:[We,xe,we]}],animate:[{animate:["none",T,xe,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,xe,we]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:mt()}],"rotate-x":[{"rotate-x":mt()}],"rotate-y":[{"rotate-y":mt()}],"rotate-z":[{"rotate-z":mt()}],scale:[{scale:Rt()}],"scale-x":[{"scale-x":Rt()}],"scale-y":[{"scale-y":Rt()}],"scale-z":[{"scale-z":Rt()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[xe,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xn()}],"translate-x":[{"translate-x":xn()}],"translate-y":[{"translate-y":xn()}],"translate-z":[{"translate-z":xn()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,we]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[We,rf,aa,Lv]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},YG=kG(KG),Fe=(...t)=>YG(gg(t)),$N=t=>{let e="";return t.forEach((n,r)=>{const s=n.role==="user"?"**User**":"**Assistant**";e+=`## ${s}

`,Array.isArray(n.content)?n.content.forEach(i=>{if(typeof i=="string"){e+=`${i}

`;return}!i||typeof i!="object"||!("type"in i)||(i.type==="text"&&"text"in i?e+=`${i.text}

`:i.type==="tool-call"&&"toolName"in i&&(e+=`*Tool Call: ${i.toolName}*
`,"args"in i&&i.args&&(e+=`\`\`\`json
${JSON.stringify(i.args,null,2)}
\`\`\`

`),"result"in i&&i.result!==void 0&&(e+=`*Tool Result:*
`,e+=`\`\`\`json
${i.result}
\`\`\`

`)))}):typeof n.content=="string"&&(e+=`${n.content}

`),r<t.length-1&&(e+=`---

`)}),e},XG=mG("inline-flex items-center justify-center min-w-[48px] rounded-[4px] outline-none focus:outline-none focus-visible:outline-none",{variants:{variant:{default:"bg-[var(--button-default-background-color)] border border-[var(--button-default-border-color)] text-[var(--button-default-color)] hover:enabled:bg-[var(--button-default-hover-background-color)] active:enabled:bg-[var(--button-default-pressed-background-color)] focus:enabled:bg-[var(--button-default-focus-background-color)] disabled:bg-[var(--button-default-disabled-background-color)] disabled:text-[var(--button-default-disabled-color)] disabled:cursor-not-allowed",primary:`bg-[var(--button-background-color)] 
          text-[var(--button-color)] 
          hover:enabled:bg-[var(--button-background-hover-color)] 
          active:enabled:bg-[var(--button-background-pressed-color)] 
          focus:bg-[var(--button-background-color)]
          focus:border-[var(--button-border-focus-color)] focus:shadow-[var(--button-shadow-focus)] 
          disabled:bg-[var(--button-background-disabled-color)] disabled:text-[var(--button-disabled-color)] disabled:cursor-not-allowed`},size:{small:"h-[24px] px-[8px] text-[12px] font-semibold leading-[16px] m-w-[64px]",default:"h-[32px] px-[12px] text-[14px] font-semibold leading-[16px]",normal:"h-[42px] px-[16px] text-[16px] font-bold leading-[24px]"},scale:{default:"w-fit",scale:"w-full"}},defaultVariants:{variant:"primary",size:"default",scale:"default"}}),Pr=({className:t,variant:e,size:n,asChild:r=!1,...s})=>{const i=r?_P:"button";return w.jsx(i,{"data-slot":"button",className:Fe("cursor-pointer",XG({variant:e,size:n,className:t})),...s})},JG=({onConnect:t})=>{const{t:e}=Nt();return w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsxs("div",{className:"max-w-[537px] text-center flex flex-col items-center gap-[40px]",children:[w.jsxs("div",{className:"flex flex-col gap-[16px]",children:[w.jsx("h1",{className:"select-none text-center text-[32px] font-bold leading-[24px] text-[var(--empty-screen-color)]",children:e("ConnectAIModel")}),w.jsx("p",{className:"select-none text-center text-[16px] font-normal leading-[24px] text-[var(--empty-screen-description-color)]",children:e("ConnectAIModelDescription")})]}),w.jsx(Pr,{onClick:t,children:e("ConnectAIModelBtn")})]})})};function VN(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:E,children:S}=x,T=Ee.useRef(null),k=Ee.useRef(new Map).current;return w.jsx(s,{scope:E,itemMap:k,collectionRef:T,children:S})};a.displayName=e;const c=t+"CollectionSlot",u=dc(c),d=Ee.forwardRef((x,E)=>{const{scope:S,children:T}=x,k=i(c,S),L=vt(E,k.collectionRef);return w.jsx(u,{ref:L,children:T})});d.displayName=c;const h=t+"CollectionItemSlot",m="data-radix-collection-item",g=dc(h),y=Ee.forwardRef((x,E)=>{const{scope:S,children:T,...k}=x,L=Ee.useRef(null),I=vt(E,L),P=i(h,S);return Ee.useEffect(()=>(P.itemMap.set(L,{ref:L,...k}),()=>void P.itemMap.delete(L))),w.jsx(g,{[m]:"",ref:I,children:T})});y.displayName=h;function _(x){const E=i(t+"CollectionConsumer",x);return Ee.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const k=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((P,j)=>k.indexOf(P.ref.current)-k.indexOf(j.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:d,ItemSlot:y},_,r]}var ZG=C.createContext(void 0);function R2(t){const e=C.useContext(ZG);return t||e||"ltr"}var Dv="rovingFocusGroup.onEntryFocus",QG={bubbles:!1,cancelable:!0},Dd="RovingFocusGroup",[Cw,UN,eW]=VN(Dd),[tW,yy]=Oi(Dd,[eW]),[nW,rW]=tW(Dd),FN=C.forwardRef((t,e)=>w.jsx(Cw.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(Cw.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(sW,{...t,ref:e})})}));FN.displayName=Dd;var sW=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=t,g=C.useRef(null),y=vt(e,g),_=R2(i),[x,E]=xc({prop:a,defaultProp:c??null,onChange:u,caller:Dd}),[S,T]=C.useState(!1),k=Xn(d),L=UN(n),I=C.useRef(!1),[P,j]=C.useState(0);return C.useEffect(()=>{const $=g.current;if($)return $.addEventListener(Dv,k),()=>$.removeEventListener(Dv,k)},[k]),w.jsx(nW,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:x,onItemFocus:C.useCallback($=>E($),[E]),onItemShiftTab:C.useCallback(()=>T(!0),[]),onFocusableItemAdd:C.useCallback(()=>j($=>$+1),[]),onFocusableItemRemove:C.useCallback(()=>j($=>$-1),[]),children:w.jsx(Xe.div,{tabIndex:S||P===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{I.current=!0}),onFocus:ke(t.onFocus,$=>{const H=!I.current;if($.target===$.currentTarget&&H&&!S){const B=new CustomEvent(Dv,QG);if($.currentTarget.dispatchEvent(B),!B.defaultPrevented){const Y=L().filter(U=>U.focusable),ne=Y.find(U=>U.active),re=Y.find(U=>U.id===x),ae=[ne,re,...Y].filter(Boolean).map(U=>U.ref.current);qN(ae,h)}}I.current=!1}),onBlur:ke(t.onBlur,()=>T(!1))})})}),zN="RovingFocusGroupItem",HN=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=t,u=Ro(),d=i||u,h=rW(zN,n),m=h.currentTabStopId===d,g=UN(n),{onFocusableItemAdd:y,onFocusableItemRemove:_,currentTabStopId:x}=h;return C.useEffect(()=>{if(r)return y(),()=>_()},[r,y,_]),w.jsx(Cw.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:w.jsx(Xe.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...c,ref:e,onMouseDown:ke(t.onMouseDown,E=>{r?h.onItemFocus(d):E.preventDefault()}),onFocus:ke(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ke(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){h.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const S=aW(E,h.orientation,h.dir);if(S!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let k=g().filter(L=>L.focusable).map(L=>L.ref.current);if(S==="last")k.reverse();else if(S==="prev"||S==="next"){S==="prev"&&k.reverse();const L=k.indexOf(E.currentTarget);k=h.loop?lW(k,L+1):k.slice(L+1)}setTimeout(()=>qN(k))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:x!=null}):a})})});HN.displayName=zN;var iW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aW(t,e,n){const r=oW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iW[r]}function qN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GN=FN,WN=HN,by="Tabs",[cW]=Oi(by,[yy]),KN=yy(),[uW,k2]=cW(by),YN=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:u="automatic",...d}=t,h=R2(c),[m,g]=xc({prop:r,onChange:s,defaultProp:i??"",caller:by});return w.jsx(uW,{scope:n,baseId:Ro(),value:m,onValueChange:g,orientation:a,dir:h,activationMode:u,children:w.jsx(Xe.div,{dir:h,"data-orientation":a,...d,ref:e})})});YN.displayName=by;var XN="TabsList",JN=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=k2(XN,n),a=KN(n);return w.jsx(GN,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:w.jsx(Xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});JN.displayName=XN;var ZN="TabsTrigger",QN=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=k2(ZN,n),c=KN(n),u=n3(a.baseId,r),d=r3(a.baseId,r),h=r===a.value;return w.jsx(WN,{asChild:!0,...c,focusable:!s,active:h,children:w.jsx(Xe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:ke(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:ke(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:ke(t.onFocus,()=>{const m=a.activationMode!=="manual";!h&&!s&&m&&a.onValueChange(r)})})})});QN.displayName=ZN;var e3="TabsContent",t3=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,c=k2(e3,n),u=n3(c.baseId,r),d=r3(c.baseId,r),h=r===c.value,m=C.useRef(h);return C.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),w.jsx(ws,{present:s||h,children:({present:g})=>w.jsx(Xe.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});t3.displayName=e3;function n3(t,e){return`${t}-trigger-${e}`}function r3(t,e){return`${t}-content-${e}`}var fW=YN,dW=JN,hW=QN,pW=t3;const mW=({items:t,defaultValue:e,value:n,onValueChange:r,className:s})=>w.jsxs(fW,{defaultValue:e||t[0]?.value,value:n,onValueChange:r,className:Fe("w-full",s),children:[w.jsx(dW,{className:"w-full inline-flex h-[32px] gap-[20px] items-center border-b-[1px] border-[var(--tabs-border-color)]",children:t.map(i=>w.jsx(hW,{value:i.value,className:Fe("font-normal text-[14px] leading-[20px] text-[var(--tabs-color)] cursor-pointer pb-[3px] relative","hover:data-[state=inactive]:after:content-[''] hover:data-[state=inactive]:after:absolute hover:data-[state=inactive]:after:bottom-[-5px] hover:data-[state=inactive]:after:left-1/2 hover:data-[state=inactive]:after:transform hover:data-[state=inactive]:after:-translate-x-1/2 hover:data-[state=inactive]:after:w-[24px] hover:data-[state=inactive]:after:h-[4px] hover:data-[state=inactive]:after:bg-[var(--tabs-hover-border-color)] hover:data-[state=inactive]:after:rounded-t-[3px]","data-[state=active]:font-bold data-[state=active]:after:content-[''] data-[state=active]:after:absolute data-[state=active]:after:bottom-[-5px] data-[state=active]:after:left-0 data-[state=active]:after:right-0 data-[state=active]:after:h-[4px] data-[state=active]:after:bg-[var(--tabs-active-border-color)] data-[state=active]:after:rounded-t-[3px]","disabled:opacity-50 disabled:cursor-not-allowed"),children:i.label},i.value))}),t.map(i=>w.jsx(pW,{value:i.value,className:"mt-[24px]",children:i.content},i.value))]}),s3="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='14.9998'%20cy='9.99975'%20r='0.999754'%20fill='%231C1B1F'/%3e%3ccircle%20cx='4.99975'%20cy='9.99975'%20r='0.999754'%20fill='%231C1B1F'/%3e%3ccircle%20cx='9.99975'%20cy='9.99975'%20r='0.999754'%20fill='%231C1B1F'/%3e%3c/svg%3e",i3="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.5%205C14.3284%205%2015%205.67157%2015%206.5V8H17.5C17.7761%208%2018%208.22386%2018%208.5C18%208.77614%2017.7761%209%2017.5%209H17V17.5C17%2018.3284%2016.3284%2019%2015.5%2019H8.5C7.67157%2019%207%2018.3284%207%2017.5V9H6.5C6.22386%209%206%208.77614%206%208.5C6%208.22386%206.22386%208%206.5%208H9V6.5C9%205.67157%209.67157%205%2010.5%205H13.5ZM8%2017.5C8%2017.7761%208.22386%2018%208.5%2018H15.5C15.7761%2018%2016%2017.7761%2016%2017.5V9H8V17.5ZM10.5%2011C10.7761%2011%2011%2011.2239%2011%2011.5V15.5C11%2015.7761%2010.7761%2016%2010.5%2016C10.2239%2016%2010%2015.7761%2010%2015.5V11.5C10%2011.2239%2010.2239%2011%2010.5%2011ZM13.5%2011C13.7761%2011%2014%2011.2239%2014%2011.5V15.5C14%2015.7761%2013.7761%2016%2013.5%2016C13.2239%2016%2013%2015.7761%2013%2015.5V11.5C13%2011.2239%2013.2239%2011%2013.5%2011ZM10.5%206C10.2239%206%2010%206.22386%2010%206.5V8H14V6.5C14%206.22386%2013.7761%206%2013.5%206H10.5Z'%20fill='%23383838'/%3e%3c/svg%3e";function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tw(t,e)}function gW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tw(t,e)}var nm={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var FR;function yW(){if(FR)return nm;FR=1;var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,e=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,r=/\\([\u000b\u0020-\u00ff])/g,s=/([\\"])/g,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;nm.format=a,nm.parse=c;function a(m){if(!m||typeof m!="object")throw new TypeError("argument obj is required");var g=m.parameters,y=m.type;if(!y||!i.test(y))throw new TypeError("invalid type");var _=y;if(g&&typeof g=="object")for(var x,E=Object.keys(g).sort(),S=0;S<E.length;S++){if(x=E[S],!n.test(x))throw new TypeError("invalid parameter name");_+="; "+x+"="+d(g[x])}return _}function c(m){if(!m)throw new TypeError("argument string is required");var g=typeof m=="object"?u(m):m;if(typeof g!="string")throw new TypeError("argument string is required to be a string");var y=g.indexOf(";"),_=y!==-1?g.slice(0,y).trim():g.trim();if(!i.test(_))throw new TypeError("invalid media type");var x=new h(_.toLowerCase());if(y!==-1){var E,S,T;for(t.lastIndex=y;S=t.exec(g);){if(S.index!==y)throw new TypeError("invalid parameter format");y+=S[0].length,E=S[1].toLowerCase(),T=S[2],T.charCodeAt(0)===34&&(T=T.slice(1,-1),T.indexOf("\\")!==-1&&(T=T.replace(r,"$1"))),x.parameters[E]=T}if(y!==g.length)throw new TypeError("invalid parameter format")}return x}function u(m){var g;if(typeof m.getHeader=="function"?g=m.getHeader("content-type"):typeof m.headers=="object"&&(g=m.headers&&m.headers["content-type"]),typeof g!="string")throw new TypeError("content-type header is missing from object");return g}function d(m){var g=String(m);if(n.test(g))return g;if(g.length>0&&!e.test(g))throw new TypeError("invalid parameter value");return'"'+g.replace(s,"\\$1")+'"'}function h(m){this.parameters=Object.create(null),this.type=m}return nm}var bW=yW(),Wl=new Map,o3=function(e){return e.cloneNode(!0)},zR=function(){return window.location.protocol==="file:"},a3=function(e,n,r){var s=new XMLHttpRequest;s.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&s.readyState===2){var i=s.getResponseHeader("Content-Type");if(!i)throw new Error("Content type not found");var a=bW.parse(i).type;if(!(a==="image/svg+xml"||a==="text/plain"))throw new Error("Invalid content type: ".concat(a))}if(s.readyState===4){if(s.status===404||s.responseXML===null)throw new Error(zR()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(s.status===200||zR()&&s.status===0)r(null,s);else throw new Error("There was a problem injecting the SVG: "+s.status+" "+s.statusText)}}catch(c){if(s.abort(),c instanceof Error)r(c,s);else throw c}},s.open("GET",e),s.withCredentials=n,s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()},Co={},HR=function(e,n){Co[e]=Co[e]||[],Co[e].push(n)},vW=function(e){for(var n=function(a,c){setTimeout(function(){if(Array.isArray(Co[e])){var u=Wl.get(e),d=Co[e][a];u instanceof SVGSVGElement&&d(null,o3(u)),u instanceof Error&&d(u),a===Co[e].length-1&&delete Co[e]}},0)},r=0,s=Co[e].length;r<s;r++)n(r)},_W=function(e,n,r){if(Wl.has(e)){var s=Wl.get(e);if(s===void 0){HR(e,r);return}if(s instanceof SVGSVGElement){r(null,o3(s));return}}Wl.set(e,void 0),HR(e,r),a3(e,n,function(i,a){var c;i?Wl.set(e,i):((c=a.responseXML)===null||c===void 0?void 0:c.documentElement)instanceof SVGSVGElement&&Wl.set(e,a.responseXML.documentElement),vW(e)})},wW=function(e,n,r){a3(e,n,function(s,i){var a;s?r(s):((a=i.responseXML)===null||a===void 0?void 0:a.documentElement)instanceof SVGSVGElement&&r(null,i.responseXML.documentElement)})},xW=0,SW=function(){return++xW},Ns=[],qR={},EW="http://www.w3.org/2000/svg",Nv="http://www.w3.org/1999/xlink",GR=function(e,n,r,s,i,a,c){var u=e.getAttribute("data-src")||e.getAttribute("src");if(!u){c(new Error("Invalid data-src or src attribute"));return}if(Ns.indexOf(e)!==-1){Ns.splice(Ns.indexOf(e),1),e=null;return}Ns.push(e),e.setAttribute("src","");var d=s?_W:wW;d(u,i,function(h,m){if(!m){Ns.splice(Ns.indexOf(e),1),e=null,c(h);return}var g=e.getAttribute("id");g&&m.setAttribute("id",g);var y=e.getAttribute("title");y&&m.setAttribute("title",y);var _=e.getAttribute("width");_&&m.setAttribute("width",_);var x=e.getAttribute("height");x&&m.setAttribute("height",x);var E=Array.from(new Set(bm(bm(bm([],(m.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();m.setAttribute("class",E);var S=e.getAttribute("style");S&&m.setAttribute("style",S),m.setAttribute("data-src",u);var T=[].filter.call(e.attributes,function(z){return/^data-\w[\w-]*$/.test(z.name)});if(Array.prototype.forEach.call(T,function(z){z.name&&z.value&&m.setAttribute(z.name,z.value)}),r){var k={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},L,I,P,j,$;Object.keys(k).forEach(function(z){L=z,P=k[z],I=m.querySelectorAll(L+"[id]");for(var le=function(O,me){j=I[O].id,$=j+"-"+SW();var Ce;Array.prototype.forEach.call(P,function(Sn){Ce=m.querySelectorAll("["+Sn+'*="'+j+'"]');for(var cr=0,ti=Ce.length;cr<ti;cr++){var ts=Ce[cr].getAttribute(Sn);ts&&!ts.match(new RegExp('url\\("?#'+j+'"?\\)'))||Ce[cr].setAttribute(Sn,"url(#"+$+")")}});for(var ye=m.querySelectorAll("[*|href]"),ve=[],Ne=0,mt=ye.length;Ne<mt;Ne++){var Rt=ye[Ne].getAttributeNS(Nv,"href");Rt&&Rt.toString()==="#"+I[O].id&&ve.push(ye[Ne])}for(var kt=0,xn=ve.length;kt<xn;kt++)ve[kt].setAttributeNS(Nv,"href","#"+$);I[O].id=$},A=0,ee=I.length;A<ee;A++)le(A)})}m.removeAttribute("xmlns:a");for(var H=m.querySelectorAll("script"),B=[],Y,ne,re=0,Z=H.length;re<Z;re++)ne=H[re].getAttribute("type"),(!ne||ne==="application/ecmascript"||ne==="application/javascript"||ne==="text/javascript")&&(Y=H[re].innerText||H[re].textContent,Y&&B.push(Y),m.removeChild(H[re]));if(B.length>0&&(n==="always"||n==="once"&&!qR[u])){for(var ae=0,U=B.length;ae<U;ae++)new Function(B[ae])(window);qR[u]=!0}var X=m.querySelectorAll("style");if(Array.prototype.forEach.call(X,function(z){z.textContent+=""}),m.setAttribute("xmlns",EW),m.setAttribute("xmlns:xlink",Nv),a(m),!e.parentNode){Ns.splice(Ns.indexOf(e),1),e=null,c(new Error("Parent node is null"));return}e.parentNode.replaceChild(m,e),Ns.splice(Ns.indexOf(e),1),e=null,c(null,m)})},CW=function(e,n){var r=n===void 0?{}:n,s=r.afterAll,i=s===void 0?function(){}:s,a=r.afterEach,c=a===void 0?function(){}:a,u=r.beforeEach,d=u===void 0?function(){}:u,h=r.cacheRequests,m=h===void 0?!0:h,g=r.evalScripts,y=g===void 0?"never":g,_=r.httpRequestWithCredentials,x=_===void 0?!1:_,E=r.renumerateIRIElements,S=E===void 0?!0:E;if(e&&"length"in e)for(var T=0,k=0,L=e.length;k<L;k++)GR(e[k],y,S,m,x,d,function(I,P){c(I,P),e&&"length"in e&&e.length===++T&&i(T)});else e?GR(e,y,S,m,x,d,function(I,P){c(I,P),i(1),e=null}):i(0)},jv={exports:{}},Bv,WR;function TW(){if(WR)return Bv;WR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bv=t,Bv}var $v,KR;function AW(){if(KR)return $v;KR=1;var t=TW();function e(){}function n(){}return n.resetWarningCache=e,$v=function(){function r(a,c,u,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},$v}var YR;function RW(){return YR||(YR=1,jv.exports=AW()()),jv.exports}var Jt=RW(),kW=function(e){var n=e?.ownerDocument||document;return n.defaultView||window},MW=function(e,n){for(var r in e)if(!(r in n))return!0;for(var s in n)if(e[s]!==n[s])return!0;return!1},OW=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],rm="http://www.w3.org/2000/svg",XR="http://www.w3.org/1999/xlink",Ht=(function(t){function e(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(c){r.reactWrapper=c},r}gW(e,t);var n=e.prototype;return n.renderSVG=function(){var s=this;if(this.reactWrapper instanceof kW(this.reactWrapper).Node){var i=this.props,a=i.desc,c=i.evalScripts,u=i.httpRequestWithCredentials,d=i.renumerateIRIElements,h=i.src,m=i.title,g=i.useRequestCache,y=this.props.onError,_=this.props.beforeInjection,x=this.props.afterInjection,E=this.props.wrapper,S,T;E==="svg"?(S=document.createElementNS(rm,E),S.setAttribute("xmlns",rm),S.setAttribute("xmlns:xlink",XR),T=document.createElementNS(rm,E)):(S=document.createElement(E),T=document.createElement(E)),S.appendChild(T),T.dataset.src=h,this.nonReactWrapper=this.reactWrapper.appendChild(S);var k=function(j){if(s.removeSVG(),!s._isMounted){y(j);return}s.setState(function(){return{hasError:!0,isLoading:!1}},function(){y(j)})},L=function(j,$){if(j){k(j);return}s._isMounted&&s.setState(function(){return{isLoading:!1}},function(){try{x($)}catch(H){k(H)}})},I=function(j){if(j.setAttribute("role","img"),a){var $=j.querySelector(":scope > desc");$&&j.removeChild($);var H=document.createElement("desc");H.innerHTML=a,j.prepend(H)}if(m){var B=j.querySelector(":scope > title");B&&j.removeChild(B);var Y=document.createElement("title");Y.innerHTML=m,j.prepend(Y)}try{_(j)}catch(ne){k(ne)}};CW(T,{afterEach:L,beforeEach:I,cacheRequests:g,evalScripts:c,httpRequestWithCredentials:u,renumerateIRIElements:d})}},n.removeSVG=function(){var s;(s=this.nonReactWrapper)!=null&&s.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(s){var i=this;MW(od({},s),this.props)&&this.setState(function(){return i.initialState},function(){i.removeSVG(),i.renderSVG()})},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var s=this.props;s.afterInjection,s.beforeInjection,s.desc,s.evalScripts;var i=s.fallback;s.httpRequestWithCredentials;var a=s.loading;s.renumerateIRIElements,s.src,s.title,s.useRequestCache;var c=s.wrapper,u=vI(s,OW),d=c;return C.createElement(d,od({},u,{ref:this.refCallback},c==="svg"?{xmlns:rm,xmlnsXlink:XR}:{}),this.state.isLoading&&a&&C.createElement(a,null),this.state.hasError&&i&&C.createElement(i,null))},e})(C.Component);Ht.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};Ht.propTypes={afterInjection:Jt.func,beforeInjection:Jt.func,desc:Jt.string,evalScripts:Jt.oneOf(["always","once","never"]),fallback:Jt.oneOfType([Jt.func,Jt.object,Jt.string]),httpRequestWithCredentials:Jt.bool,loading:Jt.oneOfType([Jt.func,Jt.object,Jt.string]),onError:Jt.func,renumerateIRIElements:Jt.bool,src:Jt.string.isRequired,title:Jt.string,useRequestCache:Jt.bool,wrapper:Jt.oneOf(["div","span","svg"])};const un=({iconName:t,size:e,color:n,isStroke:r,isTransform:s,isActive:i,className:a,insideElement:c,...u})=>w.jsx("button",{className:Fe("border-none cursor-pointer rounded-[4px] cursor-pointer bg-none p-0 m-0 ","flex items-center justify-center ",c?"hover:enabled:bg-[var(--icon-button-hover-on-active-background-color)":"hover:enabled:bg-[var(--icon-button-hover-background-color)]","active:enabled:bg-[var(--icon-button-pressed-background-color)]","disabled:cursor-not-allowed disabled:opacity-[0.5]","outline-none focus:outline-none focus-visible:outline-none",`${a}`),style:{width:`${e}px`,height:`${e}px`,...i&&{backgroundColor:"var(--icon-button-pressed-background-color)"}},...u,children:w.jsx(Ht,{src:t,className:`flex items-center justify-center ${s?"rotate-90":""}`,beforeInjection:d=>{d.querySelectorAll("path").forEach(m=>{r?m.setAttribute("stroke",n??"var(--icon-button-color)"):m.setAttribute("fill",n??"var(--icon-button-color)")})}})});var Aw=["Enter"," "],PW=["ArrowDown","PageUp","Home"],l3=["ArrowUp","PageDown","End"],IW=[...PW,...l3],LW={ltr:[...Aw,"ArrowRight"],rtl:[...Aw,"ArrowLeft"]},DW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nd="Menu",[ud,NW,jW]=VN(Nd),[La,c3]=Oi(Nd,[jW,ry,yy]),vy=ry(),u3=yy(),[BW,Da]=La(Nd),[$W,jd]=La(Nd),f3=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,c=vy(e),[u,d]=C.useState(null),h=C.useRef(!1),m=Xn(i),g=R2(s);return C.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),w.jsx(QP,{...c,children:w.jsx(BW,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:d,children:w.jsx($W,{scope:e,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:a,children:r})})})};f3.displayName=Nd;var VW="MenuAnchor",M2=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vy(n);return w.jsx(eI,{...s,...r,ref:e})});M2.displayName=VW;var O2="MenuPortal",[UW,d3]=La(O2,{forceMount:void 0}),h3=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Da(O2,e);return w.jsx(UW,{scope:e,forceMount:n,children:w.jsx(ws,{present:n||i.open,children:w.jsx(sy,{asChild:!0,container:s,children:r})})})};h3.displayName=O2;var Qr="MenuContent",[FW,P2]=La(Qr),p3=C.forwardRef((t,e)=>{const n=d3(Qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Da(Qr,t.__scopeMenu),a=jd(Qr,t.__scopeMenu);return w.jsx(ud.Provider,{scope:t.__scopeMenu,children:w.jsx(ws,{present:r||i.open,children:w.jsx(ud.Slot,{scope:t.__scopeMenu,children:a.modal?w.jsx(zW,{...s,ref:e}):w.jsx(HW,{...s,ref:e})})})})}),zW=C.forwardRef((t,e)=>{const n=Da(Qr,t.__scopeMenu),r=C.useRef(null),s=vt(e,r);return C.useEffect(()=>{const i=r.current;if(i)return sI(i)},[]),w.jsx(I2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HW=C.forwardRef((t,e)=>{const n=Da(Qr,t.__scopeMenu);return w.jsx(I2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qW=dc("MenuContent.ScrollLock"),I2=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:_,...x}=t,E=Da(Qr,n),S=jd(Qr,n),T=vy(n),k=u3(n),L=NW(n),[I,P]=C.useState(null),j=C.useRef(null),$=vt(e,j,E.onContentChange),H=C.useRef(0),B=C.useRef(""),Y=C.useRef(0),ne=C.useRef(null),re=C.useRef("right"),Z=C.useRef(0),ae=_?Nx:C.Fragment,U=_?{as:qW,allowPinchZoom:!0}:void 0,X=le=>{const A=B.current+le,ee=L().filter(ve=>!ve.disabled),fe=document.activeElement,O=ee.find(ve=>ve.ref.current===fe)?.textValue,me=ee.map(ve=>ve.textValue),Ce=rK(me,A,O),ye=ee.find(ve=>ve.textValue===Ce)?.ref.current;(function ve(Ne){B.current=Ne,window.clearTimeout(H.current),Ne!==""&&(H.current=window.setTimeout(()=>ve(""),1e3))})(A),ye&&setTimeout(()=>ye.focus())};C.useEffect(()=>()=>window.clearTimeout(H.current),[]),kP();const z=C.useCallback(le=>re.current===ne.current?.side&&iK(le,ne.current?.area),[]);return w.jsx(FW,{scope:n,searchRef:B,onItemEnter:C.useCallback(le=>{z(le)&&le.preventDefault()},[z]),onItemLeave:C.useCallback(le=>{z(le)||(j.current?.focus(),P(null))},[z]),onTriggerLeave:C.useCallback(le=>{z(le)&&le.preventDefault()},[z]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:C.useCallback(le=>{ne.current=le},[]),children:w.jsx(ae,{...U,children:w.jsx(Ax,{asChild:!0,trapped:s,onMountAutoFocus:ke(i,le=>{le.preventDefault(),j.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:w.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:w.jsx(GN,{asChild:!0,...k,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:P,onEntryFocus:ke(u,le=>{S.isUsingKeyboardRef.current||le.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(tI,{role:"menu","aria-orientation":"vertical","data-state":M3(E.open),"data-radix-menu-content":"",dir:S.dir,...T,...x,ref:$,style:{outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,le=>{const ee=le.target.closest("[data-radix-menu-content]")===le.currentTarget,fe=le.ctrlKey||le.altKey||le.metaKey,O=le.key.length===1;ee&&(le.key==="Tab"&&le.preventDefault(),!fe&&O&&X(le.key));const me=j.current;if(le.target!==me||!IW.includes(le.key))return;le.preventDefault();const ye=L().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);l3.includes(le.key)&&ye.reverse(),tK(ye)}),onBlur:ke(t.onBlur,le=>{le.currentTarget.contains(le.target)||(window.clearTimeout(H.current),B.current="")}),onPointerMove:ke(t.onPointerMove,fd(le=>{const A=le.target,ee=Z.current!==le.clientX;if(le.currentTarget.contains(A)&&ee){const fe=le.clientX>Z.current?"right":"left";re.current=fe,Z.current=le.clientX}}))})})})})})})});p3.displayName=Qr;var GW="MenuGroup",L2=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Xe.div,{role:"group",...r,ref:e})});L2.displayName=GW;var WW="MenuLabel",m3=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Xe.div,{...r,ref:e})});m3.displayName=WW;var yg="MenuItem",JR="menu.itemSelect",_y=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=C.useRef(null),a=jd(yg,t.__scopeMenu),c=P2(yg,t.__scopeMenu),u=vt(e,i),d=C.useRef(!1),h=()=>{const m=i.current;if(!n&&m){const g=new CustomEvent(JR,{bubbles:!0,cancelable:!0});m.addEventListener(JR,y=>r?.(y),{once:!0}),xP(m,g),g.defaultPrevented?d.current=!1:a.onClose()}};return w.jsx(g3,{...s,ref:u,disabled:n,onClick:ke(t.onClick,h),onPointerDown:m=>{t.onPointerDown?.(m),d.current=!0},onPointerUp:ke(t.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:ke(t.onKeyDown,m=>{const g=c.searchRef.current!=="";n||g&&m.key===" "||Aw.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});_y.displayName=yg;var g3=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=P2(yg,n),c=u3(n),u=C.useRef(null),d=vt(e,u),[h,m]=C.useState(!1),[g,y]=C.useState("");return C.useEffect(()=>{const _=u.current;_&&y((_.textContent??"").trim())},[i.children]),w.jsx(ud.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:w.jsx(WN,{asChild:!0,...c,focusable:!r,children:w.jsx(Xe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ke(t.onPointerMove,fd(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(t.onPointerLeave,fd(_=>a.onItemLeave(_))),onFocus:ke(t.onFocus,()=>m(!0)),onBlur:ke(t.onBlur,()=>m(!1))})})})}),KW="MenuCheckboxItem",y3=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return w.jsx(x3,{scope:t.__scopeMenu,checked:n,children:w.jsx(_y,{role:"menuitemcheckbox","aria-checked":bg(n)?"mixed":n,...s,ref:e,"data-state":N2(n),onSelect:ke(s.onSelect,()=>r?.(bg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});y3.displayName=KW;var b3="MenuRadioGroup",[YW,XW]=La(b3,{value:void 0,onValueChange:()=>{}}),v3=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Xn(r);return w.jsx(YW,{scope:t.__scopeMenu,value:n,onValueChange:i,children:w.jsx(L2,{...s,ref:e})})});v3.displayName=b3;var _3="MenuRadioItem",w3=C.forwardRef((t,e)=>{const{value:n,...r}=t,s=XW(_3,t.__scopeMenu),i=n===s.value;return w.jsx(x3,{scope:t.__scopeMenu,checked:i,children:w.jsx(_y,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":N2(i),onSelect:ke(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});w3.displayName=_3;var D2="MenuItemIndicator",[x3,JW]=La(D2,{checked:!1}),S3=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=JW(D2,n);return w.jsx(ws,{present:r||bg(i.checked)||i.checked===!0,children:w.jsx(Xe.span,{...s,ref:e,"data-state":N2(i.checked)})})});S3.displayName=D2;var ZW="MenuSeparator",E3=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});E3.displayName=ZW;var QW="MenuArrow",C3=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vy(n);return w.jsx(nI,{...s,...r,ref:e})});C3.displayName=QW;var eK="MenuSub",[Rme,T3]=La(eK),Pf="MenuSubTrigger",A3=C.forwardRef((t,e)=>{const n=Da(Pf,t.__scopeMenu),r=jd(Pf,t.__scopeMenu),s=T3(Pf,t.__scopeMenu),i=P2(Pf,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,d={__scopeMenu:t.__scopeMenu},h=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>h,[h]),C.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),w.jsx(M2,{asChild:!0,...d,children:w.jsx(g3,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":M3(n.open),...t,ref:Jg(e,s.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(t.onPointerMove,fd(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ke(t.onPointerLeave,fd(m=>{h();const g=n.content?.getBoundingClientRect();if(g){const y=n.content?.dataset.side,_=y==="right",x=_?-5:5,E=g[_?"left":"right"],S=g[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:E,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:E,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ke(t.onKeyDown,m=>{const g=i.searchRef.current!=="";t.disabled||g&&m.key===" "||LW[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});A3.displayName=Pf;var R3="MenuSubContent",k3=C.forwardRef((t,e)=>{const n=d3(Qr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Da(Qr,t.__scopeMenu),a=jd(Qr,t.__scopeMenu),c=T3(R3,t.__scopeMenu),u=C.useRef(null),d=vt(e,u);return w.jsx(ud.Provider,{scope:t.__scopeMenu,children:w.jsx(ws,{present:r||i.open,children:w.jsx(ud.Slot,{scope:t.__scopeMenu,children:w.jsx(I2,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&u.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ke(t.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ke(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ke(t.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),g=DW[a.dir].includes(h.key);m&&g&&(i.onOpenChange(!1),c.trigger?.focus(),h.preventDefault())})})})})})});k3.displayName=R3;function M3(t){return t?"open":"closed"}function bg(t){return t==="indeterminate"}function N2(t){return bg(t)?"indeterminate":t?"checked":"unchecked"}function tK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function nK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function rK(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=nK(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function sK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],u=e[a],d=c.x,h=c.y,m=u.x,g=u.y;h>r!=g>r&&n<(m-d)*(r-h)/(g-h)+d&&(s=!s)}return s}function iK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return sK(n,e)}function fd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var oK=f3,aK=M2,lK=h3,cK=p3,uK=L2,fK=m3,dK=_y,hK=y3,pK=v3,mK=w3,gK=S3,yK=E3,bK=C3,vK=A3,_K=k3,wy="DropdownMenu",[wK]=Oi(wy,[c3]),Jn=c3(),[xK,O3]=wK(wy),P3=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,u=Jn(e),d=C.useRef(null),[h,m]=xc({prop:s,defaultProp:i??!1,onChange:a,caller:wy});return w.jsx(xK,{scope:e,triggerId:Ro(),triggerRef:d,contentId:Ro(),open:h,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),modal:c,children:w.jsx(oK,{...u,open:h,onOpenChange:m,dir:r,modal:c,children:n})})};P3.displayName=wy;var I3="DropdownMenuTrigger",L3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=O3(I3,n),a=Jn(n);return w.jsx(aK,{asChild:!0,...a,children:w.jsx(Xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Jg(e,i.triggerRef),onPointerDown:ke(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ke(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});L3.displayName=I3;var SK="DropdownMenuPortal",D3=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Jn(e);return w.jsx(lK,{...r,...n})};D3.displayName=SK;var N3="DropdownMenuContent",j3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=O3(N3,n),i=Jn(n),a=C.useRef(!1);return w.jsx(cK,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ke(t.onCloseAutoFocus,c=>{a.current||s.triggerRef.current?.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ke(t.onInteractOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j3.displayName=N3;var EK="DropdownMenuGroup",CK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(uK,{...s,...r,ref:e})});CK.displayName=EK;var TK="DropdownMenuLabel",AK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(fK,{...s,...r,ref:e})});AK.displayName=TK;var RK="DropdownMenuItem",B3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(dK,{...s,...r,ref:e})});B3.displayName=RK;var kK="DropdownMenuCheckboxItem",MK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(hK,{...s,...r,ref:e})});MK.displayName=kK;var OK="DropdownMenuRadioGroup",PK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(pK,{...s,...r,ref:e})});PK.displayName=OK;var IK="DropdownMenuRadioItem",LK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(mK,{...s,...r,ref:e})});LK.displayName=IK;var DK="DropdownMenuItemIndicator",NK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(gK,{...s,...r,ref:e})});NK.displayName=DK;var jK="DropdownMenuSeparator",$3=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(yK,{...s,...r,ref:e})});$3.displayName=jK;var BK="DropdownMenuArrow",$K=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(bK,{...s,...r,ref:e})});$K.displayName=BK;var VK="DropdownMenuSubTrigger",UK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(vK,{...s,...r,ref:e})});UK.displayName=VK;var FK="DropdownMenuSubContent",zK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return w.jsx(_K,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zK.displayName=FK;var HK=P3,qK=L3,GK=D3,WK=j3,KK=B3,YK=$3;const V3="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.5%209.5L7.5%206.5L4.5%203.5'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",pc="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5%208.5L10.5%2015.5L7.5%2012.5'%20stroke='%23444444'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function XK(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xy="Switch",[JK]=Oi(xy),[ZK,QK]=JK(xy),U3=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:u="on",onCheckedChange:d,form:h,...m}=t,[g,y]=C.useState(null),_=vt(e,k=>y(k)),x=C.useRef(!1),E=g?h||!!g.closest("form"):!0,[S,T]=xc({prop:s,defaultProp:i??!1,onChange:d,caller:xy});return w.jsxs(ZK,{scope:n,checked:S,disabled:c,children:[w.jsx(Xe.button,{type:"button",role:"switch","aria-checked":S,"aria-required":a,"data-state":q3(S),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:_,onClick:ke(t.onClick,k=>{T(L=>!L),E&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})}),E&&w.jsx(H3,{control:g,bubbles:!x.current,name:r,value:u,checked:S,required:a,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});U3.displayName=xy;var F3="SwitchThumb",z3=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=QK(F3,n);return w.jsx(Xe.span,{"data-state":q3(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});z3.displayName=F3;var eY="SwitchBubbleInput",H3=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=C.useRef(null),c=vt(a,i),u=XK(n),d=zP(e);return C.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&y){const _=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(_)}},[u,n,r]),w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H3.displayName=eY;function q3(t){return t?"checked":"unchecked"}var tY=U3,nY=z3;const rY=({checked:t,onCheckedChange:e,disabled:n=!1,size:r="small",label:s,id:i,className:a})=>{const c={small:"w-[24px] h-[14px]",medium:"w-[42px] h-[24px]",large:"w-[52px] h-[30px]"},u={small:"w-[10px] h-[10px] translate-x-[1px] data-[state=checked]:translate-x-[10px]",medium:"w-[20px] h-[20px] translate-x-[2px] data-[state=checked]:translate-x-[20px]",large:"w-[26px] h-[26px] translate-x-[2px] data-[state=checked]:translate-x-[24px]"};return w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(tY,{id:i,checked:t,onCheckedChange:e,disabled:n,className:Fe("relative inline-flex align-center shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out","focus:outline-none","disabled:cursor-not-allowed disabled:opacity-50","bg-[var(--toggle-button-off-backround-color)] data-[state=checked]:bg-[var(--toggle-button-backround-color)]",c[r],a),children:w.jsx(nY,{className:Fe("pointer-events-none inline-block rounded-full bg-[var(--toggle-button-circle-color)] ring-0 transition-transform duration-200 ease-in-out",u[r])})}),s&&w.jsx("label",{htmlFor:i,className:"text-sm font-medium text-gray-700 cursor-pointer",children:s})]})},sY=({text:t,icon:e,iconSize:n=16,iconColor:r,onClick:s,isActive:i,isSeparator:a,withToggle:c,toggleChecked:u,onToggleChange:d,subMenu:h,checked:m})=>{const[g,y]=C.useState(!1),_=C.useRef(null),x=C.useRef(null);if(a)return w.jsx(YK,{className:"h-px w-full bg-[var(--drop-down-menu-separator-color)] my-[4px]"});const E=k=>{c&&(k.stopPropagation(),k.preventDefault()),s(k)},S=k=>{if(!_.current||!x.current)return;const L=k.clientX,I=k.clientY,P=_.current.getBoundingClientRect(),j=x.current?.getBoundingClientRect(),$=L>=P.left&&L<=P.right&&I>=P.top&&I<=P.bottom,H=j&&L>=j.left&&L<=j.right&&I>=j.top&&I<=j.bottom;!$&&!H&&(y(!1),window.removeEventListener("mousemove",S))},T=()=>{g||!h||(y(!0),window.addEventListener("mousemove",S))};return w.jsxs(KK,{className:Fe("dropdown-menu-item","flex items-center justify-between gap-[16px] min-w-0 w-full max-w-full min-h-[32px] h-[32px] px-[12px] select-none cursor-pointer","outline-none focus:outline-none focus-visible:outline-none ring-0 focus:ring-0 focus-visible:ring-0 border-0","hover:bg-[var(--drop-down-menu-item-hover-color)] hover:text-[var(--drop-down-menu-item-hover-color)]","data-[highlighted]:bg-[var(--drop-down-menu-item-active-color)] data-[highlighted]:text-[var(--drop-down-menu-item-active-color)]","data-[disabled]:opacity-50 data-[disabled]:pointer-events-none",i?"bg-[var(--drop-down-menu-item-active-color)] text-[var(--drop-down-menu-item-active-color)]":""),onSelect:E,onMouseEnter:T,ref:_,children:[w.jsxs("div",{className:"flex items-center gap-[8px]",children:[e&&typeof e=="string"?w.jsx(un,{iconName:e,size:n,color:r}):e??null,w.jsx("span",{className:"flex-1 basis-0 min-w-0 truncate font-normal text-[14px] leading-[20px] text-[var(--drop-down-menu-item-color)]",children:t})]}),h?w.jsx(kc,{trigger:w.jsx(un,{iconName:V3,size:12,insideElement:!0,isStroke:!0}),items:h,side:"right",align:"start",sideOffset:0,open:g,contentClassName:"ms-[12px] mt-[-15px]",containerRef:_.current,dropdownRef:x}):null,m?w.jsx(Ht,{src:pc}):null,c&&d?w.jsx("div",{onClick:k=>k.stopPropagation(),children:w.jsx(rY,{checked:u??!1,onCheckedChange:d,size:"small"})}):null]})},kc=({trigger:t,items:e,side:n,align:r,sideOffset:s,contentClassName:i,maxWidth:a,matchTriggerWidth:c,open:u,containerRef:d,dropdownRef:h,onOpenChange:m})=>{const g=document.getElementById("app");return w.jsxs(HK,{open:u,onOpenChange:m,children:[w.jsx(qK,{asChild:!0,children:t}),w.jsx(GK,{container:d??g,children:w.jsx(WK,{ref:h,side:n??"bottom",align:r??"start",sideOffset:s??6,"data-side":n,"data-align":r,"data-orientation":"vertical",className:Fe("dropdown-menu z-50 border border-[var(--drop-down-menu-border-color)] rounded-[8px] shadow-[var(--drop-down-menu-shadow)] bg-[var(--drop-down-menu-background-color)] py-[8px] max-h-56 overflow-y-auto flex flex-col gap-[4px]",c?"w-[var(--radix-dropdown-menu-trigger-width)]":"w-fit",i),style:a?{maxWidth:a}:void 0,children:e.map(y=>w.jsx(sY,{...y},y.text))})})]})};var Sy="Dialog",[G3]=Oi(Sy),[iY,Ss]=G3(Sy),W3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=C.useRef(null),u=C.useRef(null),[d,h]=xc({prop:r,defaultProp:s??!1,onChange:i,caller:Sy});return w.jsx(iY,{scope:e,triggerRef:c,contentRef:u,contentId:Ro(),titleId:Ro(),descriptionId:Ro(),open:d,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};W3.displayName=Sy;var K3="DialogTrigger",oY=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(K3,n),i=vt(e,s.triggerRef);return w.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$2(s.open),...r,ref:i,onClick:ke(t.onClick,s.onOpenToggle)})});oY.displayName=K3;var j2="DialogPortal",[aY,Y3]=G3(j2,{forceMount:void 0}),X3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ss(j2,e);return w.jsx(aY,{scope:e,forceMount:n,children:C.Children.map(r,a=>w.jsx(ws,{present:n||i.open,children:w.jsx(sy,{asChild:!0,container:s,children:a})}))})};X3.displayName=j2;var vg="DialogOverlay",J3=C.forwardRef((t,e)=>{const n=Y3(vg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ss(vg,t.__scopeDialog);return i.modal?w.jsx(ws,{present:r||i.open,children:w.jsx(cY,{...s,ref:e})}):null});J3.displayName=vg;var lY=dc("DialogOverlay.RemoveScroll"),cY=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(vg,n);return w.jsx(Nx,{as:lY,allowPinchZoom:!0,shards:[s.contentRef],children:w.jsx(Xe.div,{"data-state":$2(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ma="DialogContent",Z3=C.forwardRef((t,e)=>{const n=Y3(Ma,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ss(Ma,t.__scopeDialog);return w.jsx(ws,{present:r||i.open,children:i.modal?w.jsx(uY,{...s,ref:e}):w.jsx(fY,{...s,ref:e})})});Z3.displayName=Ma;var uY=C.forwardRef((t,e)=>{const n=Ss(Ma,t.__scopeDialog),r=C.useRef(null),s=vt(e,n.contentRef,r);return C.useEffect(()=>{const i=r.current;if(i)return sI(i)},[]),w.jsx(Q3,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault())})}),fY=C.forwardRef((t,e)=>{const n=Ss(Ma,t.__scopeDialog),r=C.useRef(!1),s=C.useRef(!1);return w.jsx(Q3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Q3=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=Ss(Ma,n),u=C.useRef(null),d=vt(e,u);return kP(),w.jsxs(w.Fragment,{children:[w.jsx(Ax,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:w.jsx(Zg,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":$2(c.open),...a,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(hY,{titleId:c.titleId}),w.jsx(mY,{contentRef:u,descriptionId:c.descriptionId})]})]})}),B2="DialogTitle",e4=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(B2,n);return w.jsx(Xe.h2,{id:s.titleId,...r,ref:e})});e4.displayName=B2;var t4="DialogDescription",n4=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(t4,n);return w.jsx(Xe.p,{id:s.descriptionId,...r,ref:e})});n4.displayName=t4;var r4="DialogClose",dY=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(r4,n);return w.jsx(Xe.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>s.onOpenChange(!1))})});dY.displayName=r4;function $2(t){return t?"open":"closed"}var s4="DialogTitleWarning",[kme,i4]=b7(s4,{contentName:Ma,titleName:B2,docsSlug:"dialog"}),hY=({titleId:t})=>{const e=i4(s4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pY="DialogDescriptionWarning",mY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i4(pY).contentName}}.`;return C.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},gY=W3,yY=X3,bY=J3,vY=Z3,_Y=e4,wY=n4;const Bd=({...t})=>w.jsx(gY,{"data-slot":"dialog",...t}),xY="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.1475%206.14844C17.3428%205.95347%2017.6593%205.95325%2017.8545%206.14844C18.0495%206.34361%2018.0494%206.66023%2017.8545%206.85547L12.707%2012.001L17.8545%2017.1465C18.0495%2017.3417%2018.0494%2017.6583%2017.8545%2017.8535C17.6593%2018.0488%2017.3428%2018.0486%2017.1475%2017.8535L12%2012.708L6.85352%2017.8535C6.65826%2018.0487%206.34173%2018.0487%206.14648%2017.8535C5.95128%2017.6583%205.95129%2017.3417%206.14648%2017.1465L11.293%2012.001L6.14648%206.85645C5.9512%206.66121%205.95125%206.34372%206.14648%206.14844C6.34167%205.95358%206.65832%205.95357%206.85352%206.14844L12%2011.2939L17.1475%206.14844Z'%20fill='%23383838'/%3e%3c/svg%3e",SY="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.62623%2016.5952L9.18302%203.47138C9.54492%202.84288%2010.4551%202.84287%2010.817%203.47138L18.3738%2016.5952C18.7339%2017.2206%2018.2806%2018%2017.5568%2018H2.44321C1.7194%2018%201.26612%2017.2206%201.62623%2016.5952Z'%20fill='%23FFD112'/%3e%3cpath%20d='M11%2014.5V16.5H9V14.5H11ZM11%207V10L10.5%2013.5H9.5L9%2010V7H11Z'%20fill='black'%20fill-opacity='0.8'/%3e%3c/svg%3e",EY=({...t})=>w.jsx(yY,{"data-slot":"dialog-portal",container:document.getElementById("app"),...t}),CY=({className:t,...e})=>w.jsx(bY,{"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-[var(--modal-dialog-overlay-background)]",t),...e}),TY=({className:t,withWarningIcon:e,...n})=>w.jsx(_Y,{"data-slot":"dialog-title",className:Fe("font-bold text-[var(--modal-dialog-header-color)] select-none",t,e?"text-[14px] leading-[20px]":"text-[18px] leading-[24px]"),...n}),AY=()=>w.jsx(w.Fragment,{children:w.jsx(wY,{className:"hidden",children:"Dialog content"})}),RY="w-[348px]",kY="w-[548px]",MY=" box-border h-fit-content fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 rounded-[8px]",OY="w-[352px] box-border h-fit-content fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 rounded-[8px]",PY="bg-[var(--modal-dialog-background-color)]  shadow-[var(--modal-dialog-shadows)]",$d=({className:t,children:e,header:n,onClose:r,isHuge:s=!1,withWarningIcon:i=!1,...a})=>{const c=s?kY:RY,u=i?OY:MY;return Ee.useEffect(()=>{const d=h=>{h.key==="Escape"&&r()};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[r]),Ee.useEffect(()=>{const d=h=>{const m=document.getElementById("dialog-content");m&&h.target instanceof Node&&!m.contains(h.target)&&r()};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[r]),w.jsxs(EY,{"data-slot":"dialog-portal",children:[w.jsx(CY,{}),w.jsxs(vY,{id:"dialog-content","data-slot":"dialog-content",className:Fe(c,u,PY,"flex flex-col",t),...a,children:[w.jsx(AY,{}),w.jsxs("div",{className:Fe("flex items-center justify-between align-center",i?"h-[40px]":"h-[56px]",i?"ps-[16px] pe-[8px]":"ps-[32px] pe-[16px]"),children:[w.jsxs("div",{className:"flex items-center gap-[4px]",children:[i?w.jsx(Ht,{src:SY}):null,w.jsx(TY,{withWarningIcon:i,children:n})]}),w.jsx(un,{iconName:xY,size:24,color:"var(--modal-dialog-close-color)",onClick:r})]}),w.jsx("div",{className:Fe("flex-1 min-h-0",i?"px-[16px]":"px-[32px]"),children:e})]})]})},Ao=({children:t,header:e,error:n})=>w.jsxs("div",{className:"flex flex-col gap-[4px]",children:[w.jsx("p",{className:"select-none text-[14px] leading-[20px] text-[var(--field-container-header-color)]",children:e}),t,n&&w.jsx("p",{className:"text-[var(--field-container-error-color)]",children:n})]}),o4="data:image/svg+xml,%3csvg%20width='8'%20height='8'%20viewBox='0%200%208%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.5%203.66699L4.5%205.66699L6.5%203.66699'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",V2=({placeholder:t,value:e,className:n,isError:r,withoutBg:s,items:i})=>{const[a,c]=Ee.useState(!1),u=Ee.useRef(null);return w.jsx(kc,{onOpenChange:d=>c(d),trigger:w.jsxs("div",{ref:u,className:Fe("h-[32px] rounded-[4px] ps-[12px] pe-[12px] box-border","cursor-pointer flex items-center justify-between","text-[var(--input-color)] text-[14px] leading-[16px]",a?"border bg-[var(--input-background-color)] border-[var(--input-active-border-color)]":s?"hover:bg-[var(--input-hover-background-color)] hover:border-[var(--input-hover-border-color)]":"border bg-[var(--input-background-color)] border-[var(--input-border-color)] hover:bg-[var(--input-hover-background-color)] hover:border-[var(--input-hover-border-color)]",n,i.length===0?"cursor-not-allowed pointer-events-none":""),style:{borderColor:r?"var(--border-error)":void 0},children:[w.jsx("span",{className:Fe(e?"text-[var(--input-color)]":"text-[var(--input-placeholder-color)]"),children:e||t}),w.jsx(Ht,{src:o4,className:Fe("w-[15px] h-[24px] flex items-center justify-center transition-transform",a?"rotate-180":"")})]}),align:"start",side:"bottom",containerRef:u.current,items:i})},Si=Ee.forwardRef(({className:t,isError:e,icon:n,iconColor:r,...s},i)=>w.jsxs("div",{className:`relative ${t}`,children:[n&&w.jsx(Ht,{className:"absolute left-[10px] top-[50%] translate-y-[-50%] w-[20px] h-[20px] flex items-center justify-center",src:n,beforeInjection:a=>{const c=a.querySelector("path");c&&c.setAttribute("stroke",r||"var(--input-color)")}}),w.jsx("input",{ref:i,type:s.type??"text",className:Fe("h-[32px] rounded-[4px] pe-[2px] box-border border border-[var(--input-border-color)]","bg-[var(--input-background-color)] hover:bg-[var(--input-hover-background-color)] hover:border-[var(--input-hover-border-color)]","focus:bg-[var(--input-active-background-color)] focus:border focus:border-[var(--input-active-border-color)]","outline-none","placeholder:text-[var(--input-placeholder-color)] text-[var(--input-color)]",n?"ps-[40px]":"ps-[12px]",t),style:{border:e?"1px solid var(--input-error-color)":""},value:s.value,...s})]}));Si.displayName="Input";const a4="flex flex-col justify-between h-full",l4="flex flex-col gap-[12px] mb-[32px]",c4="flex flex-row justify-end items-center gap-[8px] h-[64px] border-t-[1px] border-[var(--border-divider)] mx-[-32px] px-[32px]",IY=({name:t,onClose:e})=>{const{t:n}=Nt(),{providers:r,editProvider:s}=xs(),[i,a]=Ee.useState(()=>{const S=r.find(T=>T.name===t);return S||{name:"",type:"",icon:"",key:"",baseUrl:""}}),[c,u]=Ee.useState({name:i.name,url:i.baseUrl,key:i.key}),[d,h]=Ee.useState({key:"",url:"",name:""});Ee.useEffect(()=>{const S=r.find(T=>T.name===t);S&&(a(S),u({name:S.name,url:S.baseUrl,key:S.key}))},[r,t]),Ee.useEffect(()=>{u({name:i.name,url:i.baseUrl,key:i.key})},[i]);const m=Ee.useRef(null),g=S=>{u(T=>({...T,[S.target.name]:S.target.value})),h(T=>({...T,[S.target.name]:""}))},y=async()=>{const S=await s({type:i.type,name:c.name,key:c.key,baseUrl:c.url},i.name);typeof S=="boolean"&&S?e():S&&h(T=>({...T,[S.field]:S.message}))},_=c.name===i.name&&c.url===i.baseUrl,E=c.key===i.key&&_||!!d.key||!!d.url||!!d.name;return w.jsx(Bd,{open:!0,children:w.jsx($d,{header:n("EditAIProvider"),onClose:e,ref:m,children:w.jsxs("div",{className:a4,children:[w.jsxs("div",{className:l4,children:[w.jsx(Ao,{header:n("Provider"),children:w.jsx(V2,{value:i.type,items:[]})}),w.jsx(Ao,{header:n("Name"),error:d.name,children:w.jsx(Si,{name:"name",onChange:g,value:c.name,isError:!!d.name,placeholder:n("EnterName"),className:"w-full"})}),w.jsx(Ao,{header:n("URL"),error:d.url,children:w.jsx(Si,{name:"url",onChange:g,value:c.url,isError:!!d.url,placeholder:n("EnterURL"),className:"w-full"})}),w.jsx(Ao,{header:n("APIKey"),error:d.key,children:w.jsx(Si,{name:"key",onChange:g,value:c.key,isError:!!d.key,placeholder:n("EnterKey"),className:"w-full"})})]}),w.jsxs("div",{className:c4,children:[w.jsx(Pr,{variant:"default",onClick:e,children:n("Cancel")}),w.jsx(Pr,{onClick:y,disabled:E,children:n("Save")})]})]})})})},LY=({name:t,onClose:e})=>{const{providers:n,deleteProvider:r}=xs(),[s,i]=Ee.useState(()=>{const u=n.find(d=>d.name===t);return u||{name:"",type:"",icon:"",key:"",baseUrl:""}}),{t:a}=Nt();Ee.useEffect(()=>{const u=n.find(d=>d.name===t);u&&i(u)},[n,t]);const c=async()=>{await r(s),e()};return w.jsx(Bd,{open:!0,children:w.jsx($d,{header:a("Warning"),onClose:e,withWarningIcon:!0,children:w.jsxs("div",{className:"flex flex-col justify-between h-full",children:[w.jsx("p",{className:"select-none h-[40px] flex items-center text-[12px] leading-[16px]",children:a("WantDeleteProvider?")}),w.jsxs("div",{className:"flex flex-row justify-end items-center gap-[8px] h-[48px]",children:[w.jsx(Pr,{size:"small",variant:"default",onClick:e,children:a("No")}),w.jsx(Pr,{size:"small",onClick:c,children:a("Yes")})]})]})})})},DY=({provider:t})=>{const[e,n]=Ee.useState(!1),[r,s]=Ee.useState(!1),[i,a]=Ee.useState(null),[c,u]=Ee.useState(!1),d=Ee.useCallback(m=>{a(m)},[]),{t:h}=Nt();return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex flex-row justify-between gap-[12px] px-[16px] py-[12px] w-[274px] rounded-[8px] bg-[var(--ai-provider-item-background-color)] shadow-[var(--ai-provider-item-shadow)]",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("p",{className:"font-normal text-[14px] leading-[20px] text-[var(--ai-provider-item-color)]",children:t.name}),w.jsxs("p",{className:"text-[12px] leading-[14px] text-[var(--ai-provider-item-description-color)]",children:[t.type,w.jsx("br",{}),t.baseUrl]})]}),w.jsx("div",{className:"flex items-center justify-end flex-1",ref:d,children:w.jsx(kc,{onOpenChange:u,trigger:w.jsx(un,{iconName:s3,color:"var(--ai-provider-item-icon-color)",size:20,isActive:c}),items:[{text:h("Edit"),onClick:()=>n(!0)},{text:"",onClick:()=>{},isSeparator:!0},{icon:w.jsx(un,{iconName:i3,size:20}),text:h("Delete"),onClick:()=>s(!0)}],side:"right",align:"start",sideOffset:0,containerRef:i})})]}),e?w.jsx(IY,{name:t.name,onClose:()=>n(!1)}):null,r?w.jsx(LY,{name:t.name,onClose:()=>s(!1)}):null]})},ZR=wt.getProvidersInfo(),NY=({onClose:t})=>{const{addProvider:e}=xs(),{t:n}=Nt(),[r,s]=Ee.useState(ZR[0]),[i,a]=Ee.useState({name:"",url:r.baseUrl,key:""}),[c,u]=Ee.useState({key:"",url:"",name:""}),d=Ee.useRef(null),h=y=>{a(_=>({..._,[y.target.name]:y.target.value})),u(_=>({..._,[y.target.name]:""}))},m=async()=>{const y=await e({type:r.type,name:i.name,key:i.key,baseUrl:i.url});typeof y=="boolean"&&y?t():y&&u(_=>({..._,[y.field]:y.message}))};Ee.useEffect(()=>{a(y=>({...y,url:r.baseUrl}))},[r]);const g=!i.name||!i.url||!!c.key||!!c.url||!!c.name;return w.jsx(Bd,{open:!0,children:w.jsx($d,{header:n("AIProvider"),onClose:t,ref:d,children:w.jsxs("div",{className:a4,children:[w.jsxs("div",{className:l4,children:[w.jsx(Ao,{header:n("Provider"),children:w.jsx(V2,{value:r.name,items:ZR.map(y=>({text:y.name,id:y.name,onClick:()=>s(y)}))})}),w.jsx(Ao,{header:n("Name"),error:c.name,children:w.jsx(Si,{name:"name",onChange:h,value:i.name,isError:!!c.name,placeholder:n("EnterName"),className:"w-full"})}),w.jsx(Ao,{header:n("URL"),error:c.url,children:w.jsx(Si,{name:"url",onChange:h,value:i.url,isError:!!c.url,placeholder:n("EnterURL"),className:"w-full"})}),w.jsx(Ao,{header:n("APIKey"),error:c.key,children:w.jsx(Si,{name:"key",onChange:h,value:i.key,isError:!!c.key,placeholder:n("EnterKey"),className:"w-full"})})]}),w.jsxs("div",{className:c4,children:[w.jsx(Pr,{variant:"default",onClick:t,children:n("Cancel")}),w.jsx(Pr,{onClick:m,disabled:g,children:n("AddProvider")})]})]})})})},jY=({isActive:t})=>{const[e,n]=Ee.useState(!1),{providers:r}=xs(),{t:s}=Nt();return w.jsxs(w.Fragment,{children:[w.jsx(Pr,{className:"max-w-[fit-content]",onClick:()=>n(!0),disabled:!t,children:s("AddProvider")}),w.jsx("div",{className:Fe("grid grid-cols-2 gap-[16px]",t?"":"opacity-70 pointer-events-none"),children:r.map(i=>w.jsx(DY,{provider:i},i.name))}),e?w.jsx(NY,{onClose:()=>n(!1)}):null]})},BY=({isActive:t})=>{const{t:e}=Nt();return w.jsx(Pr,{className:"max-w-[fit-content]",disabled:!t,children:e("RegisterConnectWallet")})},$Y=()=>{const{t}=Nt(),[e,n]=Ee.useState("providers"),r=w.jsxs("div",{className:"flex flex-col gap-[16px] select-none",children:[null,["providers"].map(s=>{const i=s==="wallet";return w.jsxs("div",{className:"flex gap-[12px]",children:[null,w.jsxs("div",{className:"select-none flex flex-col gap-[12px]",children:[w.jsxs("div",{className:"flex flex-col gap-[4px]",children:[w.jsx("h2",{className:"font-normal text-[14px] leading-[20px] text-[var(--text-normal)] cursor-pointer",onClick:()=>n(s),children:t(i?"ONLYOFFICEWallet":"AIProviders")}),w.jsx("p",{className:"text-[14px] leading-[20px] text-[var(--settings-description-color)] mt-[4px]",children:t(i?"ONLYOFFICEWalletDescription":"AIProvidersDescription")})]}),i?w.jsx(BY,{isActive:e===s}):w.jsx(jY,{isActive:e===s})]})]},s)})]});return w.jsx(w.Fragment,{children:w.jsx("div",{className:"flex justify-center",children:w.jsxs("div",{className:"flex flex-col gap-[16px] box-border max-w-[640px] w-[640px] mt-[32px]",children:[w.jsx("h1",{className:"select-none font-bold text-[20px] leading-[28px] text-[var(--settings-header-color)]",children:t("Settings")}),w.jsx(mW,{items:[{value:"ai-settings",label:t("Connection"),content:r}]})]})})})},u4=C.createContext({});function VY(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const U2=typeof window<"u",UY=U2?C.useLayoutEffect:C.useEffect,F2=C.createContext(null);function z2(t,e){t.indexOf(e)===-1&&t.push(e)}function H2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ai=(t,e,n)=>n>e?e:n<t?t:n;let q2=()=>{};const Ri={},f4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function d4(t){return typeof t=="object"&&t!==null}const h4=t=>/^0[^.\s]+$/u.test(t);function G2(t){let e;return()=>(e===void 0&&(e=t()),e)}const es=t=>t,FY=(t,e)=>n=>e(t(n)),Vd=(...t)=>t.reduce(FY),dd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class W2{constructor(){this.subscriptions=[]}add(e){return z2(this.subscriptions,e),()=>H2(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qs=t=>t*1e3,Gs=t=>t/1e3;function p4(t,e){return e?t*(1e3/e):0}const m4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zY=1e-7,HY=12;function qY(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=m4(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>zY&&++c<HY);return a}function Ud(t,e,n,r){if(t===e&&n===r)return es;const s=i=>qY(i,0,1,t,n);return i=>i===0||i===1?i:m4(s(i),e,r)}const g4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,y4=t=>e=>1-t(1-e),b4=Ud(.33,1.53,.69,.99),K2=y4(b4),v4=g4(K2),_4=t=>(t*=2)<1?.5*K2(t):.5*(2-Math.pow(2,-10*(t-1))),Y2=t=>1-Math.sin(Math.acos(t)),w4=y4(Y2),x4=g4(Y2),GY=Ud(.42,0,1,1),WY=Ud(0,0,.58,1),S4=Ud(.42,0,.58,1),KY=t=>Array.isArray(t)&&typeof t[0]!="number",E4=t=>Array.isArray(t)&&typeof t[0]=="number",YY={linear:es,easeIn:GY,easeInOut:S4,easeOut:WY,circIn:Y2,circInOut:x4,circOut:w4,backIn:K2,backInOut:v4,backOut:b4,anticipate:_4},XY=t=>typeof t=="string",QR=t=>{if(E4(t)){q2(t.length===4);const[e,n,r,s]=t;return Ud(e,n,r,s)}else if(XY(t))return YY[t];return t},sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(d.schedule(h),t()),h(c)}const d={schedule:(h,m=!1,g=!1)=>{const _=g&&s?n:r;return m&&a.add(h),_.has(h)||_.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(c=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const ZY=40;function C4(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=sm.reduce((k,L)=>(k[L]=JY(i),k),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:h,update:m,preRender:g,render:y,postRender:_}=a,x=()=>{const k=Ri.useManualTiming?s.timestamp:performance.now();n=!1,Ri.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,ZY),1)),s.timestamp=k,s.isProcessing=!0,c.process(s),u.process(s),d.process(s),h.process(s),m.process(s),g.process(s),y.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},E=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:sm.reduce((k,L)=>{const I=a[L];return k[L]=(P,j=!1,$=!1)=>(n||E(),I.schedule(P,j,$)),k},{}),cancel:k=>{for(let L=0;L<sm.length;L++)a[sm[L]].cancel(k)},state:s,steps:a}}const{schedule:St,cancel:Do,state:gn,steps:Vv}=C4(typeof requestAnimationFrame<"u"?requestAnimationFrame:es,!0);let Vm;function QY(){Vm=void 0}const or={now:()=>(Vm===void 0&&or.set(gn.isProcessing||Ri.useManualTiming?gn.timestamp:performance.now()),Vm),set:t=>{Vm=t,queueMicrotask(QY)}},T4=t=>e=>typeof e=="string"&&e.startsWith(t),X2=T4("--"),eX=T4("var(--"),J2=t=>eX(t)?tX.test(t.split("/*")[0].trim()):!1,tX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hd={...Mc,transform:t=>Ai(0,1,t)},im={...Mc,default:1},Hf=t=>Math.round(t*1e5)/1e5,Z2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nX(t){return t==null}const rX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q2=(t,e)=>n=>!!(typeof n=="string"&&rX.test(n)&&n.startsWith(t)||e&&!nX(n)&&Object.prototype.hasOwnProperty.call(n,e)),A4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(Z2);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},sX=t=>Ai(0,255,t),Uv={...Mc,transform:t=>Math.round(sX(t))},_a={test:Q2("rgb","red"),parse:A4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uv.transform(t)+", "+Uv.transform(e)+", "+Uv.transform(n)+", "+Hf(hd.transform(r))+")"};function iX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rw={test:Q2("#"),parse:iX,transform:_a.transform},Fd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),So=Fd("deg"),Ws=Fd("%"),Be=Fd("px"),oX=Fd("vh"),aX=Fd("vw"),ek={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},Xl={test:Q2("hsl","hue"),parse:A4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ws.transform(Hf(e))+", "+Ws.transform(Hf(n))+", "+Hf(hd.transform(r))+")"},Ft={test:t=>_a.test(t)||Rw.test(t)||Xl.test(t),parse:t=>_a.test(t)?_a.parse(t):Xl.test(t)?Xl.parse(t):Rw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_a.transform(t):Xl.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},lX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cX(t){return isNaN(t)&&typeof t=="string"&&(t.match(Z2)?.length||0)+(t.match(lX)?.length||0)>0}const R4="number",k4="color",uX="var",fX="var(",tk="${}",dX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(dX,u=>(Ft.test(u)?(r.color.push(i),s.push(k4),n.push(Ft.parse(u))):u.startsWith(fX)?(r.var.push(i),s.push(uX),n.push(u)):(r.number.push(i),s.push(R4),n.push(parseFloat(u))),++i,tk)).split(tk);return{values:n,split:c,indexes:r,types:s}}function M4(t){return pd(t).values}function O4(t){const{split:e,types:n}=pd(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===R4?i+=Hf(s[a]):c===k4?i+=Ft.transform(s[a]):i+=s[a]}return i}}const hX=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function pX(t){const e=M4(t);return O4(t)(e.map(hX))}const No={test:cX,parse:M4,createTransformer:O4,getAnimatableNone:pX};function Fv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Fv(u,c,t+1/3),i=Fv(u,c,t),a=Fv(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function _g(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,zv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},gX=[Rw,_a,Xl],yX=t=>gX.find(e=>e.test(t));function nk(t){const e=yX(t);if(!e)return!1;let n=e.parse(t);return e===Xl&&(n=mX(n)),n}const rk=(t,e)=>{const n=nk(t),r=nk(e);if(!n||!r)return _g(t,e);const s={...n};return i=>(s.red=zv(n.red,r.red,i),s.green=zv(n.green,r.green,i),s.blue=zv(n.blue,r.blue,i),s.alpha=At(n.alpha,r.alpha,i),_a.transform(s))},kw=new Set(["none","hidden"]);function bX(t,e){return kw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vX(t,e){return n=>At(t,e,n)}function e1(t){return typeof t=="number"?vX:typeof t=="string"?J2(t)?_g:Ft.test(t)?rk:xX:Array.isArray(t)?P4:typeof t=="object"?Ft.test(t)?rk:_X:_g}function P4(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>e1(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function _X(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=e1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function wX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const xX=(t,e)=>{const n=No.createTransformer(e),r=pd(t),s=pd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?kw.has(t)&&!s.values.length||kw.has(e)&&!r.values.length?bX(t,e):Vd(P4(wX(r,s),s.values),n):_g(t,e)};function I4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):e1(t)(t,e)}const SX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>Do(e),now:()=>gn.isProcessing?gn.timestamp:or.now()}},L4=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wg=2e4;function t1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wg;)e+=n,r=t.next(e);return e>=wg?1/0:e}function EX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(t1(r),wg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Gs(s)}}const CX=5;function D4(t,e,n){const r=Math.max(e-CX,0);return p4(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hv=.001;function TX({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let s,i,a=1-e;a=Ai(Pt.minDamping,Pt.maxDamping,a),t=Ai(Pt.minDuration,Pt.maxDuration,Gs(t)),a<1?(s=d=>{const h=d*a,m=h*t,g=h-n,y=Mw(d,a),_=Math.exp(-m);return Hv-g/y*_},i=d=>{const m=d*a*t,g=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,_=Math.exp(-m),x=Mw(Math.pow(d,2),a);return(-s(d)+Hv>0?-1:1)*((g-y)*_)/x}):(s=d=>{const h=Math.exp(-d*t),m=(d-n)*t+1;return-Hv+h*m},i=d=>{const h=Math.exp(-d*t),m=(n-d)*(t*t);return h*m});const c=5/t,u=RX(s,i,c);if(t=qs(t),isNaN(u))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const AX=12;function RX(t,e,n){let r=n;for(let s=1;s<AX;s++)r=r-t(r)/e(r);return r}function Mw(t,e){return t*Math.sqrt(1-e*e)}const kX=["duration","bounce"],MX=["stiffness","damping","mass"];function sk(t,e){return e.some(n=>t[n]!==void 0)}function OX(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!sk(t,MX)&&sk(t,kX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ai(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:i}}else{const n=TX(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function xg(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:d,mass:h,duration:m,velocity:g,isResolvedFromDuration:y}=OX({...n,velocity:-Gs(n.velocity||0)}),_=g||0,x=d/(2*Math.sqrt(u*h)),E=a-i,S=Gs(Math.sqrt(u/h)),T=Math.abs(E)<5;r||(r=T?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=T?Pt.restDelta.granular:Pt.restDelta.default);let k;if(x<1){const I=Mw(S,x);k=P=>{const j=Math.exp(-x*S*P);return a-j*((_+x*S*E)/I*Math.sin(I*P)+E*Math.cos(I*P))}}else if(x===1)k=I=>a-Math.exp(-S*I)*(E+(_+S*E)*I);else{const I=S*Math.sqrt(x*x-1);k=P=>{const j=Math.exp(-x*S*P),$=Math.min(I*P,300);return a-j*((_+x*S*E)*Math.sinh($)+I*E*Math.cosh($))/I}}const L={calculatedDuration:y&&m||null,next:I=>{const P=k(I);if(y)c.done=I>=m;else{let j=I===0?_:0;x<1&&(j=I===0?qs(_):D4(k,I,P));const $=Math.abs(j)<=r,H=Math.abs(a-P)<=s;c.done=$&&H}return c.value=c.done?a:P,c},toString:()=>{const I=Math.min(t1(L),wg),P=L4(j=>L.next(I*j).value,I,30);return I+"ms "+P},toTransition:()=>{}};return L}xg.applyToOptions=t=>{const e=EX(t,100,xg);return t.ease=e.ease,t.duration=qs(e.duration),t.type="keyframes",t};function Ow({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:h}){const m=t[0],g={done:!1,value:m},y=$=>c!==void 0&&$<c||u!==void 0&&$>u,_=$=>c===void 0?u:u===void 0||Math.abs(c-$)<Math.abs(u-$)?c:u;let x=n*e;const E=m+x,S=a===void 0?E:a(E);S!==E&&(x=S-m);const T=$=>-x*Math.exp(-$/r),k=$=>S+T($),L=$=>{const H=T($),B=k($);g.done=Math.abs(H)<=d,g.value=g.done?S:B};let I,P;const j=$=>{y(g.value)&&(I=$,P=xg({keyframes:[g.value,_(g.value)],velocity:D4(k,$,g.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return j(0),{calculatedDuration:null,next:$=>{let H=!1;return!P&&I===void 0&&(H=!0,L($),j($)),I!==void 0&&$>=I?P.next($-I):(!H&&L($),g)}}}function PX(t,e,n){const r=[],s=n||Ri.mix||I4,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||es:e;c=Vd(u,c)}r.push(c)}return r}function IX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(q2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=PX(e,r,s),u=c.length,d=h=>{if(a&&h<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=dd(t[m],t[m+1],h);return c[m](g)};return n?h=>d(Ai(t[0],t[i-1],h)):d}function LX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=dd(0,e,r);t.push(At(n,1,s))}}function DX(t){const e=[0];return LX(e,t.length-1),e}function NX(t,e){return t.map(n=>n*e)}function jX(t,e){return t.map(()=>e||S4).splice(0,t.length-1)}function qf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KY(r)?r.map(QR):QR(r),i={done:!1,value:e[0]},a=NX(n&&n.length===e.length?n:DX(e),t),c=IX(a,e,{ease:Array.isArray(s)?s:jX(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const BX=t=>t!==null;function n1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(BX),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const $X={decay:Ow,inertia:Ow,tween:qf,keyframes:qf,spring:xg};function N4(t){typeof t.type=="string"&&(t.type=$X[t.type])}class r1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VX=t=>t/100;class s1 extends r1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==or.now()&&this.tick(or.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N4(e);const{type:n=qf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const u=n||qf;u!==qf&&typeof c[0]!="number"&&(this.mixKeyframes=Vd(VX,I4(c[0],c[1])),c=[0,100]);const d=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=t1(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:g,repeatDelay:y,type:_,onUpdate:x,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,L=r;if(m){const $=Math.min(this.currentTime,s)/c;let H=Math.floor($),B=$%1;!B&&$>=1&&(B=1),B===1&&H--,H=Math.min(H,m+1),!!(H%2)&&(g==="reverse"?(B=1-B,y&&(B-=y/c)):g==="mirror"&&(L=a)),k=Ai(0,1,B)*c}const I=T?{done:!1,value:h[0]}:L.next(k);i&&(I.value=i(I.value));let{done:P}=I;!T&&u!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return j&&_!==Ow&&(I.value=n1(h,this.options,E,this.speed)),x&&x(I.value),j&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Gs(this.calculatedDuration)}get time(){return Gs(this.currentTime)}set time(e){e=qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(or.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SX,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(or.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wa=t=>t*180/Math.PI,Pw=t=>{const e=wa(Math.atan2(t[1],t[0]));return Iw(e)},FX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pw,rotateZ:Pw,skewX:t=>wa(Math.atan(t[1])),skewY:t=>wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iw=t=>(t=t%360,t<0&&(t+=360),t),ik=Pw,ok=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ak=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ok,scaleY:ak,scale:t=>(ok(t)+ak(t))/2,rotateX:t=>Iw(wa(Math.atan2(t[6],t[5]))),rotateY:t=>Iw(wa(Math.atan2(-t[2],t[0]))),rotateZ:ik,rotate:ik,skewX:t=>wa(Math.atan(t[4])),skewY:t=>wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lw(t){return t.includes("scale")?1:0}function Dw(t,e){if(!t||t==="none")return Lw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=zX,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FX,s=c}if(!s)return Lw(e);const i=r[e],a=s[1].split(",").map(qX);return typeof i=="function"?i(a):a[i]}const HX=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dw(n,e)};function qX(t){return parseFloat(t.trim())}const Oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pc=new Set(Oc),lk=t=>t===Mc||t===Be,GX=new Set(["x","y","z"]),WX=Oc.filter(t=>!GX.has(t));function KX(t){const e=[];return WX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dw(e,"x"),y:(t,{transform:e})=>Dw(e,"y")};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const Ca=new Set;let Nw=!1,jw=!1,Bw=!1;function j4(){if(jw){const t=Array.from(Ca).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=KX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jw=!1,Nw=!1,Ca.forEach(t=>t.complete(Bw)),Ca.clear()}function B4(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jw=!0)})}function YX(){Bw=!0,B4(),j4(),Bw=!1}class i1{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),Nw||(Nw=!0,St.read(B4),St.resolveKeyframes(j4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}UX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XX=t=>t.startsWith("--");function JX(t,e,n){XX(e)?t.style.setProperty(e,n):t.style[e]=n}const ZX=G2(()=>window.ScrollTimeline!==void 0),QX={};function eJ(t,e){const n=G2(t);return()=>QX[e]??n()}const $4=eJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),If=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ck={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:If([0,.65,.55,1]),circOut:If([.55,0,1,.45]),backIn:If([.31,.01,.66,-.59]),backOut:If([.33,1.53,.69,.99])};function V4(t,e){if(t)return typeof t=="function"?$4()?L4(t,e):"ease-out":E4(t)?If(t):Array.isArray(t)?t.map(n=>V4(n,e)||ck.easeOut):ck[t]}function tJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},d=void 0){const h={[e]:n};u&&(h.offset=u);const m=V4(c,s);Array.isArray(m)&&(h.easing=m);const g={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(h,g)}function U4(t){return typeof t=="function"&&"applyToOptions"in t}function nJ({type:t,...e}){return U4(t)&&$4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rJ extends r1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,q2(typeof e.type!="string");const d=nJ(e);this.animation=tJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=n1(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):JX(n,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gs(Number(e))}get time(){return Gs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ZX()?(this.animation.timeline=e,es):n(this)}}const F4={anticipate:_4,backInOut:v4,circInOut:x4};function sJ(t){return t in F4}function iJ(t){typeof t.ease=="string"&&sJ(t.ease)&&(t.ease=F4[t.ease])}const uk=10;class oJ extends rJ{constructor(e){iJ(e),N4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new s1({...a,autoplay:!1}),u=qs(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-uk).value,c.sample(u).value,uk),c.stop()}}const fk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function aJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=fk(s,e),c=fk(i,e);return!a||!c?!1:aJ(t)||(n==="spring"||U4(n))&&r}function $w(t){t.duration=0,t.type}const cJ=new Set(["opacity","clipPath","filter","transform"]),uJ=G2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fJ(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return uJ()&&n&&cJ.has(n)&&(n!=="transform"||!d)&&!u&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const dJ=40;class hJ extends r1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=or.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:d,element:h,...m},y=h?.KeyframeResolver||i1;this.keyframeResolver=new y(c,(_,x,E)=>this.onKeyframesResolved(_,x,g,!E),u,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=or.now(),lJ(e,i,a,c)||((Ri.instantAnimations||!u)&&h?.(n1(e,r,n)),e[0]=e[e.length-1],$w(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>dJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&fJ(g)?new oJ({...g,element:g.motionValue.owner.current}):new s1(g);y.finished.then(()=>this.notifyFinished()).catch(es),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mJ(t){const e=pJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function z4(t,e,n=1){const[r,s]=mJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return f4(a)?parseFloat(a):a}return J2(s)?z4(s,e,n+1):s}function o1(t,e){return t?.[e]??t?.default??t}const H4=new Set(["width","height","top","left","right","bottom",...Oc]),gJ={test:t=>t==="auto",parse:t=>t},q4=t=>e=>e.test(t),G4=[Mc,Be,Ws,So,aX,oX,gJ],dk=t=>G4.find(q4(t));function yJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||h4(t):!0}const bJ=new Set(["brightness","contrast","saturate","opacity"]);function vJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Z2)||[];if(!r)return t;const s=n.replace(r,"");let i=bJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const _J=/\b([a-z-]*)\(.*?\)/gu,Vw={...No,getAnimatableNone:t=>{const e=t.match(_J);return e?e.map(vJ).join(" "):t}},hk={...Mc,transform:Math.round},wJ={rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:im,scaleX:im,scaleY:im,scaleZ:im,skew:So,skewX:So,skewY:So,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:hd,originX:ek,originY:ek,originZ:Be},a1={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...wJ,zIndex:hk,fillOpacity:hd,strokeOpacity:hd,numOctaves:hk},xJ={...a1,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Vw,WebkitFilter:Vw},W4=t=>xJ[t];function K4(t,e){let n=W4(t);return n!==Vw&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SJ=new Set(["auto","none","0"]);function EJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!SJ.has(i)&&pd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=K4(n,s)}class CJ extends i1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),J2(d))){const h=z4(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!H4.has(r)||e.length!==2)return;const[s,i]=e,a=dk(s),c=dk(i);if(a!==c)if(lk(a)&&lk(c))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Ea[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||yJ(e[s]))&&r.push(s);r.length&&EJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function TJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Y4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function AJ(t){return d4(t)&&"offsetHeight"in t}const pk=30,RJ=t=>!isNaN(parseFloat(t));class kJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=or.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new W2);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pk);return p4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(t,e){return new kJ(t,e)}const{schedule:l1}=C4(queueMicrotask,!1),us={x:!1,y:!1};function X4(){return us.x||us.y}function MJ(t){return t==="x"||t==="y"?us[t]?null:(us[t]=!0,()=>{us[t]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function J4(t,e){const n=TJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function mk(t){return!(t.pointerType==="touch"||X4())}function OJ(t,e,n={}){const[r,s,i]=J4(t,n),a=c=>{if(!mk(c))return;const{target:u}=c,d=e(u,c);if(typeof d!="function"||!u)return;const h=m=>{mk(m)&&(d(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const Z4=(t,e)=>e?t===e?!0:Z4(t,e.parentElement):!1,c1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IJ(t){return PJ.has(t.tagName)||t.tabIndex!==-1}const Um=new WeakSet;function gk(t){return e=>{e.key==="Enter"&&t(e)}}function qv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gk(()=>{if(Um.has(n))return;qv(n,"down");const s=gk(()=>{qv(n,"up")}),i=()=>qv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yk(t){return c1(t)&&!X4()}function DJ(t,e,n={}){const[r,s,i]=J4(t,n),a=c=>{const u=c.currentTarget;if(!yk(c))return;Um.add(u);const d=e(u,c),h=(y,_)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Um.has(u)&&Um.delete(u),yk(y)&&typeof d=="function"&&d(y,{success:_})},m=y=>{h(y,u===window||u===document||n.useGlobalTarget||Z4(u,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",g,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),AJ(c)&&(c.addEventListener("focus",d=>LJ(d,s)),!IJ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function Q4(t){return d4(t)&&"ownerSVGElement"in t}function NJ(t){return Q4(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),jJ=[...G4,Ft,No],BJ=t=>jJ.find(q4(t)),e5=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $J(t=!0){const e=C.useContext(F2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{if(t)return s(i)},[t]);const a=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const t5=C.createContext({strict:!1}),bk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gc={};for(const t in bk)gc[t]={isEnabled:e=>bk[t].some(n=>!!e[n])};function VJ(t){for(const e in t)gc[e]={...gc[e],...t[e]}}const UJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UJ.has(t)}let n5=t=>!Sg(t);function FJ(t){typeof t=="function"&&(n5=e=>e.startsWith("on")?!Sg(e):t(e))}try{FJ(require("@emotion/is-prop-valid").default)}catch{}function zJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(n5(s)||n===!0&&Sg(s)||!e&&!Sg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Ey=C.createContext({});function Cy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function md(t){return typeof t=="string"||Array.isArray(t)}const u1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f1=["initial",...u1];function Ty(t){return Cy(t.animate)||f1.some(e=>md(t[e]))}function r5(t){return!!(Ty(t)||t.variants)}function HJ(t,e){if(Ty(t)){const{initial:n,animate:r}=t;return{initial:n===!1||md(n)?n:void 0,animate:md(r)?r:void 0}}return t.inherit!==!1?e:{}}function qJ(t){const{initial:e,animate:n}=HJ(t,C.useContext(Ey));return C.useMemo(()=>({initial:e,animate:n}),[vk(e),vk(n)])}function vk(t){return Array.isArray(t)?t.join(" "):t}const gd={};function GJ(t){for(const e in t)gd[e]=t[e],X2(e)&&(gd[e].isCSSVariable=!0)}function s5(t,{layout:e,layoutId:n}){return Pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gd[t]||t==="opacity")}const WJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KJ=Oc.length;function YJ(t,e,n){let r="",s=!0;for(let i=0;i<KJ;i++){const a=Oc[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const d=Y4(c,a1[a]);if(!u){s=!1;const h=WJ[a]||a;r+=`${h}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function d1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const d=e[u];if(Pc.has(u)){a=!0;continue}else if(X2(u)){s[u]=d;continue}else{const h=Y4(d,a1[u]);u.startsWith("origin")?(c=!0,i[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=YJ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${d} ${h}`}}const h1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i5(t,e,n){for(const r in e)!Dn(e[r])&&!s5(r,n)&&(t[r]=e[r])}function XJ({transformTemplate:t},e){return C.useMemo(()=>{const n=h1();return d1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function JJ(t,e){const n=t.style||{},r={};return i5(r,n,t),Object.assign(r,XJ(t,e)),r}function ZJ(t,e){const n={},r=JJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},eZ={offset:"strokeDashoffset",array:"strokeDasharray"};function tZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?QJ:eZ;t[i.offset]=Be.transform(-r);const a=Be.transform(e),c=Be.transform(n);t[i.array]=`${a} ${c}`}function o5(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},u,d,h){if(d1(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&tZ(m,s,i,a,!1)}const a5=()=>({...h1(),attrs:{}}),l5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nZ(t,e,n,r){const s=C.useMemo(()=>{const i=a5();return o5(i,e,l5(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};i5(i,t.style,t),s.style={...i,...s.style}}return s}const rZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p1(t){return typeof t!="string"||t.includes("-")?!1:!!(rZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function sZ(t,e,n,{latestValues:r},s,i=!1){const c=(p1(t)?nZ:ZJ)(e,r,s,t),u=zJ(e,typeof t=="string",i),d=t!==C.Fragment?{...u,...c,ref:n}:{},{children:h}=e,m=C.useMemo(()=>Dn(h)?h.get():h,[h]);return C.createElement(t,{...d,children:m})}function _k(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function m1(t,e,n,r){if(typeof e=="function"){const[s,i]=_k(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=_k(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Fm(t){return Dn(t)?t.get():t}function iZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:oZ(n,r,s,t),renderState:e()}}function oZ(t,e,n,r){const s={},i=r(t,{});for(const g in i)s[g]=Fm(i[g]);let{initial:a,animate:c}=t;const u=Ty(t),d=r5(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const m=h?c:a;if(m&&typeof m!="boolean"&&!Cy(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const _=m1(t,g[y]);if(_){const{transitionEnd:x,transition:E,...S}=_;for(const T in S){let k=S[T];if(Array.isArray(k)){const L=h?k.length-1:0;k=k[L]}k!==null&&(s[T]=k)}for(const T in x)s[T]=x[T]}}}return s}const c5=t=>(e,n)=>{const r=C.useContext(Ey),s=C.useContext(F2),i=()=>iZ(t,e,r,s);return n?i():VY(i)};function g1(t,e,n){const{style:r}=t,s={};for(const i in r)(Dn(r[i])||e.style&&Dn(e.style[i])||s5(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const aZ=c5({scrapeMotionValuesFromProps:g1,createRenderState:h1});function u5(t,e,n){const r=g1(t,e,n);for(const s in t)if(Dn(t[s])||Dn(e[s])){const i=Oc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const lZ=c5({scrapeMotionValuesFromProps:u5,createRenderState:a5}),cZ=Symbol.for("motionComponentSymbol");function Jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uZ(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jl(n)&&(n.current=r))},[e,n])}const y1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fZ="framerAppearId",f5="data-"+y1(fZ),d5=C.createContext({});function dZ(t,e,n,r,s){const{visualElement:i}=C.useContext(Ey),a=C.useContext(t5),c=C.useContext(F2),u=C.useContext(e5).reducedMotion,d=C.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=C.useContext(d5);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&hZ(d.current,n,s,m);const g=C.useRef(!1);C.useInsertionEffect(()=>{h&&g.current&&h.update(n,c)});const y=n[f5],_=C.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return UY(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),_.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),_.current=!1),h.enteringChildren=void 0)}),h}function hZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:h5(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&Jl(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function h5(t){if(t)return t.options.allowProjection!==!1?t.projection:h5(t.parent)}function Gv(t,{forwardMotionProps:e=!1}={},n,r){n&&VJ(n);const s=p1(t)?lZ:aZ;function i(c,u){let d;const h={...C.useContext(e5),...c,layoutId:pZ(c)},{isStatic:m}=h,g=qJ(c),y=s(c,m);if(!m&&U2){mZ();const _=gZ(h);d=_.MeasureLayout,g.visualElement=dZ(t,y,h,r,_.ProjectionNode)}return w.jsxs(Ey.Provider,{value:g,children:[d&&g.visualElement?w.jsx(d,{visualElement:g.visualElement,...h}):null,sZ(t,c,uZ(y,g.visualElement,u),y,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(i);return a[cZ]=t,a}function pZ({layoutId:t}){const e=C.useContext(u4).id;return e&&t!==void 0?e+"-"+t:t}function mZ(t,e){C.useContext(t5).strict}function gZ(t){const{drag:e,layout:n}=gc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yZ(t,e){if(typeof Proxy>"u")return Gv;const n=new Map,r=(i,a)=>Gv(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Gv(a,void 0,t,e)),n.get(a))})}function p5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wv(t){return t===void 0||t===1}function Uw({scale:t,scaleX:e,scaleY:n}){return!Wv(t)||!Wv(e)||!Wv(n)}function ha(t){return Uw(t)||m5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function m5(t){return wk(t.x)||wk(t.y)}function wk(t){return t&&t!=="0%"}function Eg(t,e,n){const r=t-n,s=e*r;return n+s}function xk(t,e,n,r,s){return s!==void 0&&(t=Eg(t,s,r)),Eg(t,n,r)+e}function Fw(t,e=0,n=1,r,s){t.min=xk(t.min,e,n,r,s),t.max=xk(t.max,e,n,r,s)}function g5(t,{x:e,y:n}){Fw(t.x,e.translate,e.scale,e.originPoint),Fw(t.y,n.translate,n.scale,n.originPoint)}const Sk=.999999999999,Ek=1.0000000000001;function _Z(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ql(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,g5(t,a)),r&&ha(i.latestValues)&&Ql(t,i.latestValues))}e.x<Ek&&e.x>Sk&&(e.x=1),e.y<Ek&&e.y>Sk&&(e.y=1)}function Zl(t,e){t.min=t.min+e,t.max=t.max+e}function Ck(t,e,n,r,s=.5){const i=At(t.min,t.max,s);Fw(t,e,n,i,r)}function Ql(t,e){Ck(t.x,e.x,e.scaleX,e.scale,e.originX),Ck(t.y,e.y,e.scaleY,e.scale,e.originY)}function y5(t,e){return p5(vZ(t.getBoundingClientRect(),e))}function wZ(t,e,n){const r=y5(t,n),{scroll:s}=e;return s&&(Zl(r.x,s.offset.x),Zl(r.y,s.offset.y)),r}const Tk=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:Tk(),y:Tk()}),Ak=()=>({min:0,max:0}),Dt=()=>({x:Ak(),y:Ak()}),zw={current:null},b5={current:!1};function xZ(){if(b5.current=!0,!!U2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zw.current=t.matches;t.addEventListener("change",e),e()}else zw.current=!1}const SZ=new WeakMap;function EZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Dn(s))t.addValue(r,s);else if(Dn(i))t.addValue(r,mc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,mc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=or.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,St.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Ty(n),this.isVariantNode=r5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const y=m[g];u[g]!==void 0&&Dn(y)&&y.set(u[g])}}mount(e){this.current=e,SZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b5.current||xZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gc){const n=gc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rk.length;r++){const s=Rk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=EZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f4(r)||h4(r))?r=parseFloat(r):!BJ(r)&&No.test(n)&&(r=K4(e,n)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=m1(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new W2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){l1.render(this.render)}}class v5 extends CZ{constructor(){super(...arguments),this.KeyframeResolver=CJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _5(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function TZ(t){return window.getComputedStyle(t)}class AZ extends v5{constructor(){super(...arguments),this.type="html",this.renderInstance=_5}readValueFromInstance(e,n){if(Pc.has(n))return this.projection?.isProjecting?Lw(n):HX(e,n);{const r=TZ(e),s=(X2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y5(e,n)}build(e,n,r){d1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return g1(e,n,r)}}const w5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RZ(t,e,n,r){_5(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(w5.has(s)?s:y1(s),e.attrs[s])}class kZ extends v5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pc.has(n)){const r=W4(n);return r&&r.default||0}return n=w5.has(n)?n:y1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return u5(e,n,r)}build(e,n,r){o5(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){RZ(e,n,r,s)}mount(e){this.isSVGTag=l5(e.tagName),super.mount(e)}}const MZ=(t,e)=>p1(t)?new kZ(e):new AZ(e,{allowProjection:t!==C.Fragment});function lc(t,e,n){const r=t.getProps();return m1(r,e,n!==void 0?n:r.custom,t)}const Hw=t=>Array.isArray(t);function OZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mc(n))}function PZ(t){return Hw(t)?t[t.length-1]||0:t}function IZ(t,e){const n=lc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=PZ(i[a]);OZ(t,a,c)}}function LZ(t){return!!(Dn(t)&&t.add)}function qw(t,e){const n=t.getValue("willChange");if(LZ(n))return n.add(e);if(!n&&Ri.WillChange){const r=new Ri.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function x5(t){return t.props[f5]}const DZ=t=>t!==null;function NZ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(DZ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const jZ={type:"spring",stiffness:500,damping:25,restSpeed:10},BZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$Z={type:"keyframes",duration:.8},VZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UZ=(t,{keyframes:e})=>e.length>2?$Z:Pc.has(t)?t.startsWith("scale")?BZ(e[1]):jZ:VZ;function FZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const b1=(t,e,n,r={},s,i)=>a=>{const c=o1(r,t)||{},u=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-qs(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};FZ(c)||Object.assign(h,UZ(t,h)),h.duration&&(h.duration=qs(h.duration)),h.repeatDelay&&(h.repeatDelay=qs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&($w(h),h.delay===0&&(m=!0)),(Ri.instantAnimations||Ri.skipAnimations)&&(m=!0,$w(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,m&&!i&&e.get()!==void 0){const g=NZ(h.keyframes,c);if(g!==void 0){St.update(()=>{h.onUpdate(g),h.onComplete()});return}}return c.isSync?new s1(h):new hJ(h)};function zZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function S5(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const m=t.getValue(h,t.latestValues[h]??null),g=c[h];if(g===void 0||d&&zZ(d,h))continue;const y={delay:n,...o1(i||{},h)},_=m.get();if(_!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===_&&!y.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const S=x5(t);if(S){const T=window.MotionHandoffAnimation(S,h,St);T!==null&&(y.startTime=T,x=!0)}}qw(t,h),m.start(b1(h,m,g,t.shouldReduceMotion&&H4.has(h)?{type:!1}:y,t,x));const E=m.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{St.update(()=>{a&&IZ(t,a)})}),u}function E5(t,e,n,r=0,s=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}function Gw(t,e,n={}){const r=lc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(S5(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return HZ(t,e,u,d,h,m,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function HZ(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(Gw(u,e,{...a,delay:n+(typeof r=="function"?0:r)+E5(t.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function qZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Gw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Gw(t,e,n);else{const s=typeof e=="function"?lc(t,e,n.custom):e;r=Promise.all(S5(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function C5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const GZ=f1.length;function T5(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?T5(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GZ;n++){const r=f1[n],s=t.props[r];(md(s)||s===!1)&&(e[r]=s)}return e}const WZ=[...u1].reverse(),KZ=u1.length;function YZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qZ(t,n,r)))}function XZ(t){let e=YZ(t),n=kk(),r=!0;const s=u=>(d,h)=>{const m=lc(t,h,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:y,..._}=m;d={...d,..._,...y}}return d};function i(u){e=u(t)}function a(u){const{props:d}=t,h=T5(t.parent)||{},m=[],g=new Set;let y={},_=1/0;for(let E=0;E<KZ;E++){const S=WZ[E],T=n[S],k=d[S]!==void 0?d[S]:h[S],L=md(k),I=S===u?T.isActive:null;I===!1&&(_=E);let P=k===h[S]&&k!==d[S]&&L;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),T.protectedKeys={...y},!T.isActive&&I===null||!k&&!T.prevProp||Cy(k)||typeof k=="boolean")continue;const j=JZ(T.prevProp,k);let $=j||S===u&&T.isActive&&!P&&L||E>_&&L,H=!1;const B=Array.isArray(k)?k:[k];let Y=B.reduce(s(S),{});I===!1&&(Y={});const{prevResolvedValues:ne={}}=T,re={...ne,...Y},Z=X=>{$=!0,g.has(X)&&(H=!0,g.delete(X)),T.needsAnimating[X]=!0;const z=t.getValue(X);z&&(z.liveStyle=!1)};for(const X in re){const z=Y[X],le=ne[X];if(y.hasOwnProperty(X))continue;let A=!1;Hw(z)&&Hw(le)?A=!C5(z,le):A=z!==le,A?z!=null?Z(X):g.add(X):z!==void 0&&g.has(X)?Z(X):T.protectedKeys[X]=!0}T.prevProp=k,T.prevResolvedValues=Y,T.isActive&&(y={...y,...Y}),r&&t.blockInitialAnimation&&($=!1);const ae=P&&j;$&&(!ae||H)&&m.push(...B.map(X=>{const z={type:S};if(typeof X=="string"&&r&&!ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,A=lc(le,X);if(le.enteringChildren&&A){const{delayChildren:ee}=A.transition||{};z.delay=E5(le.enteringChildren,t,ee)}}return{animation:X,options:z}}))}if(g.size){const E={};if(typeof d.initial!="boolean"){const S=lc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(E.transition=S.transition)}g.forEach(S=>{const T=t.getBaseTarget(S),k=t.getValue(S);k&&(k.liveStyle=!0),E[S]=T??null}),m.push({animation:E})}let x=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(m):Promise.resolve()}function c(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),n[u].isActive=d;const h=a(u);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kk(),r=!0}}}function JZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!C5(e,t):!1}function la(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kk(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}class jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZZ extends jo{constructor(e){super(e),e.animationState||(e.animationState=XZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QZ=0;class eQ extends jo{constructor(){super(...arguments),this.id=QZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tQ={animation:{Feature:ZZ},exit:{Feature:eQ}};function yd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zd(t){return{point:{x:t.pageX,y:t.pageY}}}const nQ=t=>e=>c1(e)&&t(e,zd(e));function Gf(t,e,n,r){return yd(t,e,nQ(n),r)}const A5=1e-4,rQ=1-A5,sQ=1+A5,R5=.01,iQ=0-R5,oQ=0+R5;function Yn(t){return t.max-t.min}function aQ(t,e,n){return Math.abs(t-e)<=n}function Mk(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Yn(n)/Yn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rQ&&t.scale<=sQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=iQ&&t.translate<=oQ||isNaN(t.translate))&&(t.translate=0)}function Wf(t,e,n,r){Mk(t.x,e.x,n.x,r?r.originX:void 0),Mk(t.y,e.y,n.y,r?r.originY:void 0)}function Ok(t,e,n){t.min=n.min+e.min,t.max=t.min+Yn(e)}function lQ(t,e,n){Ok(t.x,e.x,n.x),Ok(t.y,e.y,n.y)}function Pk(t,e,n){t.min=e.min-n.min,t.max=t.min+Yn(e)}function Kf(t,e,n){Pk(t.x,e.x,n.x),Pk(t.y,e.y,n.y)}function Yr(t){return[t("x"),t("y")]}const k5=({current:t})=>t?t.ownerDocument.defaultView:null,Ik=(t,e)=>Math.abs(t-e);function cQ(t,e){const n=Ik(t.x,e.x),r=Ik(t.y,e.y);return Math.sqrt(n**2+r**2)}class M5{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Yv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=cQ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!_)return;const{point:x}=g,{timestamp:E}=gn;this.history.push({...x,timestamp:E});const{onStart:S,onMove:T}=this.handlers;y||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Kv(y,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:_,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Yv(g.type==="pointercancel"?this.lastMoveEventInfo:Kv(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,S),x&&x(g,S)},!c1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=zd(e),u=Kv(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=gn;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,Yv(u,this.history)),this.removeListeners=Vd(Gf(this.contextWindow,"pointermove",this.handlePointerMove),Gf(this.contextWindow,"pointerup",this.handlePointerUp),Gf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function Kv(t,e){return e?{point:e(t.point)}:t}function Lk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yv({point:t},e){return{point:t,delta:Lk(t,O5(e)),offset:Lk(t,uQ(e)),velocity:fQ(e,.1)}}function uQ(t){return t[0]}function O5(t){return t[t.length-1]}function fQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=O5(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>qs(e)));)n--;if(!r)return{x:0,y:0};const i=Gs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function dQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function Dk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hQ(t,{top:e,left:n,bottom:r,right:s}){return{x:Dk(t.x,n,s),y:Dk(t.y,e,r)}}function Nk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pQ(t,e){return{x:Nk(t.x,e.x),y:Nk(t.y,e.y)}}function mQ(t,e){let n=.5;const r=Yn(t),s=Yn(e);return s>r?n=dd(e.min,e.max-r,t.min):r>s&&(n=dd(t.min,t.max-s,e.min)),Ai(0,1,n)}function gQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ww=.35;function yQ(t=Ww){return t===!1?t=0:t===!0&&(t=Ww),{x:jk(t,"left","right"),y:jk(t,"top","bottom")}}function jk(t,e,n){return{min:Bk(t,e),max:Bk(t,n)}}function Bk(t,e){return typeof t=="number"?t:t[e]||0}const bQ=new WeakMap;class vQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zd(m).point)},a=(m,g)=>{const{drag:y,dragPropagation:_,onDragStart:x}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MJ(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(S=>{let T=this.getAxisMotionValue(S).get()||0;if(Ws.test(T)){const{projection:k}=this.visualElement;if(k&&k.layout){const L=k.layout.layoutBox[S];L&&(T=Yn(L)*(parseFloat(T)/100))}}this.originPoint[S]=T}),x&&St.postRender(()=>x(m,g)),qw(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:x,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=g;if(_&&this.currentDirection===null){this.currentDirection=_Q(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),E&&E(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Yr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new M5(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:k5(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&St.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!om(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=dQ(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Jl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=hQ(r.layoutBox,e):this.constraints=!1,this.elastic=yQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=gQ(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wZ(r,s.root,this.visualElement.getTransformPagePoint());let a=pQ(s.layout.layoutBox,i);if(n){const c=n(bZ(a));this.hasMutatedConstraints=!!c,c&&(a=p5(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=Yr(h=>{if(!om(h,n,this.currentDirection))return;let m=u&&u[h]||{};a&&(m={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,_)});return Promise.all(d).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return qw(this.visualElement,e),r.start(b1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Yr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yr(n=>{const{drag:r}=this.getProps();if(!om(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-At(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=mQ({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yr(a=>{if(!om(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(At(u,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;bQ.set(this.visualElement,this);const e=this.visualElement.current,n=Gf(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Jl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),St.read(r);const a=yd(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Yr(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ww,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function om(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _Q(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wQ extends jo{constructor(e){super(e),this.removeGroupControls=es,this.removeListeners=es,this.controls=new vQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||es}unmount(){this.removeGroupControls(),this.removeListeners()}}const $k=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class xQ extends jo{constructor(){super(...arguments),this.removePointerDownListener=es}onPointerDown(e){this.session=new M5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$k(e),onStart:$k(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&St.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Gf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=Vk(t,e.target.x),r=Vk(t,e.target.y);return`${n}% ${r}%`}},SQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=No.parse(t);if(s.length>5)return r;const i=No.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const d=At(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};let Xv=!1;class EQ extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;GJ(CQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Xv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Xv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||St.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Xv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function P5(t){const[e,n]=$J(),r=C.useContext(u4);return w.jsx(EQ,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(d5),isPresent:e,safeToRemove:n})}const CQ={borderRadius:{...sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sf,borderTopRightRadius:sf,borderBottomLeftRadius:sf,borderBottomRightRadius:sf,boxShadow:SQ};function TQ(t,e,n){const r=Dn(t)?t:mc(t);return r.start(b1("",r,e,n)),r.animation}const AQ=(t,e)=>t.depth-e.depth;class RQ{constructor(){this.children=[],this.isDirty=!1}add(e){z2(this.children,e),this.isDirty=!0}remove(e){H2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AQ),this.isDirty=!1,this.children.forEach(e)}}function kQ(t,e){const n=or.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Do(r),t(i-e))};return St.setup(r,!0),()=>Do(r)}const I5=["TopLeft","TopRight","BottomLeft","BottomRight"],MQ=I5.length,Uk=t=>typeof t=="string"?parseFloat(t):t,Fk=t=>typeof t=="number"||Be.test(t);function OQ(t,e,n,r,s,i){s?(t.opacity=At(0,n.opacity??1,PQ(r)),t.opacityExit=At(e.opacity??1,0,IQ(r))):i&&(t.opacity=At(e.opacity??1,n.opacity??1,r));for(let a=0;a<MQ;a++){const c=`border${I5[a]}Radius`;let u=zk(e,c),d=zk(n,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Fk(u)===Fk(d)?(t[c]=Math.max(At(Uk(u),Uk(d),r),0),(Ws.test(d)||Ws.test(u))&&(t[c]+="%")):t[c]=d}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function zk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const PQ=L5(0,.5,w4),IQ=L5(.5,.95,es);function L5(t,e,n){return r=>r<t?0:r>e?1:n(dd(t,e,r))}function Hk(t,e){t.min=e.min,t.max=e.max}function Wr(t,e){Hk(t.x,e.x),Hk(t.y,e.y)}function qk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gk(t,e,n,r,s){return t-=e,t=Eg(t,1/n,r),s!==void 0&&(t=Eg(t,1/s,r)),t}function LQ(t,e=0,n=1,r=.5,s,i=t,a=t){if(Ws.test(e)&&(e=parseFloat(e),e=At(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=At(i.min,i.max,r);t===i&&(c-=e),t.min=Gk(t.min,e,n,c,s),t.max=Gk(t.max,e,n,c,s)}function Wk(t,e,[n,r,s],i,a){LQ(t,e[n],e[r],e[s],e.scale,i,a)}const DQ=["x","scaleX","originX"],NQ=["y","scaleY","originY"];function Kk(t,e,n,r){Wk(t.x,e,DQ,n?n.x:void 0,r?r.x:void 0),Wk(t.y,e,NQ,n?n.y:void 0,r?r.y:void 0)}function Yk(t){return t.translate===0&&t.scale===1}function D5(t){return Yk(t.x)&&Yk(t.y)}function Xk(t,e){return t.min===e.min&&t.max===e.max}function jQ(t,e){return Xk(t.x,e.x)&&Xk(t.y,e.y)}function Jk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function N5(t,e){return Jk(t.x,e.x)&&Jk(t.y,e.y)}function Zk(t){return Yn(t.x)/Yn(t.y)}function Qk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BQ{constructor(){this.members=[]}add(e){z2(this.members,e),e.scheduleRender()}remove(e){if(H2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $Q(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:g,skewX:y,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const Jv=["","X","Y","Z"],VQ=1e3;let UQ=0;function Zv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function j5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=x5(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&j5(r)}function B5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e?.()){this.id=UQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HQ),this.nodes.forEach(KQ),this.nodes.forEach(YQ),this.nodes.forEach(qQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new RQ)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new W2),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Q4(a)&&!NJ(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let h,m=0;const g=()=>this.root.updateBlockedByResize=!1;St.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,h&&h(),h=kQ(g,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(nM)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||eee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:E}=d.getProps(),S=!this.targetLayout||!N5(this.targetLayout,y),T=!m&&g;if(this.options.layoutRoot||this.resumeFrom||T||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...o1(_,"layout"),onPlay:x,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,T)}else m||nM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WQ),this.nodes.forEach(FQ),this.nodes.forEach(zQ)):this.nodes.forEach(tM),this.clearAllSnapshots();const c=or.now();gn.delta=Ai(0,1e3/60,c-gn.timestamp),gn.timestamp=c,gn.isProcessing=!0,Vv.update.process(gn),Vv.preRender.process(gn),Vv.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GQ),this.sharedNodes.forEach(JQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yn(this.snapshot.measuredBox.x)&&!Yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!D5(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&this.instance&&(c||ha(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),tee(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Dt();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nee))){const{scroll:d}=this.root;d&&(Zl(c.x,d.offset.x),Zl(c.y,d.offset.y))}return c}removeElementScroll(a){const c=Dt();if(Wr(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Wr(c,a),Zl(c.x,h.offset.x),Zl(c.y,h.offset.y))}return c}applyTransform(a,c=!1){const u=Dt();Wr(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ql(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ha(h.latestValues)&&Ql(u,h.latestValues)}return ha(this.latestValues)&&Ql(u,this.latestValues),u}removeTransform(a){const c=Dt();Wr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!ha(d.latestValues))continue;Uw(d.latestValues)&&d.updateSnapshot();const h=Dt(),m=d.measurePageBox();Wr(h,m),Kk(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ha(this.latestValues)&&Kk(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Kf(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),g5(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Kf(this.relativeTargetOrigin,this.target,g.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uw(this.parent.latestValues)||m5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Wr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;_Z(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Dt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qk(this.prevProjectionDelta.x,this.projectionDelta.x),qk(this.prevProjectionDelta.y,this.projectionDelta.y)),Wf(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!Qk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Dt(),y=u?u.source:void 0,_=this.layout?this.layout.source:void 0,x=y!==_,E=this.getStack(),S=!E||E.members.length<=1,T=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(QQ));this.animationProgress=0;let k;this.mixTargetDelta=L=>{const I=L/1e3;rM(m.x,a.x,I),rM(m.y,a.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZQ(this.relativeTarget,this.relativeTargetOrigin,g,I),k&&jQ(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Dt()),Wr(k,this.relativeTarget)),x&&(this.animationValues=h,OQ(h,d,this.latestValues,I,T,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mc(0)),this.currentAnimation=TQ(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:h}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&$5(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Dt();const m=Yn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const g=Yn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Wr(c,u),Ql(c,h),Wf(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new BQ),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&Zv("z",a,d,this.animationValues);for(let h=0;h<Jv.length;h++)Zv(`rotate${Jv[h]}`,a,d,this.animationValues),Zv(`skew${Jv[h]}`,a,d,this.animationValues);a.render();for(const h in d)a.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Fm(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Fm(c?.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=$Q(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),a.transform=m;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const _ in gd){if(h[_]===void 0)continue;const{correct:x,applyTo:E,isCSSVariable:S}=gd[_],T=m==="none"?h[_]:x(h[_],d);if(E){const k=E.length;for(let L=0;L<k;L++)a[E[L]]=T}else S?this.options.visualElement.renderState.vars[_]=T:a[_]=T}this.options.layoutId&&(a.pointerEvents=d===this?Fm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(eM),this.root.sharedNodes.clear()}}}function FQ(t){t.updateLayout()}function zQ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?Yr(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],g=Yn(m);m.min=n[h].min,m.max=m.min+g}):$5(s,e.layoutBox,n)&&Yr(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],g=Yn(n[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=ec();Wf(a,n,e.layoutBox);const c=ec();i?Wf(c,t.applyTransform(r,!0),e.measuredBox):Wf(c,n,e.layoutBox);const u=!D5(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=Dt();Kf(y,e.layoutBox,m.layoutBox);const _=Dt();Kf(_,n,g.layoutBox),N5(y,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function HQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GQ(t){t.clearSnapshot()}function eM(t){t.clearMeasurements()}function tM(t){t.isLayoutDirty=!1}function WQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KQ(t){t.resolveTargetDelta()}function YQ(t){t.calcProjection()}function XQ(t){t.resetSkewAndRotation()}function JQ(t){t.removeLeadSnapshot()}function rM(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sM(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function ZQ(t,e,n,r){sM(t.x,e.x,n.x,r),sM(t.y,e.y,n.y,r)}function QQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eee={duration:.45,ease:[.4,0,.1,1]},iM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oM=iM("applewebkit/")&&!iM("chrome/")?Math.round:es;function aM(t){t.min=oM(t.min),t.max=oM(t.max)}function tee(t){aM(t.x),aM(t.y)}function $5(t,e,n){return t==="position"||t==="preserve-aspect"&&!aQ(Zk(e),Zk(n),.2)}function nee(t){return t!==t.root&&t.scroll?.wasRoot}const ree=B5({attachResizeListener:(t,e)=>yd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qv={current:void 0},V5=B5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qv.current){const t=new ree({});t.mount(window),t.setOptions({layoutScroll:!0}),Qv.current=t}return Qv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),see={pan:{Feature:xQ},drag:{Feature:wQ,ProjectionNode:V5,MeasureLayout:P5}};function lM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&St.postRender(()=>i(e,zd(e)))}class iee extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=OJ(e,(n,r)=>(lM(this.node,r,"Start"),s=>lM(this.node,s,"End"))))}unmount(){}}class oee extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&St.postRender(()=>i(e,zd(e)))}class aee extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=DJ(e,(n,r)=>(cM(this.node,r,"Start"),(s,{success:i})=>cM(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kw=new WeakMap,e_=new WeakMap,lee=t=>{const e=Kw.get(t.target);e&&e(t)},cee=t=>{t.forEach(lee)};function uee({root:t,...e}){const n=t||document;e_.has(n)||e_.set(n,{});const r=e_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cee,{root:t,...e})),r[s]}function fee(t,e,n){const r=uee(e);return Kw.set(t,n),r.observe(t),()=>{Kw.delete(t),r.unobserve(t)}}const dee={some:0,all:1};class hee extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dee[s]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),g=d?h:m;g&&g(u)};return fee(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pee(e,n))&&this.startObserver()}unmount(){}}function pee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mee={inView:{Feature:hee},tap:{Feature:aee},focus:{Feature:oee},hover:{Feature:iee}},gee={layout:{ProjectionNode:V5,MeasureLayout:P5}},yee={...tQ,...mee,...see,...gee},v1=yZ(yee,MZ),U5=({className:t,size:e=16})=>w.jsx("div",{className:Fe("inline-block animate-spin rounded-full border-2 border-solid border-[var(--loader-border-color)] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",t),style:{width:`${e}px`,height:`${e}px`},role:"status","aria-label":"loading"}),bee=()=>{const{t}=Nt();return w.jsx(CI,{children:w.jsx("div",{className:"mx-auto flex w-full max-w-[var(--thread-max-width)] flex-col px-[var(--thread-padding-x)] justify-center items-center mb-[16px]",children:w.jsxs("div",{className:"max-w-[490px] flex flex-col items-center gap-[16px] text-center",children:[w.jsx("p",{className:"font-[700] text-[32px] leading-[24px]",style:{color:"var(--chat-welcome-color)"},children:t("WelcomeTitle")}),w.jsx("p",{className:"text-[20px] leading-[20px]",style:{color:"var(--chat-welcome-description-color)"},children:t("WelcomeDescription")})]})})})},Ay=Mi((t,e)=>({attachmentFiles:[],addAttachmentFile:n=>{t({attachmentFiles:[...e().attachmentFiles,n]})},deleteAttachmentFile:n=>{t({attachmentFiles:e().attachmentFiles.filter(r=>r.path!==n)})},clearAttachmentFiles:()=>{t({attachmentFiles:[]})}})),vee="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.38672%205.07617L6.4082%206.0918L8.33008%208.00098L6.41016%209.91016L5.3877%2010.9258L4.87695%2011.4346L5.15918%2011.7178L5.44141%2012.002L5.95215%2011.4932L6.97461%2010.4775L8.89746%208.56543L11.7627%2011.4131L12.3135%2011.9619L12.5957%2011.6777L12.8779%2011.3945L12.3262%2010.8457L11.2227%209.74902L9.46484%208.00098L11.2246%206.25293L12.3281%205.15625L12.8799%204.6084L12.3154%204.04004L11.7637%204.58887L10.6611%205.68555L8.89746%207.4375L6.97266%205.52441L5.9502%204.50879L5.43945%204L4.875%204.56836L5.38672%205.07617Z'%20fill='%23444444'/%3e%3c/svg%3e",_ee="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%201.5H20.5859C20.7185%201.50004%2020.8457%201.55275%2020.9395%201.64648L26.3535%207.06055C26.4472%207.15428%2026.5%207.28151%2026.5%207.41406V29C26.5%2029.8284%2025.8284%2030.5%2025%2030.5H7C6.17157%2030.5%205.5%2029.8284%205.5%2029V3C5.5%202.17157%206.17157%201.5%207%201.5Z'%20fill='white'%20stroke='%23BBBBBB'/%3e%3cpath%20d='M20.5%202V6C20.5%206.82843%2021.1716%207.5%2022%207.5H26'%20stroke='%23BBBBBB'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%2012C9.44772%2012%209%2012.4477%209%2013C9%2013.5523%209.44772%2014%2010%2014H22C22.5523%2014%2023%2013.5523%2023%2013C23%2012.4477%2022.5523%2012%2022%2012H10ZM9%2017C9%2016.4477%209.44771%2016%2010%2016H13C13.5523%2016%2014%2016.4477%2014%2017C14%2017.5523%2013.5523%2018%2013%2018H10C9.44771%2018%209%2017.5523%209%2017ZM9%2021C9%2020.4477%209.44772%2020%2010%2020H13C13.5523%2020%2014%2020.4477%2014%2021C14%2021.5523%2013.5523%2022%2013%2022H10C9.44771%2022%209%2021.5523%209%2021Z'%20fill='%23A9CBDD'/%3e%3cpath%20d='M16%2018C16%2016.8954%2016.8954%2016%2018%2016H26C27.1046%2016%2028%2016.8954%2028%2018V26C28%2027.1046%2027.1046%2028%2026%2028H18C16.8954%2028%2016%2027.1046%2016%2026V18Z'%20fill='%23287CA9'/%3e%3cpath%20d='M26.93%2018.4596L25.14%2025.5996H23.16L22.33%2022.1496C22.31%2022.0763%2022.2867%2021.9696%2022.26%2021.8296C22.2333%2021.6829%2022.2%2021.5229%2022.16%2021.3496C22.1267%2021.1696%2022.0967%2020.9996%2022.07%2020.8396C22.0433%2020.6729%2022.0233%2020.5396%2022.01%2020.4396C21.9967%2020.5396%2021.9733%2020.6729%2021.94%2020.8396C21.9133%2020.9996%2021.8833%2021.1696%2021.85%2021.3496C21.8167%2021.5229%2021.7833%2021.6829%2021.75%2021.8296C21.7233%2021.9696%2021.7%2022.0763%2021.68%2022.1496L20.84%2025.5996H18.87L17.07%2018.4596H18.73L19.58%2022.2096C19.6067%2022.3096%2019.6367%2022.4429%2019.67%2022.6096C19.7033%2022.7696%2019.7367%2022.9429%2019.77%2023.1296C19.8033%2023.3096%2019.8333%2023.4863%2019.86%2023.6596C19.8933%2023.8263%2019.9167%2023.9696%2019.93%2024.0896C19.95%2023.9296%2019.9767%2023.7463%2020.01%2023.5396C20.05%2023.3329%2020.09%2023.1229%2020.13%2022.9096C20.17%2022.6963%2020.21%2022.4963%2020.25%2022.3096C20.29%2022.1229%2020.3267%2021.9729%2020.36%2021.8596L21.21%2018.4596H22.8L23.65%2021.8596C23.67%2021.9729%2023.7%2022.1229%2023.74%2022.3096C23.7867%2022.4963%2023.83%2022.6996%2023.87%2022.9196C23.9167%2023.1329%2023.9567%2023.3429%2023.99%2023.5496C24.0233%2023.7563%2024.05%2023.9363%2024.07%2024.0896C24.09%2023.9229%2024.12%2023.7229%2024.16%2023.4896C24.2067%2023.2496%2024.2533%2023.0129%2024.3%2022.7796C24.3467%2022.5396%2024.3867%2022.3529%2024.42%2022.2196L25.27%2018.4596H26.93Z'%20fill='white'/%3e%3c/svg%3e",wee="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%201.5H20.5859C20.7185%201.50004%2020.8457%201.55275%2020.9395%201.64648L26.3535%207.06055C26.4472%207.15428%2026.5%207.28151%2026.5%207.41406V29C26.5%2029.8284%2025.8284%2030.5%2025%2030.5H7C6.17157%2030.5%205.5%2029.8284%205.5%2029V3C5.5%202.17157%206.17157%201.5%207%201.5Z'%20fill='white'%20stroke='%23BBBBBB'/%3e%3cpath%20d='M20.5%202V6C20.5%206.82843%2021.1716%207.5%2022%207.5H26'%20stroke='%23BBBBBB'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%2012C9.44772%2012%209%2012.4477%209%2013C9%2013.5523%209.44772%2014%2010%2014H22C22.5523%2014%2023%2013.5523%2023%2013C23%2012.4477%2022.5523%2012%2022%2012H10ZM9%2017C9%2016.4477%209.44771%2016%2010%2016H13C13.5523%2016%2014%2016.4477%2014%2017C14%2017.5523%2013.5523%2018%2013%2018H10C9.44771%2018%209%2017.5523%209%2017ZM9%2021C9%2020.4477%209.44772%2020%2010%2020H13C13.5523%2020%2014%2020.4477%2014%2021C14%2021.5523%2013.5523%2022%2013%2022H10C9.44771%2022%209%2021.5523%209%2021Z'%20fill='%23F5B8B0'/%3e%3cpath%20d='M16%2018C16%2016.8954%2016.8954%2016%2018%2016H26C27.1046%2016%2028%2016.8954%2028%2018V26C28%2027.1046%2027.1046%2028%2026%2028H18C16.8954%2028%2016%2027.1046%2016%2026V18Z'%20fill='%23E54D39'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.8924%2017.5C20.8924%2018.8103%2020.5181%2020.3557%2019.8855%2021.7815C19.2505%2023.2131%2018.3933%2024.4378%2017.5%2025.1598L18.4707%2026.5C20.8784%2024.8781%2023.5444%2023.7664%2026.1241%2024.1387L26.5%2022.5276C24.302%2021.7881%2022.5384%2019.5689%2022.5384%2017.5H20.8924ZM21.9659%2020.9307C21.8013%2021.4516%2021.6064%2021.9659%2021.3859%2022.462C21.2669%2022.7306%2021.1403%2022.9954%2021.0043%2023.2563C21.7701%2022.9505%2022.5614%2022.7104%2023.3692%2022.5642C22.8309%2022.0858%2022.3589%2021.5364%2021.9659%2020.9307Z'%20fill='white'/%3e%3c/svg%3e",xee="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%201.5H20.5859C20.7185%201.50004%2020.8457%201.55275%2020.9395%201.64648L26.3535%207.06055C26.4472%207.15428%2026.5%207.28151%2026.5%207.41406V29C26.5%2029.8284%2025.8284%2030.5%2025%2030.5H7C6.17157%2030.5%205.5%2029.8284%205.5%2029V3C5.5%202.17157%206.17157%201.5%207%201.5Z'%20fill='white'%20stroke='%23BBBBBB'/%3e%3cpath%20d='M20.5%202V6C20.5%206.82843%2021.1716%207.5%2022%207.5H26'%20stroke='%23BBBBBB'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%2012C9.44772%2012%209%2012.4477%209%2013C9%2013.5523%209.44772%2014%2010%2014H14C14.5523%2014%2015%2013.5523%2015%2013C15%2012.4477%2014.5523%2012%2014%2012H10ZM10%2016C9.44772%2016%209%2016.4477%209%2017C9%2017.5523%209.44772%2018%2010%2018H14C14.5523%2018%2015%2017.5523%2015%2017C15%2016.4477%2014.5523%2016%2014%2016H10ZM9%2021C9%2020.4477%209.44772%2020%2010%2020H14C14.5523%2020%2015%2020.4477%2015%2021C15%2021.5523%2014.5523%2022%2014%2022H10C9.44772%2022%209%2021.5523%209%2021ZM18%2012C17.4477%2012%2017%2012.4477%2017%2013C17%2013.5523%2017.4477%2014%2018%2014H22C22.5523%2014%2023%2013.5523%2023%2013C23%2012.4477%2022.5523%2012%2022%2012H18Z'%20fill='%23B0D9AD'/%3e%3cpath%20d='M16%2018C16%2016.8954%2016.8954%2016%2018%2016H26C27.1046%2016%2028%2016.8954%2028%2018V26C28%2027.1046%2027.1046%2028%2026%2028H18C16.8954%2028%2016%2027.1046%2016%2026V18Z'%20fill='%233AA133'/%3e%3cpath%20d='M25.4432%2025.5996H23.4832L21.9532%2023.1196L20.4232%2025.5996H18.5432L20.9132%2021.9296L18.6832%2018.4596H20.5732L22.0032%2020.8596L23.3832%2018.4596H25.2732L23.0332%2022.0496L25.4432%2025.5996Z'%20fill='white'/%3e%3c/svg%3e",F5=({file:t,withoutClose:e})=>{const{deleteAttachmentFile:n}=Ay(),r=()=>{n(t.path)},s=t.path.split("/").pop()??"",i=s.split(".").pop()??"",a=s.replace(`.${i}`,""),c=i==="pdf"?wee:i==="docx"?_ee:xee;return w.jsxs("div",{className:Fe(" w-fit flex flex-row gap-[12px] h-[44px] rounded-[8px] p-[4px] box-border border-[var(--file-items-border-color)]",e?"cursor-pointer pe-[24px]":"",e?"bg-[var(--file-items-chat-background-color)]":"border bg-[var(--file-items-background-color)]",e?"hover:bg-[var(--file-items-chat-hover-background-color)]":"",e?"active:bg-[var(--file-items-chat-pressed-background-color)]":""),onClick:()=>{e&&window.AscDesktopEditor.openTemplate(t.path,s)},children:[t.isImage?w.jsx("img",{className:"h-[31px]",src:t.content,alt:""}):w.jsxs("div",{className:"flex flex-row items-center h-[36px] gap-[4px]",children:[w.jsx(Ht,{className:"",src:c}),w.jsxs("p",{className:"text-[var(--file-items-color)]",children:[a,w.jsxs("span",{className:"text-[var(--file-items-ext-color)]",children:[".",i]})]})]}),e?null:w.jsx(un,{iconName:vee,size:16,onClick:r,color:"var(--file-items-icon-color)"})]})};function Cg(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(e);for(;s!==-1;)r++,s=n.indexOf(e,s+e.length);return r}const Kn=Bo(/[A-Za-z]/),Nn=Bo(/[\dA-Za-z]/),See=Bo(/[#-'*+\--9=?A-Z^-~]/);function Tg(t){return t!==null&&(t<32||t===127)}const Yw=Bo(/\d/),Eee=Bo(/[\dA-Fa-f]/),Cee=Bo(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function pt(t){return t!==null&&(t<0||t===32)}function Qe(t){return t===-2||t===-1||t===32}const Ry=Bo(new RegExp("\\p{P}|\\p{S}","u")),Oa=Bo(/\s/);function Bo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Tee(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const ky=(function(t){if(t==null)return Mee;if(typeof t=="function")return My(t);if(typeof t=="object")return Array.isArray(t)?Aee(t):Ree(t);if(typeof t=="string")return kee(t);throw new Error("Expected function, string, or object as test")});function Aee(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ky(t[n]);return My(r);function r(...s){let i=-1;for(;++i<e.length;)if(e[i].apply(this,s))return!0;return!1}}function Ree(t){const e=t;return My(n);function n(r){const s=r;let i;for(i in t)if(s[i]!==e[i])return!1;return!0}}function kee(t){return My(e);function e(n){return n&&n.type===t}}function My(t){return e;function e(n,r,s){return!!(Oee(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Mee(){return!0}function Oee(t){return t!==null&&typeof t=="object"&&"type"in t}const z5=[],Pee=!0,Xw=!1,Iee="skip";function H5(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const i=ky(s),a=r?-1:1;c(t,void 0,[])();function c(u,d,h){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=z5,_,x,E;if((!e||i(u,d,h[h.length-1]||void 0))&&(y=Lee(n(u,h)),y[0]===Xw))return y;if("children"in u&&u.children){const S=u;if(S.children&&y[0]!==Iee)for(x=(r?S.children.length:-1)+a,E=h.concat(S);x>-1&&x<S.children.length;){const T=S.children[x];if(_=c(T,x,E)(),_[0]===Xw)return _;x=typeof _[1]=="number"?_[1]:x+a}}return y}}}function Lee(t){return Array.isArray(t)?t:typeof t=="number"?[Pee,t]:t==null?z5:[t]}function Dee(t,e,n){const s=ky((n||{}).ignore||[]),i=Nee(e);let a=-1;for(;++a<i.length;)H5(t,"text",c);function c(d,h){let m=-1,g;for(;++m<h.length;){const y=h[m],_=g?g.children:void 0;if(s(y,_?_.indexOf(y):void 0,g))return;g=y}if(g)return u(d,h)}function u(d,h){const m=h[h.length-1],g=i[a][0],y=i[a][1];let _=0;const E=m.children.indexOf(d);let S=!1,T=[];g.lastIndex=0;let k=g.exec(d.value);for(;k;){const L=k.index,I={index:k.index,input:k.input,stack:[...h,d]};let P=y(...k,I);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=L+1:(_!==L&&T.push({type:"text",value:d.value.slice(_,L)}),Array.isArray(P)?T.push(...P):P&&T.push(P),_=L+k[0].length,S=!0),!g.global)break;k=g.exec(d.value)}return S?(_<d.value.length&&T.push({type:"text",value:d.value.slice(_)}),m.children.splice(E,1,...T)):T=[d],E+T.length}}function Nee(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const s=n[r];e.push([jee(s[0]),Bee(s[1])])}return e}function jee(t){return typeof t=="string"?new RegExp(Tee(t),"g"):t}function Bee(t){return typeof t=="function"?t:function(){return t}}const t_="phrasing",n_=["autolink","link","image","label"];function $ee(){return{transforms:[Gee],enter:{literalAutolink:Uee,literalAutolinkEmail:r_,literalAutolinkHttp:r_,literalAutolinkWww:r_},exit:{literalAutolink:qee,literalAutolinkEmail:Hee,literalAutolinkHttp:Fee,literalAutolinkWww:zee}}}function Vee(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:t_,notInConstruct:n_},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:t_,notInConstruct:n_},{character:":",before:"[ps]",after:"\\/",inConstruct:t_,notInConstruct:n_}]}}function Uee(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function r_(t){this.config.enter.autolinkProtocol.call(this,t)}function Fee(t){this.config.exit.autolinkProtocol.call(this,t)}function zee(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Hee(t){this.config.exit.autolinkEmail.call(this,t)}function qee(t){this.exit(t)}function Gee(t){Dee(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Wee],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Kee]],{ignore:["link","linkReference"]})}function Wee(t,e,n,r,s){let i="";if(!q5(s)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!Yee(n)))return!1;const a=Xee(n+r);if(!a[0])return!1;const c={type:"link",title:null,url:i+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[c,{type:"text",value:a[1]}]:c}function Kee(t,e,n,r){return!q5(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Yee(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Xee(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const s=Cg(t,"(");let i=Cg(t,")");for(;r!==-1&&s>i;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[t,n]}function q5(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Oa(n)||Ry(n))&&(!e||n!==47)}function ms(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}G5.peek=ite;function Jee(){this.buffer()}function Zee(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Qee(){this.buffer()}function ete(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function tte(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ms(this.sliceSerialize(t)).toLowerCase(),n.label=e}function nte(t){this.exit(t)}function rte(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ms(this.sliceSerialize(t)).toLowerCase(),n.label=e}function ste(t){this.exit(t)}function ite(){return"["}function G5(t,e,n,r){const s=n.createTracker(r);let i=s.move("[^");const a=n.enter("footnoteReference"),c=n.enter("reference");return i+=s.move(n.safe(n.associationId(t),{after:"]",before:i})),c(),a(),i+=s.move("]"),i}function ote(){return{enter:{gfmFootnoteCallString:Jee,gfmFootnoteCall:Zee,gfmFootnoteDefinitionLabelString:Qee,gfmFootnoteDefinition:ete},exit:{gfmFootnoteCallString:tte,gfmFootnoteCall:nte,gfmFootnoteDefinitionLabelString:rte,gfmFootnoteDefinition:ste}}}function ate(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:G5},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,i,a){const c=i.createTracker(a);let u=c.move("[^");const d=i.enter("footnoteDefinition"),h=i.enter("label");return u+=c.move(i.safe(i.associationId(r),{before:u,after:"]"})),h(),u+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),u+=c.move((e?`
`:" ")+i.indentLines(i.containerFlow(r,c.current()),e?W5:lte))),d(),u}}function lte(t,e,n){return e===0?t:W5(t,e,n)}function W5(t,e,n){return(n?"":"    ")+t}const cte=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];K5.peek=pte;function ute(){return{canContainEols:["delete"],enter:{strikethrough:dte},exit:{strikethrough:hte}}}function fte(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cte}],handlers:{delete:K5}}}function dte(t){this.enter({type:"delete",children:[]},t)}function hte(t){this.exit(t)}function K5(t,e,n,r){const s=n.createTracker(r),i=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(t,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function pte(){return"~"}function mte(t){return t.length}function gte(t,e){const n=e||{},r=(n.align||[]).concat(),s=n.stringLength||mte,i=[],a=[],c=[],u=[];let d=0,h=-1;for(;++h<t.length;){const x=[],E=[];let S=-1;for(t[h].length>d&&(d=t[h].length);++S<t[h].length;){const T=yte(t[h][S]);if(n.alignDelimiters!==!1){const k=s(T);E[S]=k,(u[S]===void 0||k>u[S])&&(u[S]=k)}x.push(T)}a[h]=x,c[h]=E}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<d;)i[m]=uM(r[m]);else{const x=uM(r);for(;++m<d;)i[m]=x}m=-1;const g=[],y=[];for(;++m<d;){const x=i[m];let E="",S="";x===99?(E=":",S=":"):x===108?E=":":x===114&&(S=":");let T=n.alignDelimiters===!1?1:Math.max(1,u[m]-E.length-S.length);const k=E+"-".repeat(T)+S;n.alignDelimiters!==!1&&(T=E.length+T+S.length,T>u[m]&&(u[m]=T),y[m]=T),g[m]=k}a.splice(1,0,g),c.splice(1,0,y),h=-1;const _=[];for(;++h<a.length;){const x=a[h],E=c[h];m=-1;const S=[];for(;++m<d;){const T=x[m]||"";let k="",L="";if(n.alignDelimiters!==!1){const I=u[m]-(E[m]||0),P=i[m];P===114?k=" ".repeat(I):P===99?I%2?(k=" ".repeat(I/2+.5),L=" ".repeat(I/2-.5)):(k=" ".repeat(I/2),L=k):L=" ".repeat(I)}n.delimiterStart!==!1&&!m&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||m)&&S.push(" "),n.alignDelimiters!==!1&&S.push(k),S.push(T),n.alignDelimiters!==!1&&S.push(L),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||m!==d-1)&&S.push("|")}_.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return _.join(`
`)}function yte(t){return t==null?"":String(t)}function uM(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const fM={}.hasOwnProperty;function bte(t,e){const n=e||{};function r(s,...i){let a=r.invalid;const c=r.handlers;if(s&&fM.call(s,t)){const u=String(s[t]);a=fM.call(c,u)?c[u]:r.unknown}if(a)return a.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function vte(t,e,n,r){const s=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(t,i.current()),_te);return s(),a}function _te(t,e,n){return">"+(n?"":" ")+t}function wte(t,e){return dM(t,e.inConstruct,!0)&&!dM(t,e.notInConstruct,!1)}function dM(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function hM(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&wte(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function xte(t,e){const n=String(t);let r=n.indexOf(e),s=r,i=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++i>a&&(a=i):i=1,s=r+e.length,r=n.indexOf(e,s);return a}function Ste(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Ete(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Cte(t,e,n,r){const s=Ete(n),i=t.value||"",a=s==="`"?"GraveAccent":"Tilde";if(Ste(t,n)){const m=n.enter("codeIndented"),g=n.indentLines(i,Tte);return m(),g}const c=n.createTracker(r),u=s.repeat(Math.max(xte(i,s)+1,3)),d=n.enter("codeFenced");let h=c.move(u);if(t.lang){const m=n.enter(`codeFencedLang${a}`);h+=c.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${a}`);h+=c.move(" "),h+=c.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...c.current()})),m()}return h+=c.move(`
`),i&&(h+=c.move(i+`
`)),h+=c.move(u),d(),h}function Tte(t,e,n){return(n?"":"    ")+t}function _1(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ate(t,e,n,r){const s=_1(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let c=n.enter("label");const u=n.createTracker(r);let d=u.move("[");return d+=u.move(n.safe(n.associationId(t),{before:d,after:"]",...u.current()})),d+=u.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(c=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...u.current()}))),c(),t.title&&(c=n.enter(`title${i}`),d+=u.move(" "+s),d+=u.move(n.safe(t.title,{before:d,after:s,...u.current()})),d+=u.move(s),c()),a(),d}function Rte(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function bd(t){return"&#x"+t.toString(16).toUpperCase()+";"}function yc(t){if(t===null||pt(t)||Oa(t))return 1;if(Ry(t))return 2}function Ag(t,e,n){const r=yc(t),s=yc(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Y5.peek=kte;function Y5(t,e,n,r){const s=Rte(n),i=n.enter("emphasis"),a=n.createTracker(r),c=a.move(s);let u=a.move(n.containerPhrasing(t,{after:s,before:c,...a.current()}));const d=u.charCodeAt(0),h=Ag(r.before.charCodeAt(r.before.length-1),d,s);h.inside&&(u=bd(d)+u.slice(1));const m=u.charCodeAt(u.length-1),g=Ag(r.after.charCodeAt(0),m,s);g.inside&&(u=u.slice(0,-1)+bd(m));const y=a.move(s);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},c+u+y}function kte(t,e,n){return n.options.emphasis||"*"}function w1(t,e,n,r){let s,i,a;typeof e=="function"&&typeof n!="function"?(i=void 0,a=e,s=n):(i=e,a=n,s=r),H5(t,i,c,s);function c(u,d){const h=d[d.length-1],m=h?h.children.indexOf(u):void 0;return a(u,m,h)}}const Mte={};function x1(t,e){const n=Mte,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return X5(t,r,s)}function X5(t,e,n){if(Ote(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return pM(t.children,e,n)}return Array.isArray(t)?pM(t,e,n):""}function pM(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=X5(t[s],e,n);return r.join("")}function Ote(t){return!!(t&&typeof t=="object")}function Pte(t,e){let n=!1;return w1(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xw}),!!((!t.depth||t.depth<3)&&x1(t)&&(e.options.setext||n))}function Ite(t,e,n,r){const s=Math.max(Math.min(6,t.depth||1),1),i=n.createTracker(r);if(Pte(t,n)){const h=n.enter("headingSetext"),m=n.enter("phrasing"),g=n.containerPhrasing(t,{...i.current(),before:`
`,after:`
`});return m(),h(),g+`
`+(s===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(s),c=n.enter("headingAtx"),u=n.enter("phrasing");i.move(a+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=bd(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),u(),c(),d}J5.peek=Lte;function J5(t){return t.value||""}function Lte(){return"<"}Z5.peek=Dte;function Z5(t,e,n,r){const s=_1(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let c=n.enter("label");const u=n.createTracker(r);let d=u.move("![");return d+=u.move(n.safe(t.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(c=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":")",...u.current()}))),c(),t.title&&(c=n.enter(`title${i}`),d+=u.move(" "+s),d+=u.move(n.safe(t.title,{before:d,after:s,...u.current()})),d+=u.move(s),c()),d+=u.move(")"),a(),d}function Dte(){return"!"}Q5.peek=Nte;function Q5(t,e,n,r){const s=t.referenceType,i=n.enter("imageReference");let a=n.enter("label");const c=n.createTracker(r);let u=c.move("![");const d=n.safe(t.alt,{before:u,after:"]",...c.current()});u+=c.move(d+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(t),{before:u,after:"]",...c.current()});return a(),n.stack=h,i(),s==="full"||!d||d!==m?u+=c.move(m+"]"):s==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function Nte(){return"!"}ej.peek=jte;function ej(t,e,n){let r=t.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],c=n.compilePattern(a);let u;if(a.atBreak)for(;u=c.exec(r);){let d=u.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(u.index+1)}}return s+r+s}function jte(){return"`"}function tj(t,e){const n=x1(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}nj.peek=Bte;function nj(t,e,n,r){const s=_1(n),i=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let c,u;if(tj(t,n)){const h=n.stack;n.stack=[],c=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(t,{before:m,after:">",...a.current()})),m+=a.move(">"),c(),n.stack=h,m}c=n.enter("link"),u=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(t,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(t.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=n.enter("destinationRaw"),d+=a.move(n.safe(t.url,{before:d,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${i}`),d+=a.move(" "+s),d+=a.move(n.safe(t.title,{before:d,after:s,...a.current()})),d+=a.move(s),u()),d+=a.move(")"),c(),d}function Bte(t,e,n){return tj(t,n)?"<":"["}rj.peek=$te;function rj(t,e,n,r){const s=t.referenceType,i=n.enter("linkReference");let a=n.enter("label");const c=n.createTracker(r);let u=c.move("[");const d=n.containerPhrasing(t,{before:u,after:"]",...c.current()});u+=c.move(d+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(t),{before:u,after:"]",...c.current()});return a(),n.stack=h,i(),s==="full"||!d||d!==m?u+=c.move(m+"]"):s==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function $te(){return"["}function S1(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Vte(t){const e=S1(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ute(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function sj(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Fte(t,e,n,r){const s=n.enter("list"),i=n.bulletCurrent;let a=t.ordered?Ute(n):S1(n);const c=t.ordered?a==="."?")":".":Vte(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),sj(n)===a&&h){let m=-1;for(;++m<t.children.length;){const g=t.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=c),n.bulletCurrent=a;const d=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=i,s(),d}function zte(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Hte(t,e,n,r){const s=zte(n);let i=n.bulletCurrent||S1(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const c=n.createTracker(r);c.move(i+" ".repeat(a-i.length)),c.shift(a);const u=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,c.current()),h);return u(),d;function h(m,g,y){return g?(y?"":" ".repeat(a))+m:(y?i:i+" ".repeat(a-i.length))+m}}function qte(t,e,n,r){const s=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(t,r);return i(),s(),a}const Gte=ky(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wte(t,e,n,r){return(t.children.some(function(a){return Gte(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Kte(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ij.peek=Yte;function ij(t,e,n,r){const s=Kte(n),i=n.enter("strong"),a=n.createTracker(r),c=a.move(s+s);let u=a.move(n.containerPhrasing(t,{after:s,before:c,...a.current()}));const d=u.charCodeAt(0),h=Ag(r.before.charCodeAt(r.before.length-1),d,s);h.inside&&(u=bd(d)+u.slice(1));const m=u.charCodeAt(u.length-1),g=Ag(r.after.charCodeAt(0),m,s);g.inside&&(u=u.slice(0,-1)+bd(m));const y=a.move(s+s);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},c+u+y}function Yte(t,e,n){return n.options.strong||"*"}function Xte(t,e,n,r){return n.safe(t.value,r)}function Jte(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Zte(t,e,n){const r=(sj(n)+(n.options.ruleSpaces?" ":"")).repeat(Jte(n));return n.options.ruleSpaces?r.slice(0,-1):r}const oj={blockquote:vte,break:hM,code:Cte,definition:Ate,emphasis:Y5,hardBreak:hM,heading:Ite,html:J5,image:Z5,imageReference:Q5,inlineCode:ej,link:nj,linkReference:rj,list:Fte,listItem:Hte,paragraph:qte,root:Wte,strong:ij,text:Xte,thematicBreak:Zte},mM=document.createElement("i");function E1(t){const e="&"+t+";";mM.innerHTML=e;const n=mM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function aj(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const Qte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ene(t){return t.replace(Qte,tne)}function tne(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return aj(n.slice(i?2:1),i?16:10)}return E1(n)||t}function nne(){return{enter:{table:rne,tableData:gM,tableHeader:gM,tableRow:ine},exit:{codeText:one,table:sne,tableData:s_,tableHeader:s_,tableRow:s_}}}function rne(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function sne(t){this.exit(t),this.data.inTable=void 0}function ine(t){this.enter({type:"tableRow",children:[]},t)}function s_(t){this.exit(t)}function gM(t){this.enter({type:"tableCell",children:[]},t)}function one(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,ane));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function ane(t,e){return e==="|"?e:t}function lne(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,s=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:u,tableRow:c}};function a(y,_,x,E){return d(h(y,x,E),y.align)}function c(y,_,x,E){const S=m(y,x,E),T=d([S]);return T.slice(0,T.indexOf(`
`))}function u(y,_,x,E){const S=x.enter("tableCell"),T=x.enter("phrasing"),k=x.containerPhrasing(y,{...E,before:i,after:i});return T(),S(),k}function d(y,_){return gte(y,{align:_,alignDelimiters:r,padding:n,stringLength:s})}function h(y,_,x){const E=y.children;let S=-1;const T=[],k=_.enter("table");for(;++S<E.length;)T[S]=m(E[S],_,x);return k(),T}function m(y,_,x){const E=y.children;let S=-1;const T=[],k=_.enter("tableRow");for(;++S<E.length;)T[S]=u(E[S],y,_,x);return k(),T}function g(y,_,x){let E=oj.inlineCode(y,_,x);return x.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function cne(){return{exit:{taskListCheckValueChecked:yM,taskListCheckValueUnchecked:yM,paragraph:fne}}}function une(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dne}}}function yM(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function fne(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=e.children;let i=-1,a;for(;++i<s.length;){const c=s[i];if(c.type==="paragraph"){a=c;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function dne(t,e,n,r){const s=t.children[0],i=typeof t.checked=="boolean"&&s&&s.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);i&&c.move(a);let u=oj.listItem(t,e,n,{...r,...c.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(h){return h+a}}function hne(){return[$ee(),ote(),ute(),nne(),cne()]}function pne(t){return{extensions:[Vee(),ate(t),fte(),lne(t),une()]}}function Or(t,e,n,r){const s=t.length;let i=0,a;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(e,0),t.splice(...a),i+=1e4,e+=1e4}function Xr(t,e){return t.length>0?(Or(t,t.length,0,e),t):e}const bM={}.hasOwnProperty;function lj(t){const e={};let n=-1;for(;++n<t.length;)mne(e,t[n]);return e}function mne(t,e){let n;for(n in e){const s=(bM.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let a;if(i)for(a in i){bM.call(s,a)||(s[a]=[]);const c=i[a];gne(s[a],Array.isArray(c)?c:c?[c]:[])}}}function gne(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Or(t,0,0,r)}const yne={tokenize:Sne,partial:!0},cj={tokenize:Ene,partial:!0},uj={tokenize:Cne,partial:!0},fj={tokenize:Tne,partial:!0},bne={tokenize:Ane,partial:!0},dj={name:"wwwAutolink",tokenize:wne,previous:pj},hj={name:"protocolAutolink",tokenize:xne,previous:mj},Ii={name:"emailAutolink",tokenize:_ne,previous:gj},ei={};function vne(){return{text:ei}}let ca=48;for(;ca<123;)ei[ca]=Ii,ca++,ca===58?ca=65:ca===91&&(ca=97);ei[43]=Ii;ei[45]=Ii;ei[46]=Ii;ei[95]=Ii;ei[72]=[Ii,hj];ei[104]=[Ii,hj];ei[87]=[Ii,dj];ei[119]=[Ii,dj];function _ne(t,e,n){const r=this;let s,i;return a;function a(m){return!Jw(m)||!gj.call(r,r.previous)||C1(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(m))}function c(m){return Jw(m)?(t.consume(m),c):m===64?(t.consume(m),u):n(m)}function u(m){return m===46?t.check(bne,h,d)(m):m===45||m===95||Nn(m)?(i=!0,t.consume(m),u):h(m)}function d(m){return t.consume(m),s=!0,u}function h(m){return i&&s&&Kn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function wne(t,e,n){const r=this;return s;function s(a){return a!==87&&a!==119||!pj.call(r,r.previous)||C1(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(yne,t.attempt(cj,t.attempt(uj,i),n),n)(a))}function i(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function xne(t,e,n){const r=this;let s="",i=!1;return a;function a(m){return(m===72||m===104)&&mj.call(r,r.previous)&&!C1(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),t.consume(m),c):n(m)}function c(m){if(Kn(m)&&s.length<5)return s+=String.fromCodePoint(m),t.consume(m),c;if(m===58){const g=s.toLowerCase();if(g==="http"||g==="https")return t.consume(m),u}return n(m)}function u(m){return m===47?(t.consume(m),i?d:(i=!0,u)):n(m)}function d(m){return m===null||Tg(m)||pt(m)||Oa(m)||Ry(m)?n(m):t.attempt(cj,t.attempt(uj,h),n)(m)}function h(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function Sne(t,e,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),s):a===46&&r===3?(t.consume(a),i):n(a)}function i(a){return a===null?n(a):e(a)}}function Ene(t,e,n){let r,s,i;return a;function a(d){return d===46||d===95?t.check(fj,u,c)(d):d===null||pt(d)||Oa(d)||d!==45&&Ry(d)?u(d):(i=!0,t.consume(d),a)}function c(d){return d===95?r=!0:(s=r,r=void 0),t.consume(d),a}function u(d){return s||r||!i?n(d):e(d)}}function Cne(t,e){let n=0,r=0;return s;function s(a){return a===40?(n++,t.consume(a),s):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(fj,e,i)(a):a===null||pt(a)||Oa(a)?e(a):(t.consume(a),s)}function i(a){return a===41&&r++,t.consume(a),s}}function Tne(t,e,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),r):c===38?(t.consume(c),i):c===93?(t.consume(c),s):c===60||c===null||pt(c)||Oa(c)?e(c):n(c)}function s(c){return c===null||c===40||c===91||pt(c)||Oa(c)?e(c):r(c)}function i(c){return Kn(c)?a(c):n(c)}function a(c){return c===59?(t.consume(c),r):Kn(c)?(t.consume(c),a):n(c)}}function Ane(t,e,n){return r;function r(i){return t.consume(i),s}function s(i){return Nn(i)?n(i):e(i)}}function pj(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||pt(t)}function mj(t){return!Kn(t)}function gj(t){return!(t===47||Jw(t))}function Jw(t){return t===43||t===45||t===46||t===95||Nn(t)}function C1(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Ic(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const i=t.charCodeAt(n);let a="";if(i===37&&Nn(t.charCodeAt(n+1))&&Nn(t.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const c=t.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(a=String.fromCharCode(i,c),s=1):a=""}else a=String.fromCharCode(i);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Oy(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const i=t[s].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const Zw={name:"attention",resolveAll:Rne,tokenize:kne};function Rne(t,e){let n=-1,r,s,i,a,c,u,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},g={...t[n][1].start};vM(m,-u),vM(g,u),a={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},i={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:u>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},t[r][1].end={...a.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Xr(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Xr(d,[["enter",s,e],["enter",a,e],["exit",a,e],["enter",i,e]]),d=Xr(d,Oy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Xr(d,[["exit",i,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Xr(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Or(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kne(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=yc(r);let i;return a;function a(u){return i=u,t.enter("attentionSequence"),c(u)}function c(u){if(u===i)return t.consume(u),c;const d=t.exit("attentionSequence"),h=yc(u),m=!h||h===2&&s||n.includes(u),g=!s||s===2&&h||n.includes(r);return d._open=!!(i===42?m:m&&(s||!g)),d._close=!!(i===42?g:g&&(h||!m)),e(u)}}function vM(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Mne={name:"autolink",tokenize:One};function One(t,e,n){let r=0;return s;function s(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(y){return Kn(y)?(t.consume(y),a):y===64?n(y):d(y)}function a(y){return y===43||y===45||y===46||Nn(y)?(r=1,c(y)):d(y)}function c(y){return y===58?(t.consume(y),r=0,u):(y===43||y===45||y===46||Nn(y))&&r++<32?(t.consume(y),c):(r=0,d(y))}function u(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Tg(y)?n(y):(t.consume(y),u)}function d(y){return y===64?(t.consume(y),h):See(y)?(t.consume(y),d):n(y)}function h(y){return Nn(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||Nn(y))&&r++<63){const _=y===45?g:m;return t.consume(y),_}return n(y)}}function tt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(u){return Qe(u)?(t.enter(n),c(u)):e(u)}function c(u){return Qe(u)&&i++<s?(t.consume(u),c):(t.exit(n),e(u))}}const Hd={partial:!0,tokenize:Pne};function Pne(t,e,n){return r;function r(i){return Qe(i)?tt(t,s,"linePrefix")(i):s(i)}function s(i){return i===null||Pe(i)?e(i):n(i)}}const yj={continuation:{tokenize:Lne},exit:Dne,name:"blockQuote",tokenize:Ine};function Ine(t,e,n){const r=this;return s;function s(a){if(a===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),i}return n(a)}function i(a){return Qe(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Lne(t,e,n){const r=this;return s;function s(a){return Qe(a)?tt(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return t.attempt(yj,e,n)(a)}}function Dne(t){t.exit("blockQuote")}const bj={name:"characterEscape",tokenize:Nne};function Nne(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),s}function s(i){return Cee(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const vj={name:"characterReference",tokenize:jne};function jne(t,e,n){const r=this;let s=0,i,a;return c;function c(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),u}function u(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),i=31,a=Nn,h(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,a=Eee,h):(t.enter("characterReferenceValue"),i=7,a=Yw,h(m))}function h(m){if(m===59&&s){const g=t.exit("characterReferenceValue");return a===Nn&&!E1(r.sliceSerialize(g))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(m)&&s++<i?(t.consume(m),h):n(m)}}const _M={partial:!0,tokenize:$ne},wM={concrete:!0,name:"codeFenced",tokenize:Bne};function Bne(t,e,n){const r=this,s={partial:!0,tokenize:I};let i=0,a=0,c;return u;function u(P){return d(P)}function d(P){const j=r.events[r.events.length-1];return i=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,c=P,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===c?(a++,t.consume(P),h):a<3?n(P):(t.exit("codeFencedFenceSequence"),Qe(P)?tt(t,m,"whitespace")(P):m(P))}function m(P){return P===null||Pe(P)?(t.exit("codeFencedFence"),r.interrupt?e(P):t.check(_M,x,L)(P)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Pe(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(P)):Qe(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tt(t,y,"whitespace")(P)):P===96&&P===c?n(P):(t.consume(P),g)}function y(P){return P===null||Pe(P)?m(P):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(P))}function _(P){return P===null||Pe(P)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(P)):P===96&&P===c?n(P):(t.consume(P),_)}function x(P){return t.attempt(s,L,E)(P)}function E(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),S}function S(P){return i>0&&Qe(P)?tt(t,T,"linePrefix",i+1)(P):T(P)}function T(P){return P===null||Pe(P)?t.check(_M,x,L)(P):(t.enter("codeFlowValue"),k(P))}function k(P){return P===null||Pe(P)?(t.exit("codeFlowValue"),T(P)):(t.consume(P),k)}function L(P){return t.exit("codeFenced"),e(P)}function I(P,j,$){let H=0;return B;function B(ae){return P.enter("lineEnding"),P.consume(ae),P.exit("lineEnding"),Y}function Y(ae){return P.enter("codeFencedFence"),Qe(ae)?tt(P,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):ne(ae)}function ne(ae){return ae===c?(P.enter("codeFencedFenceSequence"),re(ae)):$(ae)}function re(ae){return ae===c?(H++,P.consume(ae),re):H>=a?(P.exit("codeFencedFenceSequence"),Qe(ae)?tt(P,Z,"whitespace")(ae):Z(ae)):$(ae)}function Z(ae){return ae===null||Pe(ae)?(P.exit("codeFencedFence"),j(ae)):$(ae)}}}function $ne(t,e,n){const r=this;return s;function s(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const i_={name:"codeIndented",tokenize:Une},Vne={partial:!0,tokenize:Fne};function Une(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),tt(t,i,"linePrefix",5)(d)}function i(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):Pe(d)?t.attempt(Vne,a,u)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Pe(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),c)}function u(d){return t.exit("codeIndented"),e(d)}}function Fne(t,e,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):Pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):tt(t,i,"linePrefix",5)(a)}function i(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):Pe(a)?s(a):n(a)}}const zne={name:"codeText",previous:qne,resolve:Hne,tokenize:Gne};function Hne(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function qne(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gne(t,e,n){let r=0,s,i;return a;function a(m){return t.enter("codeText"),t.enter("codeTextSequence"),c(m)}function c(m){return m===96?(t.consume(m),r++,c):(t.exit("codeTextSequence"),u(m))}function u(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),u):m===96?(i=t.enter("codeTextSequence"),s=0,h(m)):Pe(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Pe(m)?(t.exit("codeTextData"),u(m)):(t.consume(m),d)}function h(m){return m===96?(t.consume(m),s++,h):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(i.type="codeTextData",d(m))}}class Wne{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&of(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),of(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),of(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);of(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);of(this.left,n.reverse())}}}function of(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _j(t){const e={};let n=-1,r,s,i,a,c,u,d;const h=new Wne(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Kne(h,n)),n=e[n],d=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(a=h.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...h.get(s)[1].start},c=h.slice(s,n),c.unshift(r),h.splice(s,n-s+1,c))}}return Or(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function Kne(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,u=[],d={};let h,m,g=-1,y=n,_=0,x=0;const E=[x];for(;y;){for(;t.get(++s)[1]!==y;);i.push(s),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),m&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(x=g+1,E.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),g=E.length;g--;){const S=c.slice(E[g],E[g+1]),T=i.pop();u.push([T,T+S.length-1]),t.splice(T,2,S)}for(u.reverse(),g=-1;++g<u.length;)d[_+u[g][0]]=_+u[g][1],_+=u[g][1]-u[g][0]-1;return d}const Yne={resolve:Jne,tokenize:Zne},Xne={partial:!0,tokenize:Qne};function Jne(t){return _j(t),t}function Zne(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?i(c):Pe(c)?t.check(Xne,a,i)(c):(t.consume(c),s)}function i(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function a(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Qne(t,e,n){const r=this;return s;function s(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),tt(t,i,"linePrefix")}function i(a){if(a===null||Pe(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function wj(t,e,n,r,s,i,a,c,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return m;function m(S){return S===60?(t.enter(r),t.enter(s),t.enter(i),t.consume(S),t.exit(i),g):S===null||S===32||S===41||Tg(S)?n(S):(t.enter(r),t.enter(a),t.enter(c),t.enter("chunkString",{contentType:"string"}),x(S))}function g(S){return S===62?(t.enter(i),t.consume(S),t.exit(i),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(t.exit("chunkString"),t.exit(c),g(S)):S===null||S===60||Pe(S)?n(S):(t.consume(S),S===92?_:y)}function _(S){return S===60||S===62||S===92?(t.consume(S),y):y(S)}function x(S){return!h&&(S===null||S===41||pt(S))?(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(r),e(S)):h<d&&S===40?(t.consume(S),h++,x):S===41?(t.consume(S),h--,x):S===null||S===32||S===40||Tg(S)?n(S):(t.consume(S),S===92?E:x)}function E(S){return S===40||S===41||S===92?(t.consume(S),x):x(S)}}function xj(t,e,n,r,s,i){const a=this;let c=0,u;return d;function d(y){return t.enter(r),t.enter(s),t.consume(y),t.exit(s),t.enter(i),h}function h(y){return c>999||y===null||y===91||y===93&&!u||y===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(t.exit(i),t.enter(s),t.consume(y),t.exit(s),t.exit(r),e):Pe(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Pe(y)||c++>999?(t.exit("chunkString"),h(y)):(t.consume(y),u||(u=!Qe(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(t.consume(y),c++,m):m(y)}}function Sj(t,e,n,r,s,i){let a;return c;function c(g){return g===34||g===39||g===40?(t.enter(r),t.enter(s),t.consume(g),t.exit(s),a=g===40?41:g,u):n(g)}function u(g){return g===a?(t.enter(s),t.consume(g),t.exit(s),t.exit(r),e):(t.enter(i),d(g))}function d(g){return g===a?(t.exit(i),u(a)):g===null?n(g):Pe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),tt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===a||g===null||Pe(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?m:h)}function m(g){return g===a||g===92?(t.consume(g),h):h(g)}}function Yf(t,e){let n;return r;function r(s){return Pe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):Qe(s)?tt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const ere={name:"definition",tokenize:nre},tre={partial:!0,tokenize:rre};function nre(t,e,n){const r=this;let s;return i;function i(y){return t.enter("definition"),a(y)}function a(y){return xj.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return s=ms(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),u):n(y)}function u(y){return pt(y)?Yf(t,d)(y):d(y)}function d(y){return wj(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(tre,m,m)(y)}function m(y){return Qe(y)?tt(t,g,"whitespace")(y):g(y)}function g(y){return y===null||Pe(y)?(t.exit("definition"),r.parser.defined.push(s),e(y)):n(y)}}function rre(t,e,n){return r;function r(c){return pt(c)?Yf(t,s)(c):n(c)}function s(c){return Sj(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return Qe(c)?tt(t,a,"whitespace")(c):a(c)}function a(c){return c===null||Pe(c)?e(c):n(c)}}const sre={name:"hardBreakEscape",tokenize:ire};function ire(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),s}function s(i){return Pe(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const ore={name:"headingAtx",resolve:are,tokenize:lre};function are(t,e){let n=t.length-2,r=3,s,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Or(t,r,n-r+1,[["enter",s,e],["enter",i,e],["exit",i,e],["exit",s,e]])),t}function lre(t,e,n){let r=0;return s;function s(h){return t.enter("atxHeading"),i(h)}function i(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||pt(h)?(t.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||Pe(h)?(t.exit("atxHeading"),e(h)):Qe(h)?tt(t,c,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),c(h))}function d(h){return h===null||h===35||pt(h)?(t.exit("atxHeadingText"),c(h)):(t.consume(h),d)}}const cre=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xM=["pre","script","style","textarea"],ure={concrete:!0,name:"htmlFlow",resolveTo:hre,tokenize:pre},fre={partial:!0,tokenize:gre},dre={partial:!0,tokenize:mre};function hre(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function pre(t,e,n){const r=this;let s,i,a,c,u;return d;function d(O){return h(O)}function h(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),m}function m(O){return O===33?(t.consume(O),g):O===47?(t.consume(O),i=!0,x):O===63?(t.consume(O),s=3,r.interrupt?e:A):Kn(O)?(t.consume(O),a=String.fromCharCode(O),E):n(O)}function g(O){return O===45?(t.consume(O),s=2,y):O===91?(t.consume(O),s=5,c=0,_):Kn(O)?(t.consume(O),s=4,r.interrupt?e:A):n(O)}function y(O){return O===45?(t.consume(O),r.interrupt?e:A):n(O)}function _(O){const me="CDATA[";return O===me.charCodeAt(c++)?(t.consume(O),c===me.length?r.interrupt?e:ne:_):n(O)}function x(O){return Kn(O)?(t.consume(O),a=String.fromCharCode(O),E):n(O)}function E(O){if(O===null||O===47||O===62||pt(O)){const me=O===47,Ce=a.toLowerCase();return!me&&!i&&xM.includes(Ce)?(s=1,r.interrupt?e(O):ne(O)):cre.includes(a.toLowerCase())?(s=6,me?(t.consume(O),S):r.interrupt?e(O):ne(O)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):i?T(O):k(O))}return O===45||Nn(O)?(t.consume(O),a+=String.fromCharCode(O),E):n(O)}function S(O){return O===62?(t.consume(O),r.interrupt?e:ne):n(O)}function T(O){return Qe(O)?(t.consume(O),T):B(O)}function k(O){return O===47?(t.consume(O),B):O===58||O===95||Kn(O)?(t.consume(O),L):Qe(O)?(t.consume(O),k):B(O)}function L(O){return O===45||O===46||O===58||O===95||Nn(O)?(t.consume(O),L):I(O)}function I(O){return O===61?(t.consume(O),P):Qe(O)?(t.consume(O),I):k(O)}function P(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),u=O,j):Qe(O)?(t.consume(O),P):$(O)}function j(O){return O===u?(t.consume(O),u=null,H):O===null||Pe(O)?n(O):(t.consume(O),j)}function $(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||pt(O)?I(O):(t.consume(O),$)}function H(O){return O===47||O===62||Qe(O)?k(O):n(O)}function B(O){return O===62?(t.consume(O),Y):n(O)}function Y(O){return O===null||Pe(O)?ne(O):Qe(O)?(t.consume(O),Y):n(O)}function ne(O){return O===45&&s===2?(t.consume(O),U):O===60&&s===1?(t.consume(O),X):O===62&&s===4?(t.consume(O),ee):O===63&&s===3?(t.consume(O),A):O===93&&s===5?(t.consume(O),le):Pe(O)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(fre,fe,re)(O)):O===null||Pe(O)?(t.exit("htmlFlowData"),re(O)):(t.consume(O),ne)}function re(O){return t.check(dre,Z,fe)(O)}function Z(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),ae}function ae(O){return O===null||Pe(O)?re(O):(t.enter("htmlFlowData"),ne(O))}function U(O){return O===45?(t.consume(O),A):ne(O)}function X(O){return O===47?(t.consume(O),a="",z):ne(O)}function z(O){if(O===62){const me=a.toLowerCase();return xM.includes(me)?(t.consume(O),ee):ne(O)}return Kn(O)&&a.length<8?(t.consume(O),a+=String.fromCharCode(O),z):ne(O)}function le(O){return O===93?(t.consume(O),A):ne(O)}function A(O){return O===62?(t.consume(O),ee):O===45&&s===2?(t.consume(O),A):ne(O)}function ee(O){return O===null||Pe(O)?(t.exit("htmlFlowData"),fe(O)):(t.consume(O),ee)}function fe(O){return t.exit("htmlFlow"),e(O)}}function mre(t,e,n){const r=this;return s;function s(a){return Pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function gre(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Hd,e,n)}}const yre={name:"htmlText",tokenize:bre};function bre(t,e,n){const r=this;let s,i,a;return c;function c(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),u}function u(A){return A===33?(t.consume(A),d):A===47?(t.consume(A),I):A===63?(t.consume(A),k):Kn(A)?(t.consume(A),$):n(A)}function d(A){return A===45?(t.consume(A),h):A===91?(t.consume(A),i=0,_):Kn(A)?(t.consume(A),T):n(A)}function h(A){return A===45?(t.consume(A),y):n(A)}function m(A){return A===null?n(A):A===45?(t.consume(A),g):Pe(A)?(a=m,X(A)):(t.consume(A),m)}function g(A){return A===45?(t.consume(A),y):m(A)}function y(A){return A===62?U(A):A===45?g(A):m(A)}function _(A){const ee="CDATA[";return A===ee.charCodeAt(i++)?(t.consume(A),i===ee.length?x:_):n(A)}function x(A){return A===null?n(A):A===93?(t.consume(A),E):Pe(A)?(a=x,X(A)):(t.consume(A),x)}function E(A){return A===93?(t.consume(A),S):x(A)}function S(A){return A===62?U(A):A===93?(t.consume(A),S):x(A)}function T(A){return A===null||A===62?U(A):Pe(A)?(a=T,X(A)):(t.consume(A),T)}function k(A){return A===null?n(A):A===63?(t.consume(A),L):Pe(A)?(a=k,X(A)):(t.consume(A),k)}function L(A){return A===62?U(A):k(A)}function I(A){return Kn(A)?(t.consume(A),P):n(A)}function P(A){return A===45||Nn(A)?(t.consume(A),P):j(A)}function j(A){return Pe(A)?(a=j,X(A)):Qe(A)?(t.consume(A),j):U(A)}function $(A){return A===45||Nn(A)?(t.consume(A),$):A===47||A===62||pt(A)?H(A):n(A)}function H(A){return A===47?(t.consume(A),U):A===58||A===95||Kn(A)?(t.consume(A),B):Pe(A)?(a=H,X(A)):Qe(A)?(t.consume(A),H):U(A)}function B(A){return A===45||A===46||A===58||A===95||Nn(A)?(t.consume(A),B):Y(A)}function Y(A){return A===61?(t.consume(A),ne):Pe(A)?(a=Y,X(A)):Qe(A)?(t.consume(A),Y):H(A)}function ne(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),s=A,re):Pe(A)?(a=ne,X(A)):Qe(A)?(t.consume(A),ne):(t.consume(A),Z)}function re(A){return A===s?(t.consume(A),s=void 0,ae):A===null?n(A):Pe(A)?(a=re,X(A)):(t.consume(A),re)}function Z(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||pt(A)?H(A):(t.consume(A),Z)}function ae(A){return A===47||A===62||pt(A)?H(A):n(A)}function U(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function X(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),z}function z(A){return Qe(A)?tt(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):le(A)}function le(A){return t.enter("htmlTextData"),a(A)}}const T1={name:"labelEnd",resolveAll:xre,resolveTo:Sre,tokenize:Ere},vre={tokenize:Cre},_re={tokenize:Tre},wre={tokenize:Are};function xre(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Or(t,0,t.length,n),t}function Sre(t,e){let n=t.length,r=0,s,i,a,c;for(;n--;)if(s=t[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const u={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[i][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[a-2][1].start}};return c=[["enter",u,e],["enter",d,e]],c=Xr(c,t.slice(i+1,i+r+3)),c=Xr(c,[["enter",h,e]]),c=Xr(c,Oy(e.parser.constructs.insideSpan.null,t.slice(i+r+4,a-3),e)),c=Xr(c,[["exit",h,e],t[a-2],t[a-1],["exit",d,e]]),c=Xr(c,t.slice(a+1)),c=Xr(c,[["exit",u,e]]),Or(t,i,t.length,c),t}function Ere(t,e,n){const r=this;let s=r.events.length,i,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return c;function c(g){return i?i._inactive?m(g):(a=r.parser.defined.includes(ms(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),u):n(g)}function u(g){return g===40?t.attempt(vre,h,a?h:m)(g):g===91?t.attempt(_re,h,a?d:m)(g):a?h(g):m(g)}function d(g){return t.attempt(wre,h,m)(g)}function h(g){return e(g)}function m(g){return i._balanced=!0,n(g)}}function Cre(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),s}function s(m){return pt(m)?Yf(t,i)(m):i(m)}function i(m){return m===41?h(m):wj(t,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return pt(m)?Yf(t,u)(m):h(m)}function c(m){return n(m)}function u(m){return m===34||m===39||m===40?Sj(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function d(m){return pt(m)?Yf(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function Tre(t,e,n){const r=this;return s;function s(c){return xj.call(r,t,i,a,"reference","referenceMarker","referenceString")(c)}function i(c){return r.parser.defined.includes(ms(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function a(c){return n(c)}}function Are(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),s}function s(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const Rre={name:"labelStartImage",resolveAll:T1.resolveAll,tokenize:kre};function kre(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),i}function i(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Mre={name:"labelStartLink",resolveAll:T1.resolveAll,tokenize:Ore};function Ore(t,e,n){const r=this;return s;function s(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const o_={name:"lineEnding",tokenize:Pre};function Pre(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),tt(t,e,"linePrefix")}}const Hm={name:"thematicBreak",tokenize:Ire};function Ire(t,e,n){let r=0,s;return i;function i(d){return t.enter("thematicBreak"),a(d)}function a(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Pe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===s?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Qe(d)?tt(t,c,"whitespace")(d):c(d))}}const sr={continuation:{tokenize:jre},exit:$re,name:"list",tokenize:Nre},Lre={partial:!0,tokenize:Vre},Dre={partial:!0,tokenize:Bre};function Nre(t,e,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return c;function c(y){const _=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Yw(y)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Hm,n,d)(y):d(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(y)}return n(y)}function u(y){return Yw(y)&&++a<10?(t.consume(y),u):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(Hd,r.interrupt?n:h,t.attempt(Lre,g,m))}function h(y){return r.containerState.initialBlankLine=!0,i++,g(y)}function m(y){return Qe(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function jre(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Hd,s,i);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,tt(t,e,"listItemIndent",r.containerState.size+1)(c)}function i(c){return r.containerState.furtherBlankLines||!Qe(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Dre,e,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,tt(t,t.attempt(sr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Bre(t,e,n){const r=this;return tt(t,s,"listItemIndent",r.containerState.size+1);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(i):n(i)}}function $re(t){t.exit(this.containerState.type)}function Vre(t,e,n){const r=this;return tt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=r.events[r.events.length-1];return!Qe(i)&&a&&a[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const SM={name:"setextUnderline",resolveTo:Ure,tokenize:Fre};function Ure(t,e){let n=t.length,r,s,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",i?(t.splice(s,0,["enter",a,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Fre(t,e,n){const r=this;let s;return i;function i(d){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),s=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),Qe(d)?tt(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Pe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const zre={tokenize:Jre,partial:!0};function Hre(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Kre,continuation:{tokenize:Yre},exit:Xre}},text:{91:{name:"gfmFootnoteCall",tokenize:Wre},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:qre,resolveTo:Gre}}}}function qre(t,e,n){const r=this;let s=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const u=r.events[s][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return c;function c(u){if(!a||!a._balanced)return n(u);const d=ms(r.sliceSerialize({start:a.end,end:r.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Gre(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",s,e],["exit",s,e],["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...c),t}function Wre(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,a;return c;function c(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),u}function u(m){return m!==94?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(m){if(i>999||m===93&&!a||m===null||m===91||pt(m))return n(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return s.includes(ms(r.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return pt(m)||(a=!0),i++,t.consume(m),m===92?h:d}function h(m){return m===91||m===92||m===93?(t.consume(m),i++,d):d(m)}}function Kre(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0,c;return u;function u(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(_)}function h(_){if(a>999||_===93&&!c||_===null||_===91||pt(_))return n(_);if(_===93){t.exit("chunkString");const x=t.exit("gfmFootnoteDefinitionLabelString");return i=ms(r.sliceSerialize(x)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return pt(_)||(c=!0),a++,t.consume(_),_===92?m:h}function m(_){return _===91||_===92||_===93?(t.consume(_),a++,h):h(_)}function g(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),s.includes(i)||s.push(i),tt(t,y,"gfmFootnoteDefinitionWhitespace")):n(_)}function y(_){return e(_)}}function Yre(t,e,n){return t.check(Hd,e,t.attempt(zre,e,n))}function Xre(t){t.exit("gfmFootnoteDefinition")}function Jre(t,e,n){const r=this;return tt(t,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(i):n(i)}}function Zre(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,c){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},m={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},g=[["enter",h,c],["enter",a[d][1],c],["exit",a[d][1],c],["enter",m,c]],y=c.parser.constructs.insideSpan.null;y&&Or(g,g.length,0,Oy(y,a.slice(d+1,u),c)),Or(g,g.length,0,[["exit",m,c],["enter",a[u][1],c],["exit",a[u][1],c],["exit",h,c]]),Or(a,d-1,u-d+3,g),u=d+g.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function i(a,c,u){const d=this.previous,h=this.events;let m=0;return g;function g(_){return d===126&&h[h.length-1][1].type!=="characterEscape"?u(_):(a.enter("strikethroughSequenceTemporary"),y(_))}function y(_){const x=yc(d);if(_===126)return m>1?u(_):(a.consume(_),m++,y);if(m<2&&!n)return u(_);const E=a.exit("strikethroughSequenceTemporary"),S=yc(_);return E._open=!S||S===2&&!!x,E._close=!x||x===2&&!!S,c(_)}}}class Qre{constructor(){this.map=[]}add(e,n,r){ese(this,e,n,r)}consume(e){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let s=r.pop();for(;s;){for(const i of s)e.push(i);s=r.pop()}this.map.length=0}}function ese(t,e,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...r);return}s+=1}t.map.push([e,n,r])}}function tse(t,e){let n=!1;const r=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function nse(){return{flow:{null:{name:"table",tokenize:rse,resolveAll:sse}}}}function rse(t,e,n){const r=this;let s=0,i=0,a;return c;function c(B){let Y=r.events.length-1;for(;Y>-1;){const Z=r.events[Y][1].type;if(Z==="lineEnding"||Z==="linePrefix")Y--;else break}const ne=Y>-1?r.events[Y][1].type:null,re=ne==="tableHead"||ne==="tableRow"?P:u;return re===P&&r.parser.lazy[r.now().line]?n(B):re(B)}function u(B){return t.enter("tableHead"),t.enter("tableRow"),d(B)}function d(B){return B===124||(a=!0,i+=1),h(B)}function h(B){return B===null?n(B):Pe(B)?i>1?(i=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),y):n(B):Qe(B)?tt(t,h,"whitespace")(B):(i+=1,a&&(a=!1,s+=1),B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),a=!0,h):(t.enter("data"),m(B)))}function m(B){return B===null||B===124||pt(B)?(t.exit("data"),h(B)):(t.consume(B),B===92?g:m)}function g(B){return B===92||B===124?(t.consume(B),m):m(B)}function y(B){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(B):(t.enter("tableDelimiterRow"),a=!1,Qe(B)?tt(t,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):_(B))}function _(B){return B===45||B===58?E(B):B===124?(a=!0,t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),x):I(B)}function x(B){return Qe(B)?tt(t,E,"whitespace")(B):E(B)}function E(B){return B===58?(i+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),S):B===45?(i+=1,S(B)):B===null||Pe(B)?L(B):I(B)}function S(B){return B===45?(t.enter("tableDelimiterFiller"),T(B)):I(B)}function T(B){return B===45?(t.consume(B),T):B===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(B),t.exit("tableDelimiterMarker"),k):(t.exit("tableDelimiterFiller"),k(B))}function k(B){return Qe(B)?tt(t,L,"whitespace")(B):L(B)}function L(B){return B===124?_(B):B===null||Pe(B)?!a||s!==i?I(B):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(B)):I(B)}function I(B){return n(B)}function P(B){return t.enter("tableRow"),j(B)}function j(B){return B===124?(t.enter("tableCellDivider"),t.consume(B),t.exit("tableCellDivider"),j):B===null||Pe(B)?(t.exit("tableRow"),e(B)):Qe(B)?tt(t,j,"whitespace")(B):(t.enter("data"),$(B))}function $(B){return B===null||B===124||pt(B)?(t.exit("data"),j(B)):(t.consume(B),B===92?H:$)}function H(B){return B===92||B===124?(t.consume(B),$):$(B)}}function sse(t,e){let n=-1,r=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],c=!1,u=0,d,h,m;const g=new Qre;for(;++n<t.length;){const y=t[n],_=y[1];y[0]==="enter"?_.type==="tableHead"?(c=!1,u!==0&&(EM(g,e,u,d,h),h=void 0,u=0),d={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",d,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,m=void 0,i=[0,0,0,0],a=[0,n+1,0,0],c&&(c=!1,h={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",h,e]])),s=_.type==="tableDelimiterRow"?2:h?3:1):s&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],m=am(g,e,i,s,void 0,m),i=[0,0,0,0]),a[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(a[0]=a[1],m=am(g,e,i,s,void 0,m)),i=a,a=[i[1],n,0,0])):_.type==="tableHead"?(c=!0,u=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=n,i[1]!==0?(a[0]=a[1],m=am(g,e,i,s,n,m)):a[1]!==0&&(m=am(g,e,a,s,n,m)),s=0):s&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&EM(g,e,u,d,h),g.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=tse(e.events,n))}return t}function am(t,e,n,r,s,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},Kl(e.events,n[0])),t.add(n[0],0,[["exit",i,e]]));const u=Kl(e.events,n[1]);if(i={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",i,e]]),n[2]!==0){const d=Kl(e.events,n[2]),h=Kl(e.events,n[3]),m={type:c,start:Object.assign({},d),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",m,e]]),r!==2){const g=e.events[n[2]],y=e.events[n[3]];if(g[1].end=Object.assign({},y[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,x=n[3]-n[2]-1;t.add(_,x,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return s!==void 0&&(i.end=Object.assign({},Kl(e.events,s)),t.add(s,0,[["exit",i,e]]),i=void 0),i}function EM(t,e,n,r,s){const i=[],a=Kl(e.events,n);s&&(s.end=Object.assign({},a),i.push(["exit",s,e])),r.end=Object.assign({},a),i.push(["exit",r,e]),t.add(n+1,0,i)}function Kl(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const ise={name:"tasklistCheck",tokenize:ase};function ose(){return{text:{91:ise}}}function ase(t,e,n){const r=this;return s;function s(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),i)}function i(u){return pt(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(u)}function c(u){return Pe(u)?e(u):Qe(u)?t.check({tokenize:lse},e,n)(u):n(u)}}function lse(t,e,n){return tt(t,r,"whitespace");function r(s){return s===null?n(s):e(s)}}function cse(t){return lj([vne(),Hre(),Zre(t),nse(),ose()])}const use={};function fse(t){const e=this,n=t||use,r=e.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(cse(n)),i.push(hne()),a.push(pne(n))}function Ej(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const dse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pse={};function CM(t,e){return(pse.jsx?hse:dse).test(t)}const mse=/[ \t\n\f\r]/g;function Py(t){return typeof t=="object"?t.type==="text"?TM(t.value):!1:TM(t)}function TM(t){return t.replace(mse,"")===""}class qd{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}qd.prototype.normal={};qd.prototype.property={};qd.prototype.space=void 0;function Cj(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new qd(n,r,e)}function Qw(t){return t.toLowerCase()}class lr{constructor(e,n){this.attribute=n,this.property=e}}lr.prototype.attribute="";lr.prototype.booleanish=!1;lr.prototype.boolean=!1;lr.prototype.commaOrSpaceSeparated=!1;lr.prototype.commaSeparated=!1;lr.prototype.defined=!1;lr.prototype.mustUseProperty=!1;lr.prototype.number=!1;lr.prototype.overloadedBoolean=!1;lr.prototype.property="";lr.prototype.spaceSeparated=!1;lr.prototype.space=void 0;let gse=0;const He=Na(),Ut=Na(),ex=Na(),pe=Na(),yt=Na(),cc=Na(),Ar=Na();function Na(){return 2**++gse}const tx=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:Ut,commaOrSpaceSeparated:Ar,commaSeparated:cc,number:pe,overloadedBoolean:ex,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),a_=Object.keys(tx);class A1 extends lr{constructor(e,n,r,s){let i=-1;if(super(e,n),AM(this,"space",s),typeof r=="number")for(;++i<a_.length;){const a=a_[i];AM(this,a_[i],(r&tx[a])===tx[a])}}}A1.prototype.defined=!0;function AM(t,e,n){n&&(t[e]=n)}function Lc(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const i=new A1(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[Qw(r)]=r,n[Qw(i.attribute)]=r}return new qd(e,n,t.space)}const Tj=Lc({properties:{ariaActiveDescendant:null,ariaAtomic:Ut,ariaAutoComplete:null,ariaBusy:Ut,ariaChecked:Ut,ariaColCount:pe,ariaColIndex:pe,ariaColSpan:pe,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:Ut,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:Ut,ariaFlowTo:yt,ariaGrabbed:Ut,ariaHasPopup:null,ariaHidden:Ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:pe,ariaLive:null,ariaModal:Ut,ariaMultiLine:Ut,ariaMultiSelectable:Ut,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:pe,ariaPressed:Ut,ariaReadOnly:Ut,ariaRelevant:null,ariaRequired:Ut,ariaRoleDescription:yt,ariaRowCount:pe,ariaRowIndex:pe,ariaRowSpan:pe,ariaSelected:Ut,ariaSetSize:pe,ariaSort:null,ariaValueMax:pe,ariaValueMin:pe,ariaValueNow:pe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Aj(t,e){return e in t?t[e]:e}function Rj(t,e){return Aj(t,e.toLowerCase())}const yse=Lc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cc,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:yt,autoFocus:He,autoPlay:He,blocking:yt,capture:null,charSet:null,checked:He,cite:null,className:yt,cols:pe,colSpan:null,content:null,contentEditable:Ut,controls:He,controlsList:yt,coords:pe|cc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:ex,draggable:Ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:yt,height:pe,hidden:ex,high:pe,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:yt,itemRef:yt,itemScope:He,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:pe,manifest:null,max:null,maxLength:pe,media:null,method:null,min:null,minLength:pe,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:pe,pattern:null,ping:yt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:yt,required:He,reversed:He,rows:pe,rowSpan:pe,sandbox:yt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:pe,sizes:null,slot:null,span:pe,spellCheck:Ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pe,step:null,style:null,tabIndex:pe,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:Ut,width:pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:pe,borderColor:null,bottomMargin:pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:pe,leftMargin:pe,link:null,longDesc:null,lowSrc:null,marginHeight:pe,marginWidth:pe,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:pe,rules:null,scheme:null,scrolling:Ut,standby:null,summary:null,text:null,topMargin:pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:pe,security:null,unselectable:null},space:"html",transform:Rj}),bse=Lc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ar,accentHeight:pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pe,amplitude:pe,arabicForm:null,ascent:pe,attributeName:null,attributeType:null,azimuth:pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pe,by:null,calcMode:null,capHeight:pe,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pe,diffuseConstant:pe,direction:null,display:null,dur:null,divisor:pe,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:pe,enableBackground:null,end:null,event:null,exponent:pe,externalResourcesRequired:null,fill:null,fillOpacity:pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cc,g2:cc,glyphName:cc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pe,horizOriginX:pe,horizOriginY:pe,id:null,ideographic:pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pe,k:pe,k1:pe,k2:pe,k3:pe,k4:pe,kernelMatrix:Ar,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pe,overlineThickness:pe,paintOrder:null,panose1:null,path:null,pathLength:pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pe,pointsAtY:pe,pointsAtZ:pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ar,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ar,rev:Ar,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ar,requiredFeatures:Ar,requiredFonts:Ar,requiredFormats:Ar,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pe,specularExponent:pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pe,strikethroughThickness:pe,string:null,stroke:null,strokeDashArray:Ar,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pe,strokeOpacity:pe,strokeWidth:null,style:null,surfaceScale:pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ar,tabIndex:pe,tableValues:null,target:null,targetX:pe,targetY:pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ar,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pe,underlineThickness:pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pe,values:null,vAlphabetic:pe,vMathematical:pe,vectorEffect:null,vHanging:pe,vIdeographic:pe,version:null,vertAdvY:pe,vertOriginX:pe,vertOriginY:pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Aj}),kj=Lc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Mj=Lc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rj}),Oj=Lc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),vse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_se=/[A-Z]/g,RM=/-[a-z]/g,wse=/^data[-\w.:]+$/i;function Pj(t,e){const n=Qw(e);let r=e,s=lr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wse.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(RM,Sse);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!RM.test(i)){let a=i.replace(_se,xse);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}s=A1}return new s(r,e)}function xse(t){return"-"+t.toLowerCase()}function Sse(t){return t.charAt(1).toUpperCase()}const Ij=Cj([Tj,yse,kj,Mj,Oj],"html"),Gd=Cj([Tj,bse,kj,Mj,Oj],"svg");function Lj(t){return t.join(" ").trim()}var jl={},l_,kM;function Ese(){if(kM)return l_;kM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,d="/",h="*",m="",g="comment",y="declaration";l_=function(x,E){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];E=E||{};var S=1,T=1;function k(re){var Z=re.match(e);Z&&(S+=Z.length);var ae=re.lastIndexOf(u);T=~ae?re.length-ae:T+re.length}function L(){var re={line:S,column:T};return function(Z){return Z.position=new I(re),$(),Z}}function I(re){this.start=re,this.end={line:S,column:T},this.source=E.source}I.prototype.content=x;function P(re){var Z=new Error(E.source+":"+S+":"+T+": "+re);if(Z.reason=re,Z.filename=E.source,Z.line=S,Z.column=T,Z.source=x,!E.silent)throw Z}function j(re){var Z=re.exec(x);if(Z){var ae=Z[0];return k(ae),x=x.slice(ae.length),Z}}function $(){j(n)}function H(re){var Z;for(re=re||[];Z=B();)Z!==!1&&re.push(Z);return re}function B(){var re=L();if(!(d!=x.charAt(0)||h!=x.charAt(1))){for(var Z=2;m!=x.charAt(Z)&&(h!=x.charAt(Z)||d!=x.charAt(Z+1));)++Z;if(Z+=2,m===x.charAt(Z-1))return P("End of comment missing");var ae=x.slice(2,Z-2);return T+=2,k(ae),x=x.slice(Z),T+=2,re({type:g,comment:ae})}}function Y(){var re=L(),Z=j(r);if(Z){if(B(),!j(s))return P("property missing ':'");var ae=j(i),U=re({type:y,property:_(Z[0].replace(t,m)),value:ae?_(ae[0].replace(t,m)):m});return j(a),U}}function ne(){var re=[];H(re);for(var Z;Z=Y();)Z!==!1&&(re.push(Z),H(re));return re}return $(),ne()};function _(x){return x?x.replace(c,m):m}return l_}var MM;function Cse(){if(MM)return jl;MM=1;var t=jl&&jl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jl,"__esModule",{value:!0}),jl.default=n;var e=t(Ese());function n(r,s){var i=null;if(!r||typeof r!="string")return i;var a=(0,e.default)(r),c=typeof s=="function";return a.forEach(function(u){if(u.type==="declaration"){var d=u.property,h=u.value;c?s(d,h,u):h&&(i=i||{},i[d]=h)}}),i}return jl}var af={},OM;function Tse(){if(OM)return af;OM=1,Object.defineProperty(af,"__esModule",{value:!0}),af.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,i=function(d){return!d||n.test(d)||t.test(d)},a=function(d,h){return h.toUpperCase()},c=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),i(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,a))};return af.camelCase=u,af}var lf,PM;function Ase(){if(PM)return lf;PM=1;var t=lf&&lf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(Cse()),n=Tse();function r(s,i){var a={};return!s||typeof s!="string"||(0,e.default)(s,function(c,u){c&&u&&(a[(0,n.camelCase)(c,i)]=u)}),a}return r.default=r,lf=r,lf}var Rse=Ase();const kse=Pa(Rse),Dj=Nj("end"),R1=Nj("start");function Nj(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Mse(t){const e=R1(t),n=Dj(t);if(e&&n)return{start:e,end:n}}function Xf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?IM(t.position):"start"in t||"end"in t?IM(t):"line"in t||"column"in t?nx(t):""}function nx(t){return LM(t&&t.line)+":"+LM(t&&t.column)}function IM(t){return nx(t&&t.start)+"-"+nx(t&&t.end)}function LM(t){return t&&typeof t=="number"?t:1}class Bn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?s=e:!i.cause&&e&&(a=!0,s=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=Xf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bn.prototype.file="";Bn.prototype.name="";Bn.prototype.reason="";Bn.prototype.message="";Bn.prototype.stack="";Bn.prototype.column=void 0;Bn.prototype.line=void 0;Bn.prototype.ancestors=void 0;Bn.prototype.cause=void 0;Bn.prototype.fatal=void 0;Bn.prototype.place=void 0;Bn.prototype.ruleId=void 0;Bn.prototype.source=void 0;const k1={}.hasOwnProperty,Ose=new Map,Pse=/[A-Z]/g,Ise=new Set(["table","tbody","thead","tfoot","tr"]),Lse=new Set(["td","th"]),jj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Fse(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Use(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Gd:Ij,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=$j(s,t,void 0);return i&&typeof i!="string"?i:s.create(t,s.Fragment,{children:i||void 0},void 0)}function $j(t,e,n){if(e.type==="element")return Dse(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Nse(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Bse(t,e,n);if(e.type==="mdxjsEsm")return jse(t,e);if(e.type==="root")return $se(t,e,n);if(e.type==="text")return Vse(t,e)}function Dse(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Gd,t.schema=s),t.ancestors.push(e);const i=Uj(t,e.tagName,!1),a=zse(t,e);let c=O1(t,e);return Ise.has(e.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!Py(u):!0})),Vj(t,a,i,e),M1(a,c),t.ancestors.pop(),t.schema=r,t.create(e,i,a,n)}function Nse(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}vd(t,e.position)}function jse(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);vd(t,e.position)}function Bse(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Gd,t.schema=s),t.ancestors.push(e);const i=e.name===null?t.Fragment:Uj(t,e.name,!0),a=Hse(t,e),c=O1(t,e);return Vj(t,a,i,e),M1(a,c),t.ancestors.pop(),t.schema=r,t.create(e,i,a,n)}function $se(t,e,n){const r={};return M1(r,O1(t,e)),t.create(e,t.Fragment,r,n)}function Vse(t,e){return e.value}function Vj(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function M1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Use(t,e,n){return r;function r(s,i,a,c){const d=Array.isArray(a.children)?n:e;return c?d(i,a,c):d(i,a)}}function Fse(t,e){return n;function n(r,s,i,a){const c=Array.isArray(i.children),u=R1(r);return e(s,i,a,c,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function zse(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&k1.call(e.properties,s)){const i=qse(t,s,e.properties[s]);if(i){const[a,c]=i;t.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&Lse.has(e.tagName)?r=c:n[a]=c}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hse(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const a=i.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else vd(t,e.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,i=t.evaluater.evaluateExpression(c.expression)}else vd(t,e.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function O1(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:Ose;for(;++r<e.children.length;){const i=e.children[r];let a;if(t.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const d=s.get(u)||0;a=u+"-"+d,s.set(u,d+1)}}const c=$j(t,i,a);c!==void 0&&n.push(c)}return n}function qse(t,e,n){const r=Pj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Ej(n):Lj(n)),r.property==="style"){let s=typeof n=="object"?n:Gse(t,String(n));return t.stylePropertyNameCase==="css"&&(s=Wse(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?vse[r.property]||r.property:r.attribute,n]}}function Gse(t,e){try{return kse(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=jj+"#cannot-parse-style-attribute",s}}function Uj(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let i=-1,a;for(;++i<s.length;){const c=CM(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}r=a}else r=CM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return k1.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);vd(t)}function vd(t,e){const n=new Bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=jj+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Wse(t){const e={};let n;for(n in t)k1.call(t,n)&&(e[Kse(n)]=t[n]);return e}function Kse(t){let e=t.replace(Pse,Yse);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Yse(t){return"-"+t.toLowerCase()}const c_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xse={tokenize:Jse};function Jse(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),tt(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),i(c)}function i(c){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(c)}function a(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Pe(c)?(t.consume(c),t.exit("chunkText"),i):(t.consume(c),a)}}const Zse={tokenize:Qse},DM={tokenize:eie};function Qse(t){const e=this,n=[];let r=0,s,i,a;return c;function c(k){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,d)(k)}return d(k)}function u(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&T();const L=e.events.length;let I=L,P;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){P=e.events[I][1].end;break}S(r);let j=L;for(;j<e.events.length;)e.events[j][1].end={...P},j++;return Or(e.events,I+1,0,e.events.slice(L)),e.events.length=j,d(k)}return c(k)}function d(k){if(r===n.length){if(!s)return g(k);if(s.currentConstruct&&s.currentConstruct.concrete)return _(k);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(DM,h,m)(k)}function h(k){return s&&T(),S(r),g(k)}function m(k){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,_(k)}function g(k){return e.containerState={},t.attempt(DM,y,_)(k)}function y(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function _(k){if(k===null){s&&T(),S(0),t.consume(k);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),x(k)}function x(k){if(k===null){E(t.exit("chunkFlow"),!0),S(0),t.consume(k);return}return Pe(k)?(t.consume(k),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(k),x)}function E(k,L){const I=e.sliceStream(k);if(L&&I.push(null),k.previous=i,i&&(i.next=k),i=k,s.defineSkip(k.start),s.write(I),e.parser.lazy[k.start.line]){let P=s.events.length;for(;P--;)if(s.events[P][1].start.offset<a&&(!s.events[P][1].end||s.events[P][1].end.offset>a))return;const j=e.events.length;let $=j,H,B;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(H){B=e.events[$][1].end;break}H=!0}for(S(r),P=j;P<e.events.length;)e.events[P][1].end={...B},P++;Or(e.events,$+1,0,e.events.slice(j)),e.events.length=P}}function S(k){let L=n.length;for(;L-- >k;){const I=n[L];e.containerState=I[1],I[0].exit.call(e,t)}n.length=k}function T(){s.write([null]),i=void 0,s=void 0,e.containerState._closeFlow=void 0}}function eie(t,e,n){return tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const tie={tokenize:nie};function nie(t){const e=this,n=t.attempt(Hd,r,t.attempt(this.parser.constructs.flowInitial,s,tt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Yne,s)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const rie={resolveAll:zj()},sie=Fj("string"),iie=Fj("text");function Fj(t){return{resolveAll:zj(t==="text"?oie:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],i=n.attempt(s,a,c);return a;function a(h){return d(h)?i(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return d(h)?(n.exit("data"),i(h)):(n.consume(h),u)}function d(h){if(h===null)return!0;const m=s[h];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function zj(t){return e;function e(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return t?t(n,r):n}}function oie(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let i=s.length,a=-1,c=0,u;for(;i--;){const d=s[i];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(d===-2)u=!0,c++;else if(d!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const aie={42:sr,43:sr,45:sr,48:sr,49:sr,50:sr,51:sr,52:sr,53:sr,54:sr,55:sr,56:sr,57:sr,62:yj},lie={91:ere},cie={[-2]:i_,[-1]:i_,32:i_},uie={35:ore,42:Hm,45:[SM,Hm],60:ure,61:SM,95:Hm,96:wM,126:wM},fie={38:vj,92:bj},die={[-5]:o_,[-4]:o_,[-3]:o_,33:Rre,38:vj,42:Zw,60:[Mne,yre],91:Mre,92:[sre,bj],93:T1,95:Zw,96:zne},hie={null:[Zw,rie]},pie={null:[42,95]},mie={null:[]},gie=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pie,contentInitial:lie,disable:mie,document:aie,flow:uie,flowInitial:cie,insideSpan:hie,string:fie,text:die},Symbol.toStringTag,{value:"Module"}));function yie(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],c=[];const u={attempt:j(I),check:j(P),consume:T,enter:k,exit:L,interrupt:j(P,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:y,write:m};let h=e.tokenize.call(d,u);return e.resolveAll&&i.push(e),d;function m(Y){return a=Xr(a,Y),E(),a[a.length-1]!==null?[]:($(e,0),d.events=Oy(i,d.events,d),d.events)}function g(Y,ne){return vie(y(Y),ne)}function y(Y){return bie(a,Y)}function _(){const{_bufferIndex:Y,_index:ne,line:re,column:Z,offset:ae}=r;return{_bufferIndex:Y,_index:ne,line:re,column:Z,offset:ae}}function x(Y){s[Y.line]=Y.column,B()}function E(){let Y;for(;r._index<a.length;){const ne=a[r._index];if(typeof ne=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<ne.length;)S(ne.charCodeAt(r._bufferIndex));else S(ne)}}function S(Y){h=h(Y)}function T(Y){Pe(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,B()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=Y}function k(Y,ne){const re=ne||{};return re.type=Y,re.start=_(),d.events.push(["enter",re,d]),c.push(re),re}function L(Y){const ne=c.pop();return ne.end=_(),d.events.push(["exit",ne,d]),ne}function I(Y,ne){$(Y,ne.from)}function P(Y,ne){ne.restore()}function j(Y,ne){return re;function re(Z,ae,U){let X,z,le,A;return Array.isArray(Z)?fe(Z):"tokenize"in Z?fe([Z]):ee(Z);function ee(ye){return ve;function ve(Ne){const mt=Ne!==null&&ye[Ne],Rt=Ne!==null&&ye.null,kt=[...Array.isArray(mt)?mt:mt?[mt]:[],...Array.isArray(Rt)?Rt:Rt?[Rt]:[]];return fe(kt)(Ne)}}function fe(ye){return X=ye,z=0,ye.length===0?U:O(ye[z])}function O(ye){return ve;function ve(Ne){return A=H(),le=ye,ye.partial||(d.currentConstruct=ye),ye.name&&d.parser.constructs.disable.null.includes(ye.name)?Ce():ye.tokenize.call(ne?Object.assign(Object.create(d),ne):d,u,me,Ce)(Ne)}}function me(ye){return Y(le,A),ae}function Ce(ye){return A.restore(),++z<X.length?O(X[z]):U}}}function $(Y,ne){Y.resolveAll&&!i.includes(Y)&&i.push(Y),Y.resolve&&Or(d.events,ne,d.events.length-ne,Y.resolve(d.events.slice(ne),d)),Y.resolveTo&&(d.events=Y.resolveTo(d.events,d))}function H(){const Y=_(),ne=d.previous,re=d.currentConstruct,Z=d.events.length,ae=Array.from(c);return{from:Z,restore:U};function U(){r=Y,d.previous=ne,d.currentConstruct=re,d.events.length=Z,c=ae,B()}}function B(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function bie(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,i=e.end._bufferIndex;let a;if(n===s)a=[t[n].slice(r,i)];else{if(a=t.slice(n,s),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}i>0&&a.push(t[s].slice(0,i))}return a}function vie(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const i=t[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,r.push(a)}return r.join("")}function _ie(t){const r={constructs:lj([gie,...(t||{}).extensions||[]]),content:s(Xse),defined:[],document:s(Zse),flow:s(tie),lazy:{},string:s(sie),text:s(iie)};return r;function s(i){return a;function a(c){return yie(r,i,c)}}}function wie(t){for(;!_j(t););return t}const NM=/[\0\t\n\r]/g;function xie(){let t=1,e="",n=!0,r;return s;function s(i,a,c){const u=[];let d,h,m,g,y;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),m=0,e="",n&&(i.charCodeAt(0)===65279&&m++,n=void 0);m<i.length;){if(NM.lastIndex=m,d=NM.exec(i),g=d&&d.index!==void 0?d.index:i.length,y=i.charCodeAt(g),!d){e=i.slice(m);break}if(y===10&&m===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),m<g&&(u.push(i.slice(m,g)),t+=g-m),y){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}m=g+1}return c&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Hj={}.hasOwnProperty;function Sie(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Eie(n)(wie(_ie(n).document().write(xie()(t,e,!0))))}function Eie(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i($o),autolinkProtocol:H,autolinkEmail:H,atxHeading:i(ti),blockQuote:i(Rt),characterEscape:H,characterReference:H,codeFenced:i(kt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(kt,a),codeText:i(xn,a),codeTextData:H,data:H,codeFlowValue:H,definition:i(Sn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(cr),hardBreakEscape:i(ts),hardBreakTrailing:i(ts),htmlFlow:i(En,a),htmlFlowData:H,htmlText:i(En,a),htmlTextData:H,image:i(Nc),label:a,link:i($o),listItem:i(Cs),listItemValue:g,listOrdered:i(Es,m),listUnordered:i(Es),paragraph:i(ja),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(ti),strong:i(Vo),thematicBreak:i(Li)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:mt,autolinkProtocol:Ne,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:ye,characterReference:ve,codeFenced:u(E),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:_,codeFlowValue:B,codeIndented:u(S),codeText:u(ae),codeTextData:B,data:B,definition:u(),definitionDestinationString:L,definitionLabelString:T,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(ne),hardBreakTrailing:u(ne),htmlFlow:u(re),htmlFlowData:B,htmlText:u(Z),htmlTextData:B,image:u(X),label:le,labelText:z,lineEnding:Y,link:u(U),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:me,resourceDestinationString:A,resourceTitleString:ee,resource:fe,setextHeading:u($),setextHeadingLineSequence:j,setextHeadingText:P,strong:u(),thematicBreak:u()}};qj(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(se){let he={type:"root",children:[]};const Ae={stack:[he],tokenStack:[],config:e,enter:c,exit:d,buffer:a,resume:h,data:n},Oe=[];let st=-1;for(;++st<se.length;)if(se[st][1].type==="listOrdered"||se[st][1].type==="listUnordered")if(se[st][0]==="enter")Oe.push(st);else{const Vn=Oe.pop();st=s(se,Vn,st)}for(st=-1;++st<se.length;){const Vn=e[se[st][0]];Hj.call(Vn,se[st][1].type)&&Vn[se[st][1].type].call(Object.assign({sliceSerialize:se[st][2].sliceSerialize},Ae),se[st][1])}if(Ae.tokenStack.length>0){const Vn=Ae.tokenStack[Ae.tokenStack.length-1];(Vn[1]||jM).call(Ae,void 0,Vn[0])}for(he.position={start:wo(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:wo(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<e.transforms.length;)he=e.transforms[st](he)||he;return he}function s(se,he,Ae){let Oe=he-1,st=-1,Vn=!1,ns,Cn,ur,Un;for(;++Oe<=Ae;){const jt=se[Oe];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?st++:st--,Un=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(ns&&!Un&&!st&&!ur&&(ur=Oe),Un=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Un=void 0}if(!st&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||st===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(ns){let Tn=Oe;for(Cn=void 0;Tn--;){const fn=se[Tn];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;Cn&&(se[Cn][1].type="lineEndingBlank",Vn=!0),fn[1].type="lineEnding",Cn=Tn}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}ur&&(!Cn||ur<Cn)&&(ns._spread=!0),ns.end=Object.assign({},Cn?se[Cn][1].start:jt[1].end),se.splice(Cn||Oe,0,["exit",ns,jt[2]]),Oe++,Ae++}if(jt[1].type==="listItemPrefix"){const Tn={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};ns=Tn,se.splice(Oe,0,["enter",Tn,jt[2]]),Oe++,Ae++,ur=void 0,Un=!0}}}return se[he][1]._spread=Vn,Ae}function i(se,he){return Ae;function Ae(Oe){c.call(this,se(Oe),Oe),he&&he.call(this,Oe)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(se,he,Ae){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([he,Ae||void 0]),se.position={start:wo(he.start),end:void 0}}function u(se){return he;function he(Ae){se&&se.call(this,Ae),d.call(this,Ae)}}function d(se,he){const Ae=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==se.type&&(he?he.call(this,se,Oe[0]):(Oe[1]||jM).call(this,se,Oe[0]));else throw new Error("Cannot close `"+se.type+"` ("+Xf({start:se.start,end:se.end})+"): its not open");Ae.position.end=wo(se.end)}function h(){return x1(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(se){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const se=this.resume(),he=this.stack[this.stack.length-1];he.lang=se}function _(){const se=this.resume(),he=this.stack[this.stack.length-1];he.meta=se}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se.replace(/(\r?\n|\r)$/g,"")}function T(se){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=ms(this.sliceSerialize(se)).toLowerCase()}function k(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function L(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function I(se){const he=this.stack[this.stack.length-1];if(!he.depth){const Ae=this.sliceSerialize(se).length;he.depth=Ae}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function j(se){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function H(se){const Ae=this.stack[this.stack.length-1].children;let Oe=Ae[Ae.length-1];(!Oe||Oe.type!=="text")&&(Oe=Dr(),Oe.position={start:wo(se.start),end:void 0},Ae.push(Oe)),this.stack.push(Oe)}function B(se){const he=this.stack.pop();he.value+=this.sliceSerialize(se),he.position.end=wo(se.end)}function Y(se){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=he.children[he.children.length-1];Ae.position.end=wo(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(H.call(this,se),B.call(this,se))}function ne(){this.data.atHardBreak=!0}function re(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function Z(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function ae(){const se=this.resume(),he=this.stack[this.stack.length-1];he.value=se}function U(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function X(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=he,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function z(se){const he=this.sliceSerialize(se),Ae=this.stack[this.stack.length-2];Ae.label=ene(he),Ae.identifier=ms(he).toLowerCase()}function le(){const se=this.stack[this.stack.length-1],he=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Oe=se.children;Ae.children=Oe}else Ae.alt=he}function A(){const se=this.resume(),he=this.stack[this.stack.length-1];he.url=se}function ee(){const se=this.resume(),he=this.stack[this.stack.length-1];he.title=se}function fe(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function me(se){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=ms(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function Ce(se){this.data.characterReferenceType=se.type}function ye(se){const he=this.sliceSerialize(se),Ae=this.data.characterReferenceType;let Oe;Ae?(Oe=aj(he,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=E1(he);const st=this.stack[this.stack.length-1];st.value+=Oe}function ve(se){const he=this.stack.pop();he.position.end=wo(se.end)}function Ne(se){B.call(this,se);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(se)}function mt(se){B.call(this,se);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(se)}function Rt(){return{type:"blockquote",children:[]}}function kt(){return{type:"code",lang:null,meta:null,value:""}}function xn(){return{type:"inlineCode",value:""}}function Sn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function cr(){return{type:"emphasis",children:[]}}function ti(){return{type:"heading",depth:0,children:[]}}function ts(){return{type:"break"}}function En(){return{type:"html",value:""}}function Nc(){return{type:"image",title:null,url:"",alt:null}}function $o(){return{type:"link",title:null,url:"",children:[]}}function Es(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Cs(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function ja(){return{type:"paragraph",children:[]}}function Vo(){return{type:"strong",children:[]}}function Dr(){return{type:"text",value:""}}function Li(){return{type:"thematicBreak"}}}function wo(t){return{line:t.line,column:t.column,offset:t.offset}}function qj(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?qj(t,r):Cie(t,r)}}function Cie(t,e){let n;for(n in e)if(Hj.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function jM(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Xf({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Xf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Xf({start:e.start,end:e.end})+") is still open")}function Tie(t){const e=this;e.parser=n;function n(r){return Sie(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Aie(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Rie(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function kie(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Mie(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Oie(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Pie(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Ic(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let a,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=i+1,c+=1,t.footnoteCounts.set(r,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function Iie(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Lie(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Gj(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function Die(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Gj(t,e);const s={src:Ic(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,i),t.applyData(e,i)}function Nie(t,e){const n={src:Ic(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function jie(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Bie(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Gj(t,e);const s={href:Ic(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function $ie(t,e){const n={href:Ic(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Vie(t,e,n){const r=t.all(e),s=n?Uie(n):Wj(e),i={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const h=r[c];(s||c!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?a.push(...h.children):a.push(h)}const u=r[r.length-1];u&&(s||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:a};return t.patch(e,d),t.applyData(e,d)}function Uie(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Wj(n[r])}return e}function Wj(t){const e=t.spread;return e??t.children.length>1}function Fie(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function zie(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hie(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function qie(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Gie(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=R1(e.children[1]),u=Dj(e.children[e.children.length-1]);c&&u&&(a.position={start:c,end:u}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function Wie(t,e,n){const r=n?n.children:void 0,i=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<c;){const m=e.children[u],g={},y=a?a[u]:void 0;y&&(g.align=y);let _={type:"element",tagName:i,properties:g,children:[]};m&&(_.children=t.all(m),t.patch(m,_),_=t.applyData(m,_)),d.push(_)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function Kie(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const BM=9,$M=32;function Yie(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const i=[];for(;r;)i.push(VM(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return i.push(VM(e.slice(s),s>0,!1)),i.join("")}function VM(t,e,n){let r=0,s=t.length;if(e){let i=t.codePointAt(r);for(;i===BM||i===$M;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(s-1);for(;i===BM||i===$M;)s--,i=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function Xie(t,e){const n={type:"text",value:Yie(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Jie(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Zie={blockquote:Aie,break:Rie,code:kie,delete:Mie,emphasis:Oie,footnoteReference:Pie,heading:Iie,html:Lie,imageReference:Die,image:Nie,inlineCode:jie,linkReference:Bie,link:$ie,listItem:Vie,list:Fie,paragraph:zie,root:Hie,strong:qie,table:Gie,tableCell:Kie,tableRow:Wie,text:Xie,thematicBreak:Jie,toml:lm,yaml:lm,definition:lm,footnoteDefinition:lm};function lm(){}const Kj=-1,Iy=0,Jf=1,Rg=2,P1=3,I1=4,L1=5,D1=6,Yj=7,Xj=8,UM=typeof self=="object"?self:globalThis,Qie=(t,e)=>{const n=(s,i)=>(t.set(i,s),s),r=s=>{if(t.has(s))return t.get(s);const[i,a]=e[s];switch(i){case Iy:case Kj:return n(a,s);case Jf:{const c=n([],s);for(const u of a)c.push(r(u));return c}case Rg:{const c=n({},s);for(const[u,d]of a)c[r(u)]=r(d);return c}case P1:return n(new Date(a),s);case I1:{const{source:c,flags:u}=a;return n(new RegExp(c,u),s)}case L1:{const c=n(new Map,s);for(const[u,d]of a)c.set(r(u),r(d));return c}case D1:{const c=n(new Set,s);for(const u of a)c.add(r(u));return c}case Yj:{const{name:c,message:u}=a;return n(new UM[c](u),s)}case Xj:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new UM[i](a),s)};return r},FM=t=>Qie(new Map,t)(0),Bl="",{toString:eoe}={},{keys:toe}=Object,cf=t=>{const e=typeof t;if(e!=="object"||!t)return[Iy,e];const n=eoe.call(t).slice(8,-1);switch(n){case"Array":return[Jf,Bl];case"Object":return[Rg,Bl];case"Date":return[P1,Bl];case"RegExp":return[I1,Bl];case"Map":return[L1,Bl];case"Set":return[D1,Bl];case"DataView":return[Jf,n]}return n.includes("Array")?[Jf,n]:n.includes("Error")?[Yj,n]:[Rg,n]},cm=([t,e])=>t===Iy&&(e==="function"||e==="symbol"),noe=(t,e,n,r)=>{const s=(a,c)=>{const u=r.push(a)-1;return n.set(c,u),u},i=a=>{if(n.has(a))return n.get(a);let[c,u]=cf(a);switch(c){case Iy:{let h=a;switch(u){case"bigint":c=Xj,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return s([Kj],a)}return s([c,h],a)}case Jf:{if(u){let g=a;return u==="DataView"?g=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(a)),s([u,[...g]],a)}const h=[],m=s([c,h],a);for(const g of a)h.push(i(g));return m}case Rg:{if(u)switch(u){case"BigInt":return s([u,a.toString()],a);case"Boolean":case"Number":case"String":return s([u,a.valueOf()],a)}if(e&&"toJSON"in a)return i(a.toJSON());const h=[],m=s([c,h],a);for(const g of toe(a))(t||!cm(cf(a[g])))&&h.push([i(g),i(a[g])]);return m}case P1:return s([c,a.toISOString()],a);case I1:{const{source:h,flags:m}=a;return s([c,{source:h,flags:m}],a)}case L1:{const h=[],m=s([c,h],a);for(const[g,y]of a)(t||!(cm(cf(g))||cm(cf(y))))&&h.push([i(g),i(y)]);return m}case D1:{const h=[],m=s([c,h],a);for(const g of a)(t||!cm(cf(g)))&&h.push(i(g));return m}}const{message:d}=a;return s([c,{name:u,message:d}],a)};return i},zM=(t,{json:e,lossy:n}={})=>{const r=[];return noe(!(e||n),!!e,new Map,r)(t),r},kg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?FM(zM(t,e)):structuredClone(t):(t,e)=>FM(zM(t,e));function roe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function soe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function ioe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||roe,r=t.options.footnoteBackLabel||soe,s=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const h=t.all(d),m=String(d.identifier).toUpperCase(),g=Ic(m.toLowerCase());let y=0;const _=[],x=t.footnoteCounts.get(m);for(;x!==void 0&&++y<=x;){_.length>0&&_.push({type:"text",value:" "});let T=typeof n=="string"?n:n(u,y);typeof T=="string"&&(T={type:"text",value:T}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const T=E.children[E.children.length-1];T&&T.type==="text"?T.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(..._)}else h.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(d,S),c.push(S)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...kg(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const rx={}.hasOwnProperty,ooe={};function aoe(t,e){const n=e||ooe,r=new Map,s=new Map,i=new Map,a={...Zie,...n.handlers},c={all:d,applyData:coe,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:u,options:n,patch:loe,wrap:foe};return w1(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const m=h.type==="definition"?r:s,g=String(h.identifier).toUpperCase();m.has(g)||m.set(g,h)}}),c;function u(h,m){const g=h.type,y=c.handlers[g];if(rx.call(c.handlers,g)&&y)return y(c,h,m);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in h){const{children:x,...E}=h,S=kg(E);return S.children=c.all(h),S}return kg(h)}return(c.options.unknownHandler||uoe)(c,h,m)}function d(h){const m=[];if("children"in h){const g=h.children;let y=-1;for(;++y<g.length;){const _=c.one(g[y],h);if(_){if(y&&g[y-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=HM(_.value)),!Array.isArray(_)&&_.type==="element")){const x=_.children[0];x&&x.type==="text"&&(x.value=HM(x.value))}Array.isArray(_)?m.push(..._):m.push(_)}}}return m}}function loe(t,e){t.position&&(e.position=Mse(t))}function coe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,kg(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function uoe(t,e){const n=e.data||{},r="value"in e&&!(rx.call(n,"hProperties")||rx.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function foe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function HM(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function qM(t,e){const n=aoe(t,e),r=n.one(t,void 0),s=ioe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function doe(t,e){return t&&"run"in t?async function(n,r){const s=qM(n,{file:r,...e});await t.run(s,r)}:function(n,r){return qM(n,{file:r,...t||e})}}function GM(t){if(t)throw t}var u_,WM;function hoe(){if(WM)return u_;WM=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},i=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!m)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},a=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},c=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return u_=function u(){var d,h,m,g,y,_,x=arguments[0],E=1,S=arguments.length,T=!1;for(typeof x=="boolean"&&(T=x,x=arguments[1]||{},E=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});E<S;++E)if(d=arguments[E],d!=null)for(h in d)m=c(x,h),g=c(d,h),x!==g&&(T&&g&&(i(g)||(y=s(g)))?(y?(y=!1,_=m&&s(m)?m:[]):_=m&&i(m)?m:{},a(x,{name:h,newValue:u(T,_,g)})):typeof g<"u"&&a(x,{name:h,newValue:g}));return x},u_}var poe=hoe();const f_=Pa(poe);function sx(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function moe(){const t=[],e={run:n,use:r};return e;function n(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...s);function c(u,...d){const h=t[++i];let m=-1;if(u){a(u);return}for(;++m<s.length;)(d[m]===null||d[m]===void 0)&&(d[m]=s[m]);s=d,h?goe(h,c)(...d):a(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function goe(t,e){let n;return r;function r(...a){const c=t.length>a.length;let u;c&&a.push(s);try{u=t.apply(this,a)}catch(d){const h=d;if(c&&n)throw h;return s(h)}c||(u&&u.then&&typeof u.then=="function"?u.then(i,s):u instanceof Error?s(u):i(u))}function s(a,...c){n||(n=!0,e(a,...c))}function i(a){s(null,a)}}const $s={basename:yoe,dirname:boe,extname:voe,join:_oe,sep:"/"};function yoe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Wd(t);let n=0,r=-1,s=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else a<0&&(i=!0,a=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function boe(t){if(Wd(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function voe(t){Wd(t);let e=t.length,n=-1,r=0,s=-1,i=0,a;for(;e--;){const c=t.codePointAt(e);if(c===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),c===46?s<0?s=e:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function _oe(...t){let e=-1,n;for(;++e<t.length;)Wd(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":woe(n)}function woe(t){Wd(t);const e=t.codePointAt(0)===47;let n=xoe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xoe(t,e){let n="",r=0,s=-1,i=0,a=-1,c,u;for(;++a<=t.length;){if(a<t.length)c=t.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length>0){n="",r=0,s=a,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,a):n=t.slice(s+1,a),r=a-s-1;s=a,i=0}else c===46&&i>-1?i++:i=-1}return n}function Wd(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Soe={cwd:Eoe};function Eoe(){return"/"}function ix(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Coe(t){if(typeof t=="string")t=new URL(t);else if(!ix(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Toe(t)}function Toe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const d_=["history","path","basename","stem","extname","dirname"];class Jj{constructor(e){let n;e?ix(e)?n={path:e}:typeof e=="string"||Aoe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Soe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<d_.length;){const i=d_[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)d_.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?$s.basename(this.path):void 0}set basename(e){p_(e,"basename"),h_(e,"basename"),this.path=$s.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$s.dirname(this.path):void 0}set dirname(e){KM(this.basename,"dirname"),this.path=$s.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$s.extname(this.path):void 0}set extname(e){if(h_(e,"extname"),KM(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$s.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ix(e)&&(e=Coe(e)),p_(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$s.basename(this.path,this.extname):void 0}set stem(e){p_(e,"stem"),h_(e,"stem"),this.path=$s.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Bn(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function h_(t,e){if(t&&t.includes($s.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$s.sep+"`")}function p_(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function KM(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Aoe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Roe=(function(t){const r=this.constructor.prototype,s=r[t],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),koe={}.hasOwnProperty;class N1 extends Roe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=moe()}copy(){const e=new N1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(f_(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(y_("data",this.frozen),this.namespace[e]=n,this):koe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(y_("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=um(e),r=this.parser||this.Parser;return m_("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),m_("process",this.parser||this.Parser),g_("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,a){const c=um(e),u=r.parse(c);r.run(u,c,function(h,m,g){if(h||!m||!g)return d(h);const y=m,_=r.stringify(y,g);Poe(_)?g.value=_:g.result=_,d(h,g)});function d(h,m){h||!m?a(h):i?i(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),m_("processSync",this.parser||this.Parser),g_("processSync",this.compiler||this.Compiler),this.process(e,s),XM("processSync","process",n),r;function s(i,a){n=!0,GM(i),r=a}}run(e,n,r){YM(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,c){const u=um(n);s.run(e,u,d);function d(h,m,g){const y=m||e;h?c(h):a?a(y):r(void 0,y,g)}}}runSync(e,n){let r=!1,s;return this.run(e,n,i),XM("runSync","run",r),s;function i(a,c){GM(a),s=c,r=!0}}stringify(e,n){this.freeze();const r=um(n),s=this.compiler||this.Compiler;return g_("stringify",s),YM(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(y_("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...m]=d;u(h,m)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=f_(!0,s.settings,d.settings))}function c(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const m=d[h];i(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===d){g=m;break}if(g===-1)r.push([d,...h]);else if(h.length>0){let[y,..._]=h;const x=r[g][1];sx(x)&&sx(y)&&(y=f_(!0,x,y)),r[g]=[d,y,..._]}}}}const Moe=new N1().freeze();function m_(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function g_(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function y_(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function YM(t){if(!sx(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function XM(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function um(t){return Ooe(t)?t:new Jj(t)}function Ooe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Poe(t){return typeof t=="string"||Ioe(t)}function Ioe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Loe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",JM=[],ZM={allowDangerousHtml:!0},Doe=/^(https?|ircs?|mailto|xmpp)$/i,Noe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function joe(t){const e=Boe(t),n=$oe(t);return Voe(e.runSync(e.parse(n),n),t)}function Boe(t){const e=t.rehypePlugins||JM,n=t.remarkPlugins||JM,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ZM}:ZM;return Moe().use(Tie).use(n).use(doe,r).use(e)}function $oe(t){const e=t.children||"",n=new Jj;return typeof e=="string"&&(n.value=e),n}function Voe(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,i=e.disallowedElements,a=e.skipHtml,c=e.unwrapDisallowed,u=e.urlTransform||Uoe;for(const h of Noe)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Loe+h.id,void 0);return w1(t,d),Bj(t,{Fragment:w.Fragment,components:s,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function d(h,m,g){if(h.type==="raw"&&g&&typeof m=="number")return a?g.children.splice(m,1):g.children[m]={type:"text",value:h.value},m;if(h.type==="element"){let y;for(y in c_)if(Object.hasOwn(c_,y)&&Object.hasOwn(h.properties,y)){const _=h.properties[y],x=c_[y];(x===null||x.includes(h.tagName))&&(h.properties[y]=u(String(_||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):i?i.includes(h.tagName):!1;if(!y&&r&&typeof m=="number"&&(y=!r(h,m,g)),y&&g&&typeof m=="number")return c&&h.children?g.children.splice(m,1,...h.children):g.children.splice(m,1),m}}}function Uoe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||Doe.test(t.slice(0,e))?t:""}var Foe=(t,e)=>typeof t=="string"?t===e:JSON.stringify(t)===JSON.stringify(e),zoe=(t,e)=>{if(!t||!e)return!1;const n=r=>{const{position:s,data:i,...a}=r||{};return a};return JSON.stringify(n(t.properties))===JSON.stringify(n(e.properties))&&Foe(t.children,e.children)},j1=(t,e)=>zoe(t.node,e.node),Hoe=(t={})=>Object.fromEntries(Object.entries(t??{}).map(([e,n])=>{if(!n)return[e,n];const r=n,s=({node:i,...a})=>w.jsx(r,{...a});return[e,C.memo(s,j1)]})),B1=C.createContext(null),Zj=()=>C.useContext(B1)!==null,qoe=({children:t,...e})=>w.jsx(B1.Provider,{value:e,children:t}),Goe=C.memo(qoe,j1),Woe=({node:t,...e})=>w.jsx("pre",{...e}),Koe=({node:t,...e})=>w.jsx("code",{...e}),$1=({node:t,components:{Pre:e,Code:n},code:r})=>w.jsx(e,{children:w.jsx(n,{node:t,children:r})}),Yoe=()=>null,Xoe=({node:t,components:{Pre:e,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:i,code:a})=>{const c=C.useMemo(()=>({Pre:e,Code:n}),[e,n]),u=i?r:$1;return w.jsxs(w.Fragment,{children:[w.jsx(s,{node:t,language:i,code:a}),w.jsx(u,{node:t,components:c,language:i??"unknown",code:a})]})},b_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var QM;function Joe(){return QM||(QM=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(i=s(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var c in i)e.call(i,c)&&i[c]&&(a=s(a,c));return a}function s(i,a){return a?i?i+" "+a:i+a:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(b_)),b_.exports}var Zoe=Joe();const Qj=Pa(Zoe);var eO=({className:t,...e})=>({className:n,...r})=>({className:Qj(t,n),...e,...r}),Qoe=({node:t,components:{Pre:e,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:i={},children:a,...c})=>{const u=C.useContext(B1),d=eO(u),h=Xn(E=>w.jsx(e,{...d(E)})),m=eO(c),g=Xn(E=>w.jsx(n,{...m(E)})),y=/language-(\w+)/.exec(c.className||"")?.[1]??"";if(typeof a!="string")return w.jsx($1,{node:t,components:{Pre:h,Code:g},code:a});const _=i[y]?.SyntaxHighlighter??r,x=i[y]?.CodeHeader??s;return w.jsx(Xoe,{node:t,components:{Pre:h,Code:g,SyntaxHighlighter:_,CodeHeader:x},language:y||"unknown",code:a})},eae=({node:t,components:e,componentsByLanguage:n,...r})=>Zj()?w.jsx(Qoe,{node:t,components:e,componentsByLanguage:n,...r}):w.jsx(e.Code,{...r}),tae=C.memo(eae,(t,e)=>t.components===e.components&&t.componentsByLanguage===e.componentsByLanguage&&j1(t,e)),{useSmooth:nae,useSmoothStatus:rae,withSmoothContextProvider:sae}=l7,iae=({components:t,componentsByLanguage:e,smooth:n=!0,preprocess:r,...s})=>{const i=dI(),a=C.useMemo(()=>r?{...i,text:r(i.text)}:i,[i,r]),{text:c}=nae(a,n),{pre:u=Woe,code:d=Koe,SyntaxHighlighter:h=$1,CodeHeader:m=Yoe}=t??{},g=C.useMemo(()=>({Pre:u,Code:d,SyntaxHighlighter:h,CodeHeader:m}),[u,d,h,m]),y=Xn(x=>w.jsx(tae,{components:g,componentsByLanguage:e,...x})),_=C.useMemo(()=>{const{pre:x,code:E,SyntaxHighlighter:S,CodeHeader:T,...k}=t??{};return{...k,pre:Goe,code:y}},[y,t]);return w.jsx(joe,{components:_,...s,children:c})},e6=C.forwardRef(({className:t,containerProps:e,containerComponent:n="div",...r},s)=>{const i=rae();return w.jsx(n,{"data-status":i.type,...e,className:Qj(t,e?.className),ref:s,children:w.jsx(iae,{...r})})});e6.displayName="MarkdownTextPrimitive";var oae=sae(e6),tO=Object.prototype.hasOwnProperty;function nO(t,e,n){for(n of t.keys())if(Zf(n,e))return n}function Zf(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Zf(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=nO(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=nO(e,s),!s)||!Zf(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(tO.call(t,n)&&++r&&!tO.call(e,n)||!(n in e)||!Zf(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var v_=t=>{const e=C.useRef(t),n=C.useRef(0);return typeof t!="object"||t===null?(t!==e.current&&(e.current=t,n.current+=1),[t,n.current]):(t!==e.current&&(Zf(t,e.current)||(e.current=t,n.current+=1)),[e.current,n.current])},aae=(t,e,n)=>{const r=Date.now();clearTimeout(e.current.timeoutId);const s=Math.max(0,e.current.nextAllowedTime-r);e.current.timeoutId=setTimeout(()=>{t().catch(console.error),e.current.nextAllowedTime=r+n},s)},t6=(t,e,n)=>{const r=e?Array.isArray(e)?e:[e]:[];if(t==null||typeof t=="string"&&!t.trim())return{languageId:"plaintext",displayLanguageId:"plaintext",langsToLoad:void 0};if(typeof t=="object")return{languageId:t.name,displayLanguageId:t.name||null,langsToLoad:t};const s=t.toLowerCase(),i=c=>c?.toLowerCase()===s,a=r.find(c=>i(c.name)||i(c.scopeName)||i(c.scopeName?.split(".").pop())||c.aliases?.some(i)||c.fileTypes?.some(i));return a?{languageId:a.name||t,displayLanguageId:t,langsToLoad:a}:n?.[t]?{languageId:n[t],displayLanguageId:t,langsToLoad:n[t]}:{languageId:t,displayLanguageId:t,langsToLoad:t}};function lae(t){const e=typeof t=="object"&&"tokenColors"in t&&Array.isArray(t.tokenColors),n=typeof t=="object"&&t!==null&&!e,r=typeof t=="object"&&t!==null&&!e&&Object.entries(t).some(([s,i])=>s&&i&&s.trim()!==""&&i!==""&&(typeof i=="string"||e));return n?{isMultiTheme:!0,themeId:r?`multi-${Object.values(t).map(i=>(typeof i=="string"?i:i?.name)||"custom").sort().join("-")}`:"multi-default",multiTheme:r?t:null,themesToLoad:r?Object.values(t):[]}:{isMultiTheme:!1,themeId:typeof t=="string"?t:t?.name||"custom",singleTheme:t,themesToLoad:[t]}}function cae(t=1){return{name:"react-shiki:line-numbers",code(e){if(this.addClassToHast(e,"has-line-numbers"),t!==1){const n=e.properties?.style||"",r=n?`${n}; --line-start: ${t}`:`--line-start: ${t}`;e.properties={...e.properties,style:r}}},line(e){return this.addClassToHast(e,"line-numbers"),e}}}var rO={light:"github-light",dark:"github-dark"},uae=(t,e,n,r,s={})=>{const[i,a]=C.useState(null),[c,u]=v_(e),[d,h]=v_(n),[m,g]=v_(s),{languageId:y,langsToLoad:_}=C.useMemo(()=>t6(c,m.customLanguages,m.langAlias),[c,m.customLanguages,m.langAlias]),{isMultiTheme:x,themeId:E,multiTheme:S,singleTheme:T,themesToLoad:k}=C.useMemo(()=>lae(d),[d]),L=C.useRef({nextAllowedTime:0,timeoutId:void 0}),I=C.useMemo(()=>{const P={lang:y},{defaultColor:j,cssVariablePrefix:$,showLineNumbers:H,startingLineNumber:B,...Y}=m,ne=x?{themes:S||rO,defaultColor:j,cssVariablePrefix:$}:{theme:T||rO.dark},re=Y.transformers||[];return H&&re.push(cae(B)),{...P,...ne,...Y,transformers:re}},[y,E,u,h,g]);return C.useEffect(()=>{let P=!0;const j=async()=>{if(!y)return;const H=m.highlighter?m.highlighter:await r(_,k),Y=H.getLoadedLanguages().includes(y)?y:"plaintext",ne={...I,lang:Y};if(P){const re=m.outputFormat==="html"?H.codeToHtml(t,ne):Bj(H.codeToHast(t,ne),{jsx:w.jsx,jsxs:w.jsxs,Fragment:w.Fragment});a(re)}},{delay:$}=m;return $?aae(j,L,$):j().catch(console.error),()=>{P=!1,clearTimeout(L.current.timeoutId)}},[t,I,m.delay,m.highlighter,_,k]),i};function fae(t,{insertAt:e}={}){if(typeof document>"u")return;const n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}fae(`.relative {
  position: relative;
}
.defaultStyles pre {
  overflow: auto;
  border-radius: 0.5rem;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
  padding-top: 1.25rem;
  padding-bottom: 1.25rem;
}
.languageLabel {
  position: absolute;
  right: 0.75rem;
  top: 0.5rem;
  font-family: monospace;
  font-size: 0.75rem;
  letter-spacing: -0.05em;
  color: rgba(107, 114, 128, 0.85);
}
.line-numbers::before {
  counter-increment: line-number;
  content: counter(line-number);
  display: inline-flex;
  justify-content: flex-end;
  align-items: flex-start;
  box-sizing: content-box;
  min-width: var(--line-numbers-width, 2ch);
  padding-left: var(--line-numbers-padding-left, 2ch);
  padding-right: var(--line-numbers-padding-right, 2ch);
  color: var(--line-numbers-foreground, rgba(107, 114, 128, 0.6));
  font-size: var(--line-numbers-font-size, inherit);
  font-weight: var(--line-numbers-font-weight, inherit);
  line-height: var(--line-numbers-line-height, inherit);
  font-family: var(--line-numbers-font-family, inherit);
  opacity: var(--line-numbers-opacity, 1);
  user-select: none;
  pointer-events: none;
}
.has-line-numbers {
  counter-reset: line-number calc(var(--line-start, 1) - 1);
  --line-numbers-foreground: rgba(107, 114, 128, 0.5);
  --line-numbers-width: 2ch;
  --line-numbers-padding-left: 0ch;
  --line-numbers-padding-right: 2ch;
  --line-numbers-font-size: inherit;
  --line-numbers-font-weight: inherit;
  --line-numbers-line-height: inherit;
  --line-numbers-font-family: inherit;
  --line-numbers-opacity: 1;
}
`);var dae=t=>C.forwardRef(({language:e,theme:n,delay:r,transformers:s,defaultColor:i,cssVariablePrefix:a,addDefaultStyles:c=!0,style:u,langStyle:d,className:h,langClassName:m,showLanguage:g=!0,showLineNumbers:y=!1,startingLineNumber:_=1,children:x,as:E="pre",customLanguages:S,...T},k)=>{const L={delay:r,transformers:s,customLanguages:S,showLineNumbers:y,defaultColor:i,cssVariablePrefix:a,startingLineNumber:_,...T},{displayLanguageId:I}=t6(e,S),P=t(x,e,n,L),j=typeof P=="string";return w.jsxs(E,{ref:k,"data-testid":"shiki-container",className:gg("relative","not-prose",c&&"defaultStyles",h),style:u,id:"shiki-container",children:[g&&I?w.jsx("span",{className:gg("languageLabel",m),style:d,id:"language-label",children:I}):null,j?w.jsx("div",{dangerouslySetInnerHTML:{__html:P}}):P]})});const hae="modulepreload",pae=function(t){return"/"+t},sO={},N=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var a=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=d(n.map(h=>{if(h=pae(h),h in sO)return;sO[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":hae,m||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((_,x)=>{y.addEventListener("load",_),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};let zt=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function mae(t){return V1(t)}function V1(t){return Array.isArray(t)?gae(t):t instanceof RegExp?t:typeof t=="object"?yae(t):t}function gae(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=V1(t[n]);return e}function yae(t){let e={};for(let n in t)e[n]=V1(t[n]);return e}function n6(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function r6(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?r6(t.substring(0,t.length-1)):t.substr(~e+1)}var __=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,fm=class{static hasCaptures(t){return t===null?!1:(__.lastIndex=0,__.test(t))}static replaceCaptures(t,e,n){return t.replace(__,(r,s,i,a)=>{let c=n[parseInt(s||i,10)];if(c){let u=e.substring(c.start,c.end);for(;u[0]===".";)u=u.substring(1);switch(a){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return r})}};function s6(t,e){return t<e?-1:t>e?1:0}function i6(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let s=0;s<n;s++){let i=s6(t[s],e[s]);if(i!==0)return i}return 0}return n-r}function iO(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function o6(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var a6=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},Mg=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(_ae(t),e)}static createFromParsedTheme(t,e){return xae(t,e)}_cachedMatchRoot=new a6(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(s=>bae(t.parent,s.parentScopes));return r?new l6(r.fontStyle,r.foreground,r.background):null}},w_=class qm{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new qm(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new qm(n,e[r]);return n}push(e){return new qm(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function bae(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],s=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],s=!0}for(;t&&!vae(t.scopeName,r);){if(s)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function vae(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var l6=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function _ae(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let s=0,i=e.length;s<i;s++){let a=e[s];if(!a.settings)continue;let c;if(typeof a.scope=="string"){let m=a.scope;m=m.replace(/^[,]+/,""),m=m.replace(/[,]+$/,""),c=m.split(",")}else Array.isArray(a.scope)?c=a.scope:c=[""];let u=-1;if(typeof a.settings.fontStyle=="string"){u=0;let m=a.settings.fontStyle.split(" ");for(let g=0,y=m.length;g<y;g++)switch(m[g]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let d=null;typeof a.settings.foreground=="string"&&iO(a.settings.foreground)&&(d=a.settings.foreground);let h=null;typeof a.settings.background=="string"&&iO(a.settings.background)&&(h=a.settings.background);for(let m=0,g=c.length;m<g;m++){let _=c[m].trim().split(" "),x=_[_.length-1],E=null;_.length>1&&(E=_.slice(0,_.length-1),E.reverse()),n[r++]=new wae(x,E,s,u,d,h)}}return n}var wae=class{constructor(t,e,n,r,s,i){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=s,this.background=i}},Ln=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Ln||{});function xae(t,e){t.sort((u,d)=>{let h=s6(u.scope,d.scope);return h!==0||(h=i6(u.parentScopes,d.parentScopes),h!==0)?h:u.index-d.index});let n=0,r="#000000",s="#ffffff";for(;t.length>=1&&t[0].scope==="";){let u=t.shift();u.fontStyle!==-1&&(n=u.fontStyle),u.foreground!==null&&(r=u.foreground),u.background!==null&&(s=u.background)}let i=new Sae(e),a=new l6(n,i.getId(r),i.getId(s)),c=new Cae(new ox(0,null,-1,0,0),[]);for(let u=0,d=t.length;u<d;u++){let h=t[u];c.insert(0,h.scope,h.parentScopes,h.fontStyle,i.getId(h.foreground),i.getId(h.background))}return new Mg(i,a,c)}var Sae=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Eae=Object.freeze([]),ox=class c6{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,r,s,i){this.scopeDepth=e,this.parentScopes=n||Eae,this.fontStyle=r,this.foreground=s,this.background=i}clone(){return new c6(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,s=e.length;r<s;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,s){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),s!==0&&(this.background=s)}},Cae=class ax{constructor(e,n=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,s=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[s]===">"&&s++,!(r>=e.parentScopes.length||s>=n.parentScopes.length);){const i=n.parentScopes[s].length-e.parentScopes[r].length;if(i!==0)return i;r++,s++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),s,i;if(r===-1?(s=e,i=""):(s=e.substring(0,r),i=e.substring(r+1)),this._children.hasOwnProperty(s))return this._children[s].match(i)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(ax._cmpBySpecificity),n}insert(e,n,r,s,i,a){if(n===""){this._doInsertHere(e,r,s,i,a);return}let c=n.indexOf("."),u,d;c===-1?(u=n,d=""):(u=n.substring(0,c),d=n.substring(c+1));let h;this._children.hasOwnProperty(u)?h=this._children[u]:(h=new ax(this._mainRule.clone(),ox.cloneArr(this._rulesWithParentScopes)),this._children[u]=h),h.insert(e+1,d,r,s,i,a)}_doInsertHere(e,n,r,s,i){if(n===null){this._mainRule.acceptOverwrite(e,r,s,i);return}for(let a=0,c=this._rulesWithParentScopes.length;a<c;a++){let u=this._rulesWithParentScopes[a];if(i6(u.parentScopes,n)===0){u.acceptOverwrite(e,r,s,i);return}}r===-1&&(r=this._mainRule.fontStyle),s===0&&(s=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new ox(e,n,r,s,i))}},bc=class Kr{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Kr.getLanguageId(e),r=Kr.getTokenType(e),s=Kr.getFontStyle(e),i=Kr.getForeground(e),a=Kr.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:s,foreground:i,background:a})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,s,i,a,c){let u=Kr.getLanguageId(e),d=Kr.getTokenType(e),h=Kr.containsBalancedBrackets(e)?1:0,m=Kr.getFontStyle(e),g=Kr.getForeground(e),y=Kr.getBackground(e);return n!==0&&(u=n),r!==8&&(d=r),s!==null&&(h=s?1:0),i!==-1&&(m=i),a!==0&&(g=a),c!==0&&(y=c),(u<<0|d<<8|h<<10|m<<11|g<<15|y<<24)>>>0}};function Og(t,e){const n=[],r=Tae(t);let s=r.next();for(;s!==null;){let u=0;if(s.length===2&&s.charAt(1)===":"){switch(s.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log(`Unknown priority ${s} in scope selector`)}s=r.next()}let d=a();if(n.push({matcher:d,priority:u}),s!==",")break;s=r.next()}return n;function i(){if(s==="-"){s=r.next();const u=i();return d=>!!u&&!u(d)}if(s==="("){s=r.next();const u=c();return s===")"&&(s=r.next()),u}if(oO(s)){const u=[];do u.push(s),s=r.next();while(oO(s));return d=>e(u,d)}return null}function a(){const u=[];let d=i();for(;d;)u.push(d),d=i();return h=>u.every(m=>m(h))}function c(){const u=[];let d=a();for(;d&&(u.push(d),s==="|"||s===",");){do s=r.next();while(s==="|"||s===",");d=a()}return h=>u.some(m=>m(h))}}function oO(t){return!!t&&!!t.match(/[\w\.:]+/)}function Tae(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function u6(t){typeof t.dispose=="function"&&t.dispose()}var _d=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Aae=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Rae=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},kae=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new _d(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new Rae;for(const n of t)Mae(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof _d){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Mae(t,e,n,r){const s=n.lookup(t.scopeName);if(!s){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const i=n.lookup(e);t instanceof _d?Gm({baseGrammar:i,selfGrammar:s},r):lx(t.ruleName,{baseGrammar:i,selfGrammar:s,repository:s.repository},r);const a=n.injections(t.scopeName);if(a)for(const c of a)r.add(new _d(c))}function lx(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];Pg([r],e,n)}}function Gm(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&Pg(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&Pg(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function Pg(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const s=r.repository?n6({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&Pg(r.patterns,{...e,repository:s},n);const i=r.include;if(!i)continue;const a=f6(i);switch(a.kind){case 0:Gm({...e,selfGrammar:e.baseGrammar},n);break;case 1:Gm(e,n);break;case 2:lx(a.ruleName,{...e,repository:s},n);break;case 3:case 4:const c=a.scopeName===e.selfGrammar.scopeName?e.selfGrammar:a.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(c){const u={baseGrammar:e.baseGrammar,selfGrammar:c,repository:s};a.kind===4?lx(a.ruleName,u,n):Gm(u,n)}else a.kind===4?n.add(new Aae(a.scopeName,a.ruleName)):n.add(new _d(a.scopeName));break}}}var Oae=class{kind=0},Pae=class{kind=1},Iae=class{constructor(t){this.ruleName=t}kind=2},Lae=class{constructor(t){this.scopeName=t}kind=3},Dae=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function f6(t){if(t==="$base")return new Oae;if(t==="$self")return new Pae;const e=t.indexOf("#");if(e===-1)return new Lae(t);if(e===0)return new Iae(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new Dae(n,r)}}var Nae=/\\(\d+)/,aO=/\\(\d+)/g,jae=-1,d6=-2;var Kd=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,r){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=fm.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=fm.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${r6(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:fm.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:fm.replaceCaptures(this._contentName,t,e)}},Bae=class extends Kd{retokenizeCapturedWithRuleId;constructor(t,e,n,r,s){super(t,e,n,r),this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,r){throw new Error("Not supported!")}},$ae=class extends Kd{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,r,s){super(t,e,n,null),this._match=new wd(r,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new xd,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},lO=class extends Kd{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,s){super(t,e,n,r),this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new xd,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},cx=class extends Kd{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,s,i,a,c,u,d){super(t,e,n,r),this._begin=new wd(s,this.id),this.beginCaptures=i,this._end=new wd(a||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=u||!1,this.patterns=d.patterns,this.hasMissingPatterns=d.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new xd;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},Ig=class extends Kd{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,r,s,i,a,c,u){super(t,e,n,r),this._begin=new wd(s,this.id),this.beginCaptures=i,this.whileCaptures=c,this._while=new wd(a,d6),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new xd;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new xd,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},h6=class Pn{static createCaptureRule(e,n,r,s,i){return e.registerRule(a=>new Bae(n,a,r,s,i))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(s=>{if(e.id=s,e.match)return new $ae(e.$vscodeTextmateLocation,e.id,e.name,e.match,Pn._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=n6({},r,e.repository));let i=e.patterns;return typeof i>"u"&&e.include&&(i=[{include:e.include}]),new lO(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Pn._compilePatterns(i,n,r))}return e.while?new Ig(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Pn._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,Pn._compileCaptures(e.whileCaptures||e.captures,n,r),Pn._compilePatterns(e.patterns,n,r)):new cx(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Pn._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,Pn._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,Pn._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let s=[];if(e){let i=0;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const c=parseInt(a,10);c>i&&(i=c)}for(let a=0;a<=i;a++)s[a]=null;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const c=parseInt(a,10);let u=0;e[a].patterns&&(u=Pn.getCompiledRuleId(e[a],n,r)),s[c]=Pn.createCaptureRule(n,e[a].$vscodeTextmateLocation,e[a].name,e[a].contentName,u)}}return s}static _compilePatterns(e,n,r){let s=[];if(e)for(let i=0,a=e.length;i<a;i++){const c=e[i];let u=-1;if(c.include){const d=f6(c.include);switch(d.kind){case 0:case 1:u=Pn.getCompiledRuleId(r[c.include],n,r);break;case 2:let h=r[d.ruleName];h&&(u=Pn.getCompiledRuleId(h,n,r));break;case 3:case 4:const m=d.scopeName,g=d.kind===4?d.ruleName:null,y=n.getExternalGrammar(m,r);if(y)if(g){let _=y.repository[g];_&&(u=Pn.getCompiledRuleId(_,n,y.repository))}else u=Pn.getCompiledRuleId(y.repository.$self,n,y.repository);break}}else u=Pn.getCompiledRuleId(c,n,r);if(u!==-1){const d=n.getRule(u);let h=!1;if((d instanceof lO||d instanceof cx||d instanceof Ig)&&d.hasMissingPatterns&&d.patterns.length===0&&(h=!0),h)continue;s.push(u)}}return{patterns:s,hasMissingPatterns:(e?e.length:0)!==s.length}}},wd=class p6{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const r=e.length;let s=0,i=[],a=!1;for(let c=0;c<r;c++)if(e.charAt(c)==="\\"&&c+1<r){const d=e.charAt(c+1);d==="z"?(i.push(e.substring(s,c)),i.push("$(?!\\n)(?<!\\n)"),s=c+2):(d==="A"||d==="G")&&(a=!0),c++}this.hasAnchor=a,s===0?this.source=e:(i.push(e.substring(s,r)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Nae.test(this.source):this.hasBackReferences=!1}clone(){return new p6(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(s=>e.substring(s.start,s.end));return aO.lastIndex=0,this.source.replace(aO,(s,i)=>o6(r[parseInt(i,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],s=[],i,a,c,u;for(i=0,a=this.source.length;i<a;i++)c=this.source.charAt(i),e[i]=c,n[i]=c,r[i]=c,s[i]=c,c==="\\"&&i+1<a&&(u=this.source.charAt(i+1),u==="A"?(e[i+1]="",n[i+1]="",r[i+1]="A",s[i+1]="A"):u==="G"?(e[i+1]="",n[i+1]="G",r[i+1]="",s[i+1]="G"):(e[i+1]=u,n[i+1]=u,r[i+1]=u,s[i+1]=u),i++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:s.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},xd=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new cO(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(s=>s.resolveAnchors(e,n));return new cO(t,r,this._items.map(s=>s.ruleId))}},cO=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},x_=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Vae=class ux{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new x_(e,8),this._embeddedLanguagesMatcher=new Uae(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?ux._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new x_(0,0);_getBasicScopeAttributes=new a6(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new x_(n,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(ux.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},Uae=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>o6(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},uO=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function m6(t,e,n,r,s,i,a,c){const u=e.content.length;let d=!1,h=-1;if(a){const y=Fae(t,e,n,r,s,i);s=y.stack,r=y.linePos,n=y.isFirstLine,h=y.anchorPosition}const m=Date.now();for(;!d;){if(c!==0&&Date.now()-m>c)return new uO(s,!0);g()}return new uO(s,!1);function g(){const y=zae(t,e,n,r,s,h);if(!y){i.produce(s,u),d=!0;return}const _=y.captureIndices,x=y.matchedRuleId,E=_&&_.length>0?_[0].end>r:!1;if(x===jae){const S=s.getRule(t);i.produce(s,_[0].start),s=s.withContentNameScopesList(s.nameScopesList),Lf(t,e,n,s,i,S.endCaptures,_),i.produce(s,_[0].end);const T=s;if(s=s.parent,h=T.getAnchorPos(),!E&&T.getEnterPos()===r){s=T,i.produce(s,u),d=!0;return}}else{const S=t.getRule(x);i.produce(s,_[0].start);const T=s,k=S.getName(e.content,_),L=s.contentNameScopesList.pushAttributed(k,t);if(s=s.push(x,r,h,_[0].end===u,null,L,L),S instanceof cx){const I=S;Lf(t,e,n,s,i,I.beginCaptures,_),i.produce(s,_[0].end),h=_[0].end;const P=I.getContentName(e.content,_),j=L.pushAttributed(P,t);if(s=s.withContentNameScopesList(j),I.endHasBackReferences&&(s=s.withEndRule(I.getEndWithResolvedBackReferences(e.content,_))),!E&&T.hasSameRuleAs(s)){s=s.pop(),i.produce(s,u),d=!0;return}}else if(S instanceof Ig){const I=S;Lf(t,e,n,s,i,I.beginCaptures,_),i.produce(s,_[0].end),h=_[0].end;const P=I.getContentName(e.content,_),j=L.pushAttributed(P,t);if(s=s.withContentNameScopesList(j),I.whileHasBackReferences&&(s=s.withEndRule(I.getWhileWithResolvedBackReferences(e.content,_))),!E&&T.hasSameRuleAs(s)){s=s.pop(),i.produce(s,u),d=!0;return}}else if(Lf(t,e,n,s,i,S.captures,_),i.produce(s,_[0].end),s=s.pop(),!E){s=s.safePop(),i.produce(s,u),d=!0;return}}_[0].end>r&&(r=_[0].end,n=!1)}}function Fae(t,e,n,r,s,i){let a=s.beginRuleCapturedEOL?0:-1;const c=[];for(let u=s;u;u=u.pop()){const d=u.getRule(t);d instanceof Ig&&c.push({rule:d,stack:u})}for(let u=c.pop();u;u=c.pop()){const{ruleScanner:d,findOptions:h}=Gae(u.rule,t,u.stack.endRule,n,r===a),m=d.findNextMatchSync(e,r,h);if(m){if(m.ruleId!==d6){s=u.stack.pop();break}m.captureIndices&&m.captureIndices.length&&(i.produce(u.stack,m.captureIndices[0].start),Lf(t,e,n,u.stack,i,u.rule.whileCaptures,m.captureIndices),i.produce(u.stack,m.captureIndices[0].end),a=m.captureIndices[0].end,m.captureIndices[0].end>r&&(r=m.captureIndices[0].end,n=!1))}else{s=u.stack.pop();break}}return{stack:s,linePos:r,anchorPosition:a,isFirstLine:n}}function zae(t,e,n,r,s,i){const a=Hae(t,e,n,r,s,i),c=t.getInjections();if(c.length===0)return a;const u=qae(c,t,e,n,r,s,i);if(!u)return a;if(!a)return u;const d=a.captureIndices[0].start,h=u.captureIndices[0].start;return h<d||u.priorityMatch&&h===d?u:a}function Hae(t,e,n,r,s,i){const a=s.getRule(t),{ruleScanner:c,findOptions:u}=g6(a,t,s.endRule,n,r===i),d=c.findNextMatchSync(e,r,u);return d?{captureIndices:d.captureIndices,matchedRuleId:d.ruleId}:null}function qae(t,e,n,r,s,i,a){let c=Number.MAX_VALUE,u=null,d,h=0;const m=i.contentNameScopesList.getScopeNames();for(let g=0,y=t.length;g<y;g++){const _=t[g];if(!_.matcher(m))continue;const x=e.getRule(_.ruleId),{ruleScanner:E,findOptions:S}=g6(x,e,null,r,s===a),T=E.findNextMatchSync(n,s,S);if(!T)continue;const k=T.captureIndices[0].start;if(!(k>=c)&&(c=k,u=T.captureIndices,d=T.ruleId,h=_.priority,c===s))break}return u?{priorityMatch:h===-1,captureIndices:u,matchedRuleId:d}:null}function g6(t,e,n,r,s){return{ruleScanner:t.compileAG(e,n,r,s),findOptions:0}}function Gae(t,e,n,r,s){return{ruleScanner:t.compileWhileAG(e,n,r,s),findOptions:0}}function Lf(t,e,n,r,s,i,a){if(i.length===0)return;const c=e.content,u=Math.min(i.length,a.length),d=[],h=a[0].end;for(let m=0;m<u;m++){const g=i[m];if(g===null)continue;const y=a[m];if(y.length===0)continue;if(y.start>h)break;for(;d.length>0&&d[d.length-1].endPos<=y.start;)s.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop();if(d.length>0?s.produceFromScopes(d[d.length-1].scopes,y.start):s.produce(r,y.start),g.retokenizeCapturedWithRuleId){const x=g.getName(c,a),E=r.contentNameScopesList.pushAttributed(x,t),S=g.getContentName(c,a),T=E.pushAttributed(S,t),k=r.push(g.retokenizeCapturedWithRuleId,y.start,-1,!1,null,E,T),L=t.createOnigString(c.substring(0,y.end));m6(t,L,n&&y.start===0,y.start,k,s,!1,0),u6(L);continue}const _=g.getName(c,a);if(_!==null){const E=(d.length>0?d[d.length-1].scopes:r.contentNameScopesList).pushAttributed(_,t);d.push(new Wae(E,y.end))}}for(;d.length>0;)s.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop()}var Wae=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function Kae(t,e,n,r,s,i,a,c){return new Xae(t,e,n,r,s,i,a,c)}function fO(t,e,n,r,s){const i=Og(e,Lg),a=h6.getCompiledRuleId(n,r,s.repository);for(const c of i)t.push({debugSelector:e,matcher:c.matcher,ruleId:a,grammar:s,priority:c.priority})}function Lg(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let s=n;s<e.length;s++)if(Yae(e[s],r))return n=s+1,!0;return!1})}function Yae(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var Xae=class{constructor(t,e,n,r,s,i,a,c){if(this._rootScopeName=t,this.balancedBracketSelectors=i,this._onigLib=c,this._basicScopeAttributesProvider=new Vae(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=dO(e,null),this._injections=null,this._tokenTypeMatchers=[],s)for(const u of Object.keys(s)){const d=Og(u,Lg);for(const h of d)this._tokenTypeMatchers.push({matcher:h.matcher,type:s[u]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:s=>s===this._rootScopeName?this._grammar:this.getExternalGrammar(s),injections:s=>this._grammarRepository.injections(s)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const s=r.injections;if(s)for(let a in s)fO(e,a,s[a],this,r);const i=this._grammarRepository.injections(n);i&&i.forEach(a=>{const c=this.getExternalGrammar(a);if(c){const u=c.injectionSelector;u&&fO(e,u,c,this,c)}})}return e.sort((s,i)=>s.priority-i.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=dO(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=h6.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let s;if(!e||e===fx.NULL){s=!0;const d=this._basicScopeAttributesProvider.getDefaultAttributes(),h=this.themeProvider.getDefaults(),m=bc.set(0,d.languageId,d.tokenType,null,h.fontStyle,h.foregroundId,h.backgroundId),g=this.getRule(this._rootId).getName(null,null);let y;g?y=Qf.createRootAndLookUpScopeName(g,m,this):y=Qf.createRoot("unknown",m),e=new fx(null,this._rootId,-1,-1,!1,null,y,y)}else s=!1,e.reset();t=t+`
`;const i=this.createOnigString(t),a=i.content.length,c=new Zae(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),u=m6(this,i,s,0,e,c,!0,r);return u6(i),{lineLength:a,lineTokens:c,ruleStack:u.stack,stoppedEarly:u.stoppedEarly}}};function dO(t,e){return t=mae(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Qf=class js{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,s=e?.scopePath??null;for(const i of n)s=w_.push(s,i.scopeNames),r=new js(r,s,i.encodedTokenAttributes);return r}static createRoot(e,n){return new js(null,new w_(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const s=r.getMetadataForScope(e),i=new w_(null,e),a=r.themeProvider.themeMatch(i),c=js.mergeAttributes(n,s,a);return new js(null,i,c)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return js.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let s=-1,i=0,a=0;return r!==null&&(s=r.fontStyle,i=r.foregroundId,a=r.backgroundId),bc.set(e,n.languageId,n.tokenType,null,s,i,a)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return js._pushAttributed(this,e,n);const r=e.split(/ /g);let s=this;for(const i of r)s=js._pushAttributed(s,i,n);return s}static _pushAttributed(e,n,r){const s=r.getMetadataForScope(n),i=e.scopePath.push(n),a=r.themeProvider.themeMatch(i),c=js.mergeAttributes(e.tokenAttributes,s,a);return new js(e,i,c)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?n.reverse():void 0}},fx=class pa{constructor(e,n,r,s,i,a,c,u){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=i,this.endRule=a,this.nameScopesList=c,this.contentNameScopesList=u,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=s}_stackElementBrand=void 0;static NULL=new pa(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:pa._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?Qf.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){pa._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,s,i,a,c){return new pa(this,e,n,r,s,i,a,c)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new pa(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const r=Qf.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new pa(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,Qf.fromExtension(r,n.contentNameScopesList))}},Jae=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):Og(n,Lg).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>Og(n,Lg).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Zae=class{constructor(t,e,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,s=!1;if(this.balancedBracketSelectors?.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const i=t?.getScopeNames()??[];for(const a of this._tokenTypeOverrides)a.matcher(i)&&(r=bc.set(r,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(i))}if(s&&(r=bc.set(r,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,s=this._binaryTokens.length;r<s;r++)n[r]=this._binaryTokens[r];return n}},Qae=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,s){if(!this._grammars.has(t)){let i=this._rawGrammars.get(t);if(!i)return null;this._grammars.set(t,Kae(t,i,e,n,r,s,this,this._onigLib))}return this._grammars.get(t)}},ele=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new Qae(Mg.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(Mg.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new Jae(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,s,i){const a=new kae(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(c=>this._loadSingleGrammar(c.scopeName)),a.processQueue();return this._grammarForScopeName(e,n,r,s,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,s=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,s)}_grammarForScopeName(e,n=0,r=null,s=null,i=null){return this._syncRegistry.grammarForScopeName(e,n,r,s,i)}},dx=fx.NULL;const tle=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],nle=/["&'<>`]/g,rle=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sle=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,ile=/[|\\{}()[\]^$+*?.]/g,hO=new WeakMap;function ole(t,e){if(t=t.replace(e.subset?ale(e.subset):nle,r),e.subset||e.escapeOnly)return t;return t.replace(rle,n).replace(sle,r);function n(s,i,a){return e.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,a.charCodeAt(i+2),e)}function r(s,i,a){return e.format(s.charCodeAt(0),a.charCodeAt(i+1),e)}}function ale(t){let e=hO.get(t);return e||(e=lle(t),hO.set(t,e)),e}function lle(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(ile,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const cle=/[\dA-Fa-f]/;function ule(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!cle.test(String.fromCharCode(e))?r:r+";"}const fle=/\d/;function dle(t,e,n){const r="&#"+String(t);return n&&e&&!fle.test(String.fromCharCode(e))?r:r+";"}const hle=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],S_={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},ple=["cent","copy","divide","gt","lt","not","para","times"],y6={}.hasOwnProperty,hx={};let dm;for(dm in S_)y6.call(S_,dm)&&(hx[S_[dm]]=dm);const mle=/[^\dA-Za-z]/;function gle(t,e,n,r){const s=String.fromCharCode(t);if(y6.call(hx,s)){const i=hx[s],a="&"+i;return n&&hle.includes(i)&&!ple.includes(i)&&(!r||e&&e!==61&&mle.test(String.fromCharCode(e)))?a:a+";"}return""}function yle(t,e,n){let r=ule(t,e,n.omitOptionalSemicolons),s;if((n.useNamedReferences||n.useShortestReferences)&&(s=gle(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!s)&&n.useShortestReferences){const i=dle(t,e,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return s&&(!n.useShortestReferences||s.length<r.length)?s:r}function uc(t,e){return ole(t,Object.assign({format:yle},e))}const ble=/^>|^->|<!--|-->|--!>|<!-$/g,vle=[">"],_le=["<",">"];function wle(t,e,n,r){return r.settings.bogusComments?"<?"+uc(t.value,Object.assign({},r.settings.characterReferences,{subset:vle}))+">":"<!--"+t.value.replace(ble,s)+"-->";function s(i){return uc(i,Object.assign({},r.settings.characterReferences,{subset:_le}))}}function xle(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const tn=v6(1),b6=v6(-1),Sle=[];function v6(t){return e;function e(n,r,s){const i=n?n.children:Sle;let a=(r||0)+t,c=i[a];if(!s)for(;c&&Py(c);)a+=t,c=i[a];return c}}const Ele={}.hasOwnProperty;function _6(t){return e;function e(n,r,s){return Ele.call(t,n.tagName)&&t[n.tagName](n,r,s)}}const U1=_6({body:Tle,caption:E_,colgroup:E_,dd:Mle,dt:kle,head:E_,html:Cle,li:Rle,optgroup:Ole,option:Ple,p:Ale,rp:pO,rt:pO,tbody:Lle,td:mO,tfoot:Dle,th:mO,thead:Ile,tr:Nle});function E_(t,e,n){const r=tn(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Py(r.value.charAt(0)))}function Cle(t,e,n){const r=tn(n,e);return!r||r.type!=="comment"}function Tle(t,e,n){const r=tn(n,e);return!r||r.type!=="comment"}function Ale(t,e,n){const r=tn(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Rle(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&r.tagName==="li"}function kle(t,e,n){const r=tn(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function Mle(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function pO(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function Ole(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function Ple(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function Ile(t,e,n){const r=tn(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function Lle(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function Dle(t,e,n){return!tn(n,e)}function Nle(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function mO(t,e,n){const r=tn(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const jle=_6({body:Vle,colgroup:Ule,head:$le,html:Ble,tbody:Fle});function Ble(t){const e=tn(t,-1);return!e||e.type!=="comment"}function $le(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function Vle(t){const e=tn(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Py(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function Ule(t,e,n){const r=b6(n,e),s=tn(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&U1(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function Fle(t,e,n){const r=b6(n,e),s=tn(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&U1(r,n.children.indexOf(r),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const hm={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function zle(t,e,n,r){const s=r.schema,i=s.space==="svg"?!1:r.settings.omitOptionalTags;let a=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const c=[];let u;s.space==="html"&&t.tagName==="svg"&&(r.schema=Gd);const d=Hle(r,t.properties),h=r.all(s.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=s,h&&(a=!1),(d||!i||!jle(t,e,n))&&(c.push("<",t.tagName,d?" "+d:""),a&&(s.space==="svg"||r.settings.closeSelfClosing)&&(u=d.charAt(d.length-1),(!r.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(h),!a&&(!i||!U1(t,e,n))&&c.push("</"+t.tagName+">"),c.join("")}function Hle(t,e){const n=[];let r=-1,s;if(e){for(s in e)if(e[s]!==null&&e[s]!==void 0){const i=qle(t,s,e[s]);i&&n.push(i)}}for(;++r<n.length;){const i=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function qle(t,e,n){const r=Pj(t.schema,e),s=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,i=t.settings.allowDangerousCharacters?0:1;let a=t.quote,c;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const u=uc(r.attribute,Object.assign({},t.settings.characterReferences,{subset:hm.name[s][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Ej:Lj)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?u:(t.settings.preferUnquoted&&(c=uc(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:hm.unquoted[s][i]}))),c!==n&&(t.settings.quoteSmart&&Cg(n,a)>Cg(n,t.alternative)&&(a=t.alternative),c=a+uc(n,Object.assign({},t.settings.characterReferences,{subset:(a==="'"?hm.single:hm.double)[s][i],attribute:!0}))+a),u+(c&&"="+c))}const Gle=["<","&"];function w6(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:uc(t.value,Object.assign({},r.settings.characterReferences,{subset:Gle}))}function Wle(t,e,n,r){return r.settings.allowDangerousHtml?t.value:w6(t,e,n,r)}function Kle(t,e,n,r){return r.all(t)}const Yle=bte("type",{invalid:Xle,unknown:Jle,handlers:{comment:wle,doctype:xle,element:zle,raw:Wle,root:Kle,text:w6}});function Xle(t){throw new Error("Expected node, not `"+t+"`")}function Jle(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const Zle={},Qle={},ece=[];function tce(t,e){const n=e||Zle,r=n.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:nce,all:rce,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||tle,characterReferences:n.characterReferences||Qle,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Gd:Ij,quote:r,alternative:s}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function nce(t,e,n){return Yle(t,e,n,this)}function rce(t){const e=[],n=t&&t.children||ece;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function Dg(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[s,i]of Object.entries(e?.colorReplacements||{}))typeof i=="string"?n[s]=i:s===r&&Object.assign(n,i);return n}function Mo(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function sce(t){return Array.isArray(t)?t:[t]}async function x6(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function F1(t){return!t||["plaintext","txt","text","plain"].includes(t)}function S6(t){return t==="ansi"||F1(t)}function z1(t){return t==="none"}function E6(t){return z1(t)}function C6(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function Ly(t,e=!1){const n=t.split(/(\r?\n)/g);let r=0;const s=[];for(let i=0;i<n.length;i+=2){const a=e?n[i]+(n[i+1]||""):n[i];s.push([a,r]),r+=n[i].length,r+=n[i+1]?.length||0}return s}function ice(t){const e=Ly(t,!0).map(([s])=>s);function n(s){if(s===t.length)return{line:e.length-1,character:e[e.length-1].length};let i=s,a=0;for(const c of e){if(i<c.length)break;i-=c.length,a++}return{line:a,character:i}}function r(s,i){let a=0;for(let c=0;c<s;c++)a+=e[c].length;return a+=i,a}return{lines:e,indexToPos:n,posToIndex:r}}function oce(t,e,n){const r=new Set;for(const i of t.matchAll(/lang=["']([\w-]+)["']/g))r.add(i[1]);for(const i of t.matchAll(/(?:```|~~~)([\w-]+)/g))r.add(i[1]);for(const i of t.matchAll(/\\begin\{([\w-]+)\}/g))r.add(i[1]);if(!n)return Array.from(r);const s=n.getBundledLanguages();return Array.from(r).filter(i=>i&&s[i])}const H1="light-dark()",ace=["color","background-color"];function lce(t,e){let n=0;const r=[];for(const s of e)s>n&&r.push({...t,content:t.content.slice(n,s),offset:t.offset+n}),n=s;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function cce(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,s)=>r-s);return n.length?t.map(r=>r.flatMap(s=>{const i=n.filter(a=>s.offset<a&&a<s.offset+s.content.length).map(a=>a-s.offset).sort((a,c)=>a-c);return i.length?lce(s,i):s})):t}function uce(t,e,n,r,s="css-vars"){const i={content:t.content,explanation:t.explanation,offset:t.offset},a=e.map(h=>Ng(t.variants[h])),c=new Set(a.flatMap(h=>Object.keys(h))),u={},d=(h,m)=>{const g=m==="color"?"":m==="background-color"?"-bg":`-${m}`;return n+e[h]+(m==="color"?"":g)};return a.forEach((h,m)=>{for(const g of c){const y=h[g]||"inherit";if(m===0&&r&&ace.includes(g))if(r===H1&&a.length>1){const _=e.findIndex(T=>T==="light"),x=e.findIndex(T=>T==="dark");if(_===-1||x===-1)throw new zt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const E=a[_][g]||"inherit",S=a[x][g]||"inherit";u[g]=`light-dark(${E}, ${S})`,s==="css-vars"&&(u[d(m,g)]=y)}else u[g]=y;else s==="css-vars"&&(u[d(m,g)]=y)}}),i.htmlStyle=u,i}function Ng(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&Ln.Italic&&(e["font-style"]="italic"),t.fontStyle&Ln.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&Ln.Underline&&n.push("underline"),t.fontStyle&Ln.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function px(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const T6=new WeakMap;function Dy(t,e){T6.set(t,e)}function Sd(t){return T6.get(t)}class Dc{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Dc(Object.fromEntries(sce(n).map(r=>[r,dx])),e)}constructor(...e){if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,s]=e;this.lang=r,this._stacks={[s]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return fce(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function fce(t){const e=[],n=new Set;function r(s){if(n.has(s))return;n.add(s);const i=s?.nameScopesList?.scopeName;i&&e.push(i),s.parent&&r(s.parent)}return r(t),e}function dce(t,e){if(!(t instanceof Dc))throw new zt("Invalid grammar state");return t.getInternalStack(e)}function hce(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(a){if(typeof a=="number"){if(a<0||a>n.source.length)throw new zt(`Invalid decoration offset: ${a}. Code length: ${n.source.length}`);return{...s.indexToPos(a),offset:a}}else{const c=s.lines[a.line];if(c===void 0)throw new zt(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${s.lines.length}`);let u=a.character;if(u<0&&(u=c.length+u),u<0||u>c.length)throw new zt(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${c.length}`);return{...a,character:u,offset:s.posToIndex(a.line,u)}}};const s=ice(n.source),i=(n.options.decorations||[]).map(a=>({...a,start:r(a.start),end:r(a.end)}));pce(i),t.set(n.meta,{decorations:i,converter:s,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const s=e(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return cce(n,s)},code(n){if(!this.options.decorations?.length)return;const r=e(this),s=Array.from(n.children).filter(h=>h.type==="element"&&h.tagName==="span");if(s.length!==r.converter.lines.length)throw new zt(`Number of lines in code element (${s.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function i(h,m,g,y){const _=s[h];let x="",E=-1,S=-1;if(m===0&&(E=0),g===0&&(S=0),g===Number.POSITIVE_INFINITY&&(S=_.children.length),E===-1||S===-1)for(let k=0;k<_.children.length;k++)x+=A6(_.children[k]),E===-1&&x.length===m&&(E=k+1),S===-1&&x.length===g&&(S=k+1);if(E===-1)throw new zt(`Failed to find start index for decoration ${JSON.stringify(y.start)}`);if(S===-1)throw new zt(`Failed to find end index for decoration ${JSON.stringify(y.end)}`);const T=_.children.slice(E,S);if(!y.alwaysWrap&&T.length===_.children.length)c(_,y,"line");else if(!y.alwaysWrap&&T.length===1&&T[0].type==="element")c(T[0],y,"token");else{const k={type:"element",tagName:"span",properties:{},children:T};c(k,y,"wrapper"),_.children.splice(E,T.length,k)}}function a(h,m){s[h]=c(s[h],m,"line")}function c(h,m,g){const y=m.properties||{},_=m.transform||(x=>x);return h.tagName=m.tagName||"span",h.properties={...h.properties,...y,class:h.properties.class},m.properties?.class&&C6(h,m.properties.class),h=_(h,g)||h,h}const u=[],d=r.decorations.sort((h,m)=>m.start.offset-h.start.offset||h.end.offset-m.end.offset);for(const h of d){const{start:m,end:g}=h;if(m.line===g.line)i(m.line,m.character,g.character,h);else if(m.line<g.line){i(m.line,m.character,Number.POSITIVE_INFINITY,h);for(let y=m.line+1;y<g.line;y++)u.unshift(()=>a(y,h));i(g.line,0,g.character,h)}}u.forEach(h=>h())}}}function pce(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new zt(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const s=t[r],i=n.start.offset<=s.start.offset&&s.start.offset<n.end.offset,a=n.start.offset<s.end.offset&&s.end.offset<=n.end.offset,c=s.start.offset<=n.start.offset&&n.start.offset<s.end.offset,u=s.start.offset<n.end.offset&&n.end.offset<=s.end.offset;if(i||a||c||u){if(i&&a||c&&u||c&&n.start.offset===n.end.offset||a&&s.start.offset===s.end.offset)continue;throw new zt(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(s.start)} intersect.`)}}}}function A6(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(A6).join(""):""}const mce=[hce()];function jg(t){const e=gce(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...mce]}function gce(t){const e=[],n=[],r=[];for(const s of t)switch(s.enforce){case"pre":e.push(s);break;case"post":n.push(s);break;default:r.push(s)}return{pre:e,post:n,normal:r}}var xa=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],C_={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function yce(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const r=t.indexOf("m",n);if(r!==-1)return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function gO(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(r=>Number.parseInt(r));return n.length!==3||n.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function bce(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)C_[r]&&e.push({type:"setDecoration",value:C_[r]});else if(r<=29){const s=C_[r-20];s&&(e.push({type:"resetDecoration",value:s}),s==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:xa[r-30]}});else if(r===38){const s=gO(t);s&&e.push({type:"setForegroundColor",value:s})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:xa[r-40]}});else if(r===48){const s=gO(t);s&&e.push({type:"setBackgroundColor",value:s})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:xa[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:xa[r-100+8]}})}return e}function vce(){let t=null,e=null,n=new Set;return{parse(r){const s=[];let i=0;do{const a=yce(r,i),c=a.sequence?r.substring(i,a.startPosition):r.substring(i);if(c.length>0&&s.push({value:c,foreground:t,background:e,decorations:new Set(n)}),a.sequence){const u=bce(a.sequence);for(const d of u)d.type==="resetAll"?(t=null,e=null,n.clear()):d.type==="resetForegroundColor"?t=null:d.type==="resetBackgroundColor"?e=null:d.type==="resetDecoration"&&n.delete(d.value);for(const d of u)d.type==="setForegroundColor"?t=d.value:d.type==="setBackgroundColor"?e=d.value:d.type==="setDecoration"&&n.add(d.value)}i=a.position}while(i<r.length);return s}}}var _ce={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function wce(t=_ce){function e(c){return t[c]}function n(c){return`#${c.map(u=>Math.max(0,Math.min(u,255)).toString(16).padStart(2,"0")).join("")}`}let r;function s(){if(r)return r;r=[];for(let d=0;d<xa.length;d++)r.push(e(xa[d]));let c=[0,95,135,175,215,255];for(let d=0;d<6;d++)for(let h=0;h<6;h++)for(let m=0;m<6;m++)r.push(n([c[d],c[h],c[m]]));let u=8;for(let d=0;d<24;d++,u+=10)r.push(n([u,u,u]));return r}function i(c){return s()[c]}function a(c){switch(c.type){case"named":return e(c.name);case"rgb":return n(c.rgb);case"table":return i(c.index)}}return{value:a}}function xce(t,e,n){const r=Dg(t,n),s=Ly(e),i=wce(Object.fromEntries(xa.map(c=>[c,t.colors?.[`terminal.ansi${c[0].toUpperCase()}${c.substring(1)}`]]))),a=vce();return s.map(c=>a.parse(c[0]).map(u=>{let d,h;u.decorations.has("reverse")?(d=u.background?i.value(u.background):t.bg,h=u.foreground?i.value(u.foreground):t.fg):(d=u.foreground?i.value(u.foreground):t.fg,h=u.background?i.value(u.background):void 0),d=Mo(d,r),h=Mo(h,r),u.decorations.has("dim")&&(d=Sce(d));let m=Ln.None;return u.decorations.has("bold")&&(m|=Ln.Bold),u.decorations.has("italic")&&(m|=Ln.Italic),u.decorations.has("underline")&&(m|=Ln.Underline),u.decorations.has("strikethrough")&&(m|=Ln.Strikethrough),{content:u.value,offset:c[1],color:d,bgColor:h,fontStyle:m}}))}function Sce(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function q1(t,e,n={}){const{lang:r="text",theme:s=t.getLoadedThemes()[0]}=n;if(F1(r)||z1(s))return Ly(e).map(u=>[{content:u[0],offset:u[1]}]);const{theme:i,colorMap:a}=t.setTheme(s);if(r==="ansi")return xce(i,e,n);const c=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==c.name)throw new zt(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${c.name}"`);if(!n.grammarState.themes.includes(i.name))throw new zt(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${i.name}"`)}return Cce(e,c,i,a,n)}function Ece(...t){if(t.length===2)return Sd(t[1]);const[e,n,r={}]=t,{lang:s="text",theme:i=e.getLoadedThemes()[0]}=r;if(F1(s)||z1(i))throw new zt("Plain language does not have grammar state");if(s==="ansi")throw new zt("ANSI language does not have grammar state");const{theme:a,colorMap:c}=e.setTheme(i),u=e.getLanguage(s);return new Dc(Bg(n,u,a,c,r).stateStack,u.name,a.name)}function Cce(t,e,n,r,s){const i=Bg(t,e,n,r,s),a=new Dc(Bg(t,e,n,r,s).stateStack,e.name,n.name);return Dy(i.tokens,a),i.tokens}function Bg(t,e,n,r,s){const i=Dg(n,s),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:c=500}=s,u=Ly(t);let d=s.grammarState?dce(s.grammarState,n.name)??dx:s.grammarContextCode!=null?Bg(s.grammarContextCode,e,n,r,{...s,grammarState:void 0,grammarContextCode:void 0}).stateStack:dx,h=[];const m=[];for(let g=0,y=u.length;g<y;g++){const[_,x]=u[g];if(_===""){h=[],m.push([]);continue}if(a>0&&_.length>=a){h=[],m.push([{content:_,offset:x,color:"",fontStyle:0}]);continue}let E,S,T;s.includeExplanation&&(E=e.tokenizeLine(_,d,c),S=E.tokens,T=0);const k=e.tokenizeLine2(_,d,c),L=k.tokens.length/2;for(let I=0;I<L;I++){const P=k.tokens[2*I],j=I+1<L?k.tokens[2*I+2]:_.length;if(P===j)continue;const $=k.tokens[2*I+1],H=Mo(r[bc.getForeground($)],i),B=bc.getFontStyle($),Y={content:_.substring(P,j),offset:x+P,color:H,fontStyle:B};if(s.includeExplanation){const ne=[];if(s.includeExplanation!=="scopeName")for(const Z of n.settings){let ae;switch(typeof Z.scope){case"string":ae=Z.scope.split(/,/).map(U=>U.trim());break;case"object":ae=Z.scope;break;default:continue}ne.push({settings:Z,selectors:ae.map(U=>U.split(/ /))})}Y.explanation=[];let re=0;for(;P+re<j;){const Z=S[T],ae=_.substring(Z.startIndex,Z.endIndex);re+=ae.length,Y.explanation.push({content:ae,scopes:s.includeExplanation==="scopeName"?Tce(Z.scopes):Ace(ne,Z.scopes)}),T+=1}}h.push(Y)}m.push(h),h=[],d=k.ruleStack}return{tokens:m,stateStack:d}}function Tce(t){return t.map(e=>({scopeName:e}))}function Ace(t,e){const n=[];for(let r=0,s=e.length;r<s;r++){const i=e[r];n[r]={scopeName:i,themeMatches:kce(t,i,e.slice(0,r))}}return n}function yO(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Rce(t,e,n){if(!yO(t[t.length-1],e))return!1;let r=t.length-2,s=n.length-1;for(;r>=0&&s>=0;)yO(t[r],n[s])&&(r-=1),s-=1;return r===-1}function kce(t,e,n){const r=[];for(const{selectors:s,settings:i}of t)for(const a of s)if(Rce(a,e,n)){r.push(i);break}return r}function R6(t,e,n){const r=Object.entries(n.themes).filter(u=>u[1]).map(u=>({color:u[0],theme:u[1]})),s=r.map(u=>{const d=q1(t,e,{...n,theme:u.theme}),h=Sd(d),m=typeof u.theme=="string"?u.theme:u.theme.name;return{tokens:d,state:h,theme:m}}),i=Mce(...s.map(u=>u.tokens)),a=i[0].map((u,d)=>u.map((h,m)=>{const g={content:h.content,variants:{},offset:h.offset};return"includeExplanation"in n&&n.includeExplanation&&(g.explanation=h.explanation),i.forEach((y,_)=>{const{content:x,explanation:E,offset:S,...T}=y[d][m];g.variants[r[_].color]=T}),g})),c=s[0].state?new Dc(Object.fromEntries(s.map(u=>[u.theme,u.state?.getInternalStack(u.theme)])),s[0].state.lang):void 0;return c&&Dy(a,c),a}function Mce(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const s=t.map(u=>u[r]),i=e.map(()=>[]);e.forEach((u,d)=>u.push(i[d]));const a=s.map(()=>0),c=s.map(u=>u[0]);for(;c.every(u=>u);){const u=Math.min(...c.map(d=>d.content.length));for(let d=0;d<n;d++){const h=c[d];h.content.length===u?(i[d].push(h),a[d]+=1,c[d]=s[d][a[d]]):(i[d].push({...h,content:h.content.slice(0,u)}),c[d]={...h,content:h.content.slice(u),offset:h.offset+u})}}}return e}function $g(t,e,n){let r,s,i,a,c,u;if("themes"in n){const{defaultColor:d="light",cssVariablePrefix:h="--shiki-",colorsRendering:m="css-vars"}=n,g=Object.entries(n.themes).filter(S=>S[1]).map(S=>({color:S[0],theme:S[1]})).sort((S,T)=>S.color===d?-1:T.color===d?1:0);if(g.length===0)throw new zt("`themes` option must not be empty");const y=R6(t,e,n);if(u=Sd(y),d&&H1!==d&&!g.find(S=>S.color===d))throw new zt(`\`themes\` option must contain the defaultColor key \`${d}\``);const _=g.map(S=>t.getTheme(S.theme)),x=g.map(S=>S.color);i=y.map(S=>S.map(T=>uce(T,x,h,d,m))),u&&Dy(i,u);const E=g.map(S=>Dg(S.theme,n));s=bO(g,_,E,h,d,"fg",m),r=bO(g,_,E,h,d,"bg",m),a=`shiki-themes ${_.map(S=>S.name).join(" ")}`,c=d?void 0:[s,r].join(";")}else if("theme"in n){const d=Dg(n.theme,n);i=q1(t,e,n);const h=t.getTheme(n.theme);r=Mo(h.bg,d),s=Mo(h.fg,d),a=h.name,u=Sd(i)}else throw new zt("Invalid options, either `theme` or `themes` must be provided");return{tokens:i,fg:s,bg:r,themeName:a,rootStyle:c,grammarState:u}}function bO(t,e,n,r,s,i,a){return t.map((c,u)=>{const d=Mo(e[u][i],n[u])||"inherit",h=`${r+c.color}${i==="bg"?"-bg":""}:${d}`;if(u===0&&s){if(s===H1&&t.length>1){const m=t.findIndex(x=>x.color==="light"),g=t.findIndex(x=>x.color==="dark");if(m===-1||g===-1)throw new zt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const y=Mo(e[m][i],n[m])||"inherit",_=Mo(e[g][i],n[g])||"inherit";return`light-dark(${y}, ${_});${h}`}return d}return a==="css-vars"?h:null}).filter(c=>!!c).join(";")}function Vg(t,e,n,r={meta:{},options:n,codeToHast:(s,i)=>Vg(t,s,i),codeToTokens:(s,i)=>$g(t,s,i)}){let s=e;for(const _ of jg(n))s=_.preprocess?.call(r,s,n)||s;let{tokens:i,fg:a,bg:c,themeName:u,rootStyle:d,grammarState:h}=$g(t,s,n);const{mergeWhitespaces:m=!0,mergeSameStyleTokens:g=!1}=n;m===!0?i=Pce(i):m==="never"&&(i=Ice(i)),g&&(i=Lce(i));const y={...r,get source(){return s}};for(const _ of jg(n))i=_.tokens?.call(y,i)||i;return Oce(i,{...n,fg:a,bg:c,themeName:u,rootStyle:d},y,h)}function Oce(t,e,n,r=Sd(t)){const s=jg(e),i=[],a={type:"root",children:[]},{structure:c="classic",tabindex:u="0"}=e;let d={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...u!==!1&&u!=null?{tabindex:u.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([_])=>!_.startsWith("_")))},children:[]},h={type:"element",tagName:"code",properties:{},children:i};const m=[],g={...n,structure:c,addClassToHast:C6,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return a},get pre(){return d},get code(){return h},get lines(){return m}};if(t.forEach((_,x)=>{x&&(c==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):c==="classic"&&i.push({type:"text",value:`
`}));let E={type:"element",tagName:"span",properties:{class:"line"},children:[]},S=0;for(const T of _){let k={type:"element",tagName:"span",properties:{...T.htmlAttrs},children:[{type:"text",value:T.content}]};const L=px(T.htmlStyle||Ng(T));L&&(k.properties.style=L);for(const I of s)k=I?.span?.call(g,k,x+1,S,E,T)||k;c==="inline"?a.children.push(k):c==="classic"&&E.children.push(k),S+=T.content.length}if(c==="classic"){for(const T of s)E=T?.line?.call(g,E,x+1)||E;m.push(E),i.push(E)}}),c==="classic"){for(const _ of s)h=_?.code?.call(g,h)||h;d.children.push(h);for(const _ of s)d=_?.pre?.call(g,d)||d;a.children.push(d)}let y=a;for(const _ of s)y=_?.root?.call(g,y)||y;return r&&Dy(y,r),y}function Pce(t){return t.map(e=>{const n=[];let r="",s=0;return e.forEach((i,a)=>{const u=!(i.fontStyle&&(i.fontStyle&Ln.Underline||i.fontStyle&Ln.Strikethrough));u&&i.content.match(/^\s+$/)&&e[a+1]?(s||(s=i.offset),r+=i.content):r?(u?n.push({...i,offset:s,content:r+i.content}):n.push({content:r,offset:s},i),s=0,r=""):n.push(i)}),n})}function Ice(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,s,i,a]=r;if(!s&&!a)return n;const c=[{...n,offset:n.offset+s.length,content:i}];return s&&c.unshift({content:s,offset:n.offset}),a&&c.push({content:a,offset:n.offset+s.length+i.length}),c}))}function Lce(t){return t.map(e=>{const n=[];for(const r of e){if(n.length===0){n.push({...r});continue}const s=n[n.length-1],i=px(s.htmlStyle||Ng(s)),a=px(r.htmlStyle||Ng(r)),c=s.fontStyle&&(s.fontStyle&Ln.Underline||s.fontStyle&Ln.Strikethrough),u=r.fontStyle&&(r.fontStyle&Ln.Underline||r.fontStyle&Ln.Strikethrough);!c&&!u&&i===a?s.content+=r.content:n.push({...r})}return n})}const Dce=tce;function Nce(t,e,n){const r={meta:{},options:n,codeToHast:(i,a)=>Vg(t,i,a),codeToTokens:(i,a)=>$g(t,i,a)};let s=Dce(Vg(t,e,n,r));for(const i of jg(n))s=i.postprocess?.call(r,s,n)||s;return s}const vO={light:"#333333",dark:"#bbbbbb"},_O={light:"#fffffe",dark:"#1e1e1e"},wO="__shiki_resolved";function G1(t){if(t?.[wO])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:r}=e;if(!n||!r){const c=e.settings?e.settings.find(u=>!u.name&&!u.scope):void 0;c?.settings?.foreground&&(r=c.settings.foreground),c?.settings?.background&&(n=c.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?vO.light:vO.dark),n||(n=e.type==="light"?_O.light:_O.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let s=0;const i=new Map;function a(c){if(i.has(c))return i.get(c);s+=1;const u=`#${s.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${u}`]?a(c):(i.set(c,u),u)}e.settings=e.settings.map(c=>{const u=c.settings?.foreground&&!c.settings.foreground.startsWith("#"),d=c.settings?.background&&!c.settings.background.startsWith("#");if(!u&&!d)return c;const h={...c,settings:{...c.settings}};if(u){const m=a(c.settings.foreground);e.colorReplacements[m]=c.settings.foreground,h.settings.foreground=m}if(d){const m=a(c.settings.background);e.colorReplacements[m]=c.settings.background,h.settings.background=m}return h});for(const c of Object.keys(e.colors||{}))if((c==="editor.foreground"||c==="editor.background"||c.startsWith("terminal.ansi"))&&!e.colors[c]?.startsWith("#")){const u=a(e.colors[c]);e.colorReplacements[u]=e.colors[c],e.colors[c]=u}return Object.defineProperty(e,wO,{enumerable:!1,writable:!1,value:!0}),e}async function k6(t){return Array.from(new Set((await Promise.all(t.filter(e=>!S6(e)).map(async e=>await x6(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function M6(t){return(await Promise.all(t.map(async n=>E6(n)?null:G1(await x6(n))))).filter(n=>!!n)}let jce=3;function Bce(t,e=3){e>jce||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let tc=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class $ce extends ele{constructor(e,n,r,s={}){super(e),this._resolver=e,this._themes=n,this._langs=r,this._alias=s,this._themes.map(i=>this.loadTheme(i)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=G1(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=Mg.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){if(this._alias[e]){const n=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],n.has(e))throw new tc(`Circular alias \`${Array.from(n).join(" -> ")} -> ${e}\``);n.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(i=>i.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const s=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(s.name=e.name,this._resolvedGrammars.set(e.name,s),e.aliases&&e.aliases.forEach(i=>{this._alias[i]=e.name}),this._loadedLanguagesCache=null,n.size)for(const i of n)this._resolvedGrammars.delete(i.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(i.scopeName),this._syncRegistry?._grammars?.delete(i.scopeName),this.loadLanguage(this._langMap.get(i.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const s of e)this.resolveEmbeddedLanguages(s);const n=Array.from(this._langGraph.entries()),r=n.filter(([s,i])=>!i);if(r.length){const s=n.filter(([i,a])=>a&&a.embeddedLangs?.some(c=>r.map(([u])=>u).includes(c))).filter(i=>!r.includes(i));throw new tc(`Missing languages ${r.map(([i])=>`\`${i}\``).join(", ")}, required by ${s.map(([i])=>`\`${i}\``).join(", ")}`)}for(const[s,i]of n)this._resolver.addLanguage(i);for(const[s,i]of n)this.loadLanguage(i)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const n of e.embeddedLangs)this._langGraph.set(n,this._langMap.get(n))}}class Vce{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let s=1;s<=n.length;s++){const i=n.slice(0,s).join(".");r=[...r,...this._injections.get(i)||[]]}return r}}let uf=0;function Uce(t){uf+=1,t.warnings!==!1&&uf>=10&&uf%10===0&&console.warn(`[Shiki] ${uf} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new tc("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(G1),s=new Vce(t.engine,n),i=new $ce(s,r,n,t.langAlias);let a;function c(T){E();const k=i.getGrammar(typeof T=="string"?T:T.name);if(!k)throw new tc(`Language \`${T}\` not found, you may need to load it first`);return k}function u(T){if(T==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};E();const k=i.getTheme(T);if(!k)throw new tc(`Theme \`${T}\` not found, you may need to load it first`);return k}function d(T){E();const k=u(T);a!==T&&(i.setTheme(k),a=T);const L=i.getColorMap();return{theme:k,colorMap:L}}function h(){return E(),i.getLoadedThemes()}function m(){return E(),i.getLoadedLanguages()}function g(...T){E(),i.loadLanguages(T.flat(1))}async function y(...T){return g(await k6(T))}function _(...T){E();for(const k of T.flat(1))i.loadTheme(k)}async function x(...T){return E(),_(await M6(T))}function E(){if(e)throw new tc("Shiki instance has been disposed")}function S(){e||(e=!0,i.dispose(),uf-=1)}return{setTheme:d,getTheme:u,getLanguage:c,getLoadedThemes:h,getLoadedLanguages:m,loadLanguage:y,loadLanguageSync:g,loadTheme:x,loadThemeSync:_,dispose:S,[Symbol.dispose]:S}}async function Fce(t){t.engine||Bce("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,r]=await Promise.all([M6(t.themes||[]),k6(t.langs||[]),t.engine]);return Uce({...t,themes:e,langs:n,engine:r})}async function zce(t){const e=await Fce(t);return{getLastGrammarState:(...n)=>Ece(e,...n),codeToTokensBase:(n,r)=>q1(e,n,r),codeToTokensWithThemes:(n,r)=>R6(e,n,r),codeToTokens:(n,r)=>$g(e,n,r),codeToHast:(n,r)=>Vg(e,n,r),codeToHtml:(n,r)=>Nce(e,n,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function Hce(t){const e=t.langs,n=t.themes,r=t.engine;async function s(i){function a(m){if(typeof m=="string"){if(S6(m))return[];m=i.langAlias?.[m]||m;const g=e[m];if(!g)throw new zt(`Language \`${m}\` is not included in this bundle. You may want to load it from external source.`);return g}return m}function c(m){if(E6(m))return"none";if(typeof m=="string"){const g=n[m];if(!g)throw new zt(`Theme \`${m}\` is not included in this bundle. You may want to load it from external source.`);return g}return m}const u=(i.themes??[]).map(m=>c(m)),d=(i.langs??[]).map(m=>a(m)),h=await zce({engine:i.engine??r(),...i,themes:u,langs:d});return{...h,loadLanguage(...m){return h.loadLanguage(...m.map(a))},loadTheme(...m){return h.loadTheme(...m.map(c))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return s}function qce(t){let e;async function n(r={}){if(e){const s=await e;return await Promise.all([s.loadTheme(...r.themes||[]),s.loadLanguage(...r.langs||[])]),s}else return e=t({...r,themes:r.themes||[],langs:r.langs||[]}),e}return n}function Gce(t,e){const n=qce(t);async function r(s,i){const a=await n({langs:[i.lang],themes:"theme"in i?[i.theme]:Object.values(i.themes)}),c=await e?.guessEmbeddedLanguages?.(s,i.lang,a);return c&&await a.loadLanguage(...c),a}return{getSingletonHighlighter(s){return n(s)},async codeToHtml(s,i){return(await r(s,i)).codeToHtml(s,i)},async codeToHast(s,i){return(await r(s,i)).codeToHast(s,i)},async codeToTokens(s,i){return(await r(s,i)).codeToTokens(s,i)},async codeToTokensBase(s,i){return(await r(s,i)).codeToTokensBase(s,i)},async codeToTokensWithThemes(s,i){return(await r(s,i)).codeToTokensWithThemes(s,i)},async getLastGrammarState(s,i){return(await n({langs:[i.lang],themes:[i.theme]})).getLastGrammarState(s,i)}}}const O6=[{id:"abap",name:"ABAP",import:(()=>N(()=>import("./abap.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>N(()=>import("./actionscript-3.js"),[]))},{id:"ada",name:"Ada",import:(()=>N(()=>import("./ada.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>N(()=>import("./angular-html.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>N(()=>import("./angular-ts.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>N(()=>import("./apache.js"),[]))},{id:"apex",name:"Apex",import:(()=>N(()=>import("./apex.js"),[]))},{id:"apl",name:"APL",import:(()=>N(()=>import("./apl.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>N(()=>import("./applescript.js"),[]))},{id:"ara",name:"Ara",import:(()=>N(()=>import("./ara.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>N(()=>import("./asciidoc.js"),[]))},{id:"asm",name:"Assembly",import:(()=>N(()=>import("./asm.js"),[]))},{id:"astro",name:"Astro",import:(()=>N(()=>import("./astro.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>N(()=>import("./awk.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>N(()=>import("./ballerina.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>N(()=>import("./bat.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>N(()=>import("./beancount.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>N(()=>import("./berry.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>N(()=>import("./bibtex.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>N(()=>import("./bicep.js"),[]))},{id:"blade",name:"Blade",import:(()=>N(()=>import("./blade.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>N(()=>import("./bsl.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>N(()=>import("./c.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>N(()=>import("./cadence.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>N(()=>import("./cairo.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>N(()=>import("./clarity.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>N(()=>import("./clojure.js"),[]))},{id:"cmake",name:"CMake",import:(()=>N(()=>import("./cmake.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>N(()=>import("./cobol.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>N(()=>import("./codeowners.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>N(()=>import("./codeql.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>N(()=>import("./coffee.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>N(()=>import("./common-lisp.js"),[]))},{id:"coq",name:"Coq",import:(()=>N(()=>import("./coq.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>N(()=>import("./cpp.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>N(()=>import("./crystal.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>N(()=>import("./csharp.js"),[]))},{id:"css",name:"CSS",import:(()=>N(()=>import("./css.js"),[]))},{id:"csv",name:"CSV",import:(()=>N(()=>import("./csv.js"),[]))},{id:"cue",name:"CUE",import:(()=>N(()=>import("./cue.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>N(()=>import("./cypher.js"),[]))},{id:"d",name:"D",import:(()=>N(()=>import("./d.js"),[]))},{id:"dart",name:"Dart",import:(()=>N(()=>import("./dart.js"),[]))},{id:"dax",name:"DAX",import:(()=>N(()=>import("./dax.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>N(()=>import("./desktop.js"),[]))},{id:"diff",name:"Diff",import:(()=>N(()=>import("./diff.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>N(()=>import("./docker.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>N(()=>import("./dotenv.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>N(()=>import("./dream-maker.js"),[]))},{id:"edge",name:"Edge",import:(()=>N(()=>import("./edge.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>N(()=>import("./elixir.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>N(()=>import("./elm.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>N(()=>import("./emacs-lisp.js"),[]))},{id:"erb",name:"ERB",import:(()=>N(()=>import("./erb.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>N(()=>import("./erlang.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>N(()=>import("./fennel.js"),[]))},{id:"fish",name:"Fish",import:(()=>N(()=>import("./fish.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>N(()=>import("./fluent.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>N(()=>import("./fortran-fixed-form.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>N(()=>import("./fortran-free-form.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>N(()=>import("./fsharp.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>N(()=>import("./gdresource.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>N(()=>import("./gdscript.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>N(()=>import("./gdshader.js"),[]))},{id:"genie",name:"Genie",import:(()=>N(()=>import("./genie.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>N(()=>import("./gherkin.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>N(()=>import("./git-commit.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>N(()=>import("./git-rebase.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>N(()=>import("./gleam.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>N(()=>import("./glimmer-js.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>N(()=>import("./glimmer-ts.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>N(()=>import("./glsl.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>N(()=>import("./gnuplot.js"),[]))},{id:"go",name:"Go",import:(()=>N(()=>import("./go.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>N(()=>import("./graphql.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>N(()=>import("./groovy.js"),[]))},{id:"hack",name:"Hack",import:(()=>N(()=>import("./hack.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>N(()=>import("./haml.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>N(()=>import("./handlebars.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>N(()=>import("./haskell.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>N(()=>import("./haxe.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>N(()=>import("./hcl.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>N(()=>import("./hjson.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>N(()=>import("./hlsl.js"),[]))},{id:"html",name:"HTML",import:(()=>N(()=>import("./html.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>N(()=>import("./html-derivative.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>N(()=>import("./http.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hxml",name:"HXML",import:(()=>N(()=>import("./hxml.js"),__vite__mapDeps([55,56])))},{id:"hy",name:"Hy",import:(()=>N(()=>import("./hy.js"),[]))},{id:"imba",name:"Imba",import:(()=>N(()=>import("./imba.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>N(()=>import("./ini.js"),[]))},{id:"java",name:"Java",import:(()=>N(()=>import("./java.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js"],import:(()=>N(()=>import("./javascript.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>N(()=>import("./jinja.js"),__vite__mapDeps([57,1,2,3])))},{id:"jison",name:"Jison",import:(()=>N(()=>import("./jison.js"),__vite__mapDeps([58,2])))},{id:"json",name:"JSON",import:(()=>N(()=>import("./json.js"),[]))},{id:"json5",name:"JSON5",import:(()=>N(()=>import("./json5.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>N(()=>import("./jsonc.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>N(()=>import("./jsonl.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>N(()=>import("./jsonnet.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>N(()=>import("./jssm.js"),[]))},{id:"jsx",name:"JSX",import:(()=>N(()=>import("./jsx.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>N(()=>import("./julia.js"),__vite__mapDeps([59,23,24,25,26,16,20,2,60])))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>N(()=>import("./kotlin.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>N(()=>import("./kusto.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>N(()=>import("./latex.js"),__vite__mapDeps([61,62,60])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>N(()=>import("./lean.js"),[]))},{id:"less",name:"Less",import:(()=>N(()=>import("./less.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>N(()=>import("./liquid.js"),__vite__mapDeps([63,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>N(()=>import("./llvm.js"),[]))},{id:"log",name:"Log file",import:(()=>N(()=>import("./log.js"),[]))},{id:"logo",name:"Logo",import:(()=>N(()=>import("./logo.js"),[]))},{id:"lua",name:"Lua",import:(()=>N(()=>import("./lua.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>N(()=>import("./luau.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>N(()=>import("./make.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>N(()=>import("./markdown.js"),[]))},{id:"marko",name:"Marko",import:(()=>N(()=>import("./marko.js"),__vite__mapDeps([64,3,65,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>N(()=>import("./matlab.js"),[]))},{id:"mdc",name:"MDC",import:(()=>N(()=>import("./mdc.js"),__vite__mapDeps([66,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>N(()=>import("./mdx.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>N(()=>import("./mermaid.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>N(()=>import("./mipsasm.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>N(()=>import("./mojo.js"),[]))},{id:"move",name:"Move",import:(()=>N(()=>import("./move.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>N(()=>import("./narrat.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>N(()=>import("./nextflow.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>N(()=>import("./nginx.js"),__vite__mapDeps([67,37,26])))},{id:"nim",name:"Nim",import:(()=>N(()=>import("./nim.js"),__vite__mapDeps([68,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>N(()=>import("./nix.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>N(()=>import("./nushell.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>N(()=>import("./objective-c.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>N(()=>import("./objective-cpp.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>N(()=>import("./ocaml.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>N(()=>import("./pascal.js"),[]))},{id:"perl",name:"Perl",import:(()=>N(()=>import("./perl.js"),__vite__mapDeps([69,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>N(()=>import("./php.js"),__vite__mapDeps([70,1,2,3,7,8,16,9])))},{id:"plsql",name:"PL/SQL",import:(()=>N(()=>import("./plsql.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>N(()=>import("./po.js"),[]))},{id:"polar",name:"Polar",import:(()=>N(()=>import("./polar.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>N(()=>import("./postcss.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>N(()=>import("./powerquery.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>N(()=>import("./powershell.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>N(()=>import("./prisma.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>N(()=>import("./prolog.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>N(()=>import("./proto.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>N(()=>import("./pug.js"),__vite__mapDeps([71,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>N(()=>import("./puppet.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>N(()=>import("./purescript.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>N(()=>import("./python.js"),[]))},{id:"qml",name:"QML",import:(()=>N(()=>import("./qml.js"),__vite__mapDeps([72,2])))},{id:"qmldir",name:"QML Directory",import:(()=>N(()=>import("./qmldir.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>N(()=>import("./qss.js"),[]))},{id:"r",name:"R",import:(()=>N(()=>import("./r.js"),[]))},{id:"racket",name:"Racket",import:(()=>N(()=>import("./racket.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>N(()=>import("./raku.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>N(()=>import("./razor.js"),__vite__mapDeps([73,1,2,3,74])))},{id:"reg",name:"Windows Registry Script",import:(()=>N(()=>import("./reg.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>N(()=>import("./regexp.js"),[]))},{id:"rel",name:"Rel",import:(()=>N(()=>import("./rel.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>N(()=>import("./riscv.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>N(()=>import("./rst.js"),__vite__mapDeps([75,15,1,2,3,23,24,25,26,16,20,28,38,76,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>N(()=>import("./ruby.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>N(()=>import("./rust.js"),[]))},{id:"sas",name:"SAS",import:(()=>N(()=>import("./sas.js"),__vite__mapDeps([77,16])))},{id:"sass",name:"Sass",import:(()=>N(()=>import("./sass.js"),[]))},{id:"scala",name:"Scala",import:(()=>N(()=>import("./scala.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>N(()=>import("./scheme.js"),[]))},{id:"scss",name:"SCSS",import:(()=>N(()=>import("./scss.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>N(()=>import("./sdbl.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>N(()=>import("./shaderlab.js"),__vite__mapDeps([78,79])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>N(()=>import("./shellscript.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>N(()=>import("./shellsession.js"),__vite__mapDeps([80,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>N(()=>import("./smalltalk.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>N(()=>import("./solidity.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>N(()=>import("./soy.js"),__vite__mapDeps([81,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>N(()=>import("./sparql.js"),__vite__mapDeps([82,83])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>N(()=>import("./splunk.js"),[]))},{id:"sql",name:"SQL",import:(()=>N(()=>import("./sql.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>N(()=>import("./ssh-config.js"),[]))},{id:"stata",name:"Stata",import:(()=>N(()=>import("./stata.js"),__vite__mapDeps([84,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>N(()=>import("./stylus.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>N(()=>import("./svelte.js"),__vite__mapDeps([85,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>N(()=>import("./swift.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>N(()=>import("./system-verilog.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>N(()=>import("./systemd.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>N(()=>import("./talonscript.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>N(()=>import("./tasl.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>N(()=>import("./tcl.js"),[]))},{id:"templ",name:"Templ",import:(()=>N(()=>import("./templ.js"),__vite__mapDeps([86,87,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>N(()=>import("./terraform.js"),[]))},{id:"tex",name:"TeX",import:(()=>N(()=>import("./tex.js"),__vite__mapDeps([62,60])))},{id:"toml",name:"TOML",import:(()=>N(()=>import("./toml.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>N(()=>import("./ts-tags.js"),__vite__mapDeps([88,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>N(()=>import("./tsv.js"),[]))},{id:"tsx",name:"TSX",import:(()=>N(()=>import("./tsx.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>N(()=>import("./turtle.js"),[]))},{id:"twig",name:"Twig",import:(()=>N(()=>import("./twig.js"),__vite__mapDeps([89,3,2,5,70,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:(()=>N(()=>import("./typescript.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>N(()=>import("./typespec.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>N(()=>import("./typst.js"),[]))},{id:"v",name:"V",import:(()=>N(()=>import("./v.js"),[]))},{id:"vala",name:"Vala",import:(()=>N(()=>import("./vala.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>N(()=>import("./vb.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>N(()=>import("./verilog.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>N(()=>import("./vhdl.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>N(()=>import("./viml.js"),[]))},{id:"vue",name:"Vue",import:(()=>N(()=>import("./vue.js"),__vite__mapDeps([90,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>N(()=>import("./vue-html.js"),__vite__mapDeps([91,90,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>N(()=>import("./vue-vine.js"),__vite__mapDeps([92,3,5,65,93,12,90,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>N(()=>import("./vyper.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>N(()=>import("./wasm.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>N(()=>import("./wenyan.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>N(()=>import("./wgsl.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>N(()=>import("./wikitext.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>N(()=>import("./wit.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>N(()=>import("./wolfram.js"),[]))},{id:"xml",name:"XML",import:(()=>N(()=>import("./xml.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>N(()=>import("./xsl.js"),__vite__mapDeps([94,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>N(()=>import("./yaml.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>N(()=>import("./zenscript.js"),[]))},{id:"zig",name:"Zig",import:(()=>N(()=>import("./zig.js"),[]))}],Wce=Object.fromEntries(O6.map(t=>[t.id,t.import])),Kce=Object.fromEntries(O6.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),Yce={...Wce,...Kce},Xce=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>N(()=>import("./andromeeda.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>N(()=>import("./aurora-x.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>N(()=>import("./ayu-dark.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>N(()=>import("./catppuccin-frappe.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>N(()=>import("./catppuccin-latte.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>N(()=>import("./catppuccin-macchiato.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>N(()=>import("./catppuccin-mocha.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>N(()=>import("./dark-plus.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>N(()=>import("./dracula.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>N(()=>import("./dracula-soft.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>N(()=>import("./everforest-dark.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>N(()=>import("./everforest-light.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>N(()=>import("./github-dark.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>N(()=>import("./github-dark-default.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>N(()=>import("./github-dark-dimmed.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>N(()=>import("./github-dark-high-contrast.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>N(()=>import("./github-light.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>N(()=>import("./github-light-default.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>N(()=>import("./github-light-high-contrast.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>N(()=>import("./gruvbox-dark-hard.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>N(()=>import("./gruvbox-dark-medium.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>N(()=>import("./gruvbox-dark-soft.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>N(()=>import("./gruvbox-light-hard.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>N(()=>import("./gruvbox-light-medium.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>N(()=>import("./gruvbox-light-soft.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>N(()=>import("./houston.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>N(()=>import("./kanagawa-dragon.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>N(()=>import("./kanagawa-lotus.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>N(()=>import("./kanagawa-wave.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>N(()=>import("./laserwave.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>N(()=>import("./light-plus.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>N(()=>import("./material-theme.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>N(()=>import("./material-theme-darker.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>N(()=>import("./material-theme-lighter.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>N(()=>import("./material-theme-ocean.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>N(()=>import("./material-theme-palenight.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>N(()=>import("./min-dark.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>N(()=>import("./min-light.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>N(()=>import("./monokai.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>N(()=>import("./night-owl.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>N(()=>import("./nord.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>N(()=>import("./one-dark-pro.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>N(()=>import("./one-light.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>N(()=>import("./plastic.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>N(()=>import("./poimandres.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>N(()=>import("./red.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>N(()=>import("./rose-pine.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>N(()=>import("./rose-pine-dawn.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>N(()=>import("./rose-pine-moon.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>N(()=>import("./slack-dark.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>N(()=>import("./slack-ochin.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>N(()=>import("./snazzy-light.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>N(()=>import("./solarized-dark.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>N(()=>import("./solarized-light.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>N(()=>import("./synthwave-84.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>N(()=>import("./tokyo-night.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>N(()=>import("./vesper.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>N(()=>import("./vitesse-black.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>N(()=>import("./vitesse-dark.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>N(()=>import("./vitesse-light.js"),[]))}],Jce=Object.fromEntries(Xce.map(t=>[t.id,t.import]));class W1 extends Error{constructor(e){super(e),this.name="ShikiError"}}function Zce(){return 2147483648}function Qce(){return typeof performance<"u"?performance.now():Date.now()}const eue=(t,e)=>t+(e-t%e)%e;async function tue(t){let e,n;const r={};function s(y){n=y,r.HEAPU8=new Uint8Array(y),r.HEAPU32=new Uint32Array(y)}function i(y,_,x){r.HEAPU8.copyWithin(y,_,_+x)}function a(y){try{return e.grow(y-n.byteLength+65535>>>16),s(e.buffer),1}catch{}}function c(y){const _=r.HEAPU8.length;y=y>>>0;const x=Zce();if(y>x)return!1;for(let E=1;E<=4;E*=2){let S=_*(1+.2/E);S=Math.min(S,y+100663296);const T=Math.min(x,eue(Math.max(y,S),65536));if(a(T))return!0}return!1}const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function d(y,_,x=1024){const E=_+x;let S=_;for(;y[S]&&!(S>=E);)++S;if(S-_>16&&y.buffer&&u)return u.decode(y.subarray(_,S));let T="";for(;_<S;){let k=y[_++];if(!(k&128)){T+=String.fromCharCode(k);continue}const L=y[_++]&63;if((k&224)===192){T+=String.fromCharCode((k&31)<<6|L);continue}const I=y[_++]&63;if((k&240)===224?k=(k&15)<<12|L<<6|I:k=(k&7)<<18|L<<12|I<<6|y[_++]&63,k<65536)T+=String.fromCharCode(k);else{const P=k-65536;T+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return T}function h(y,_){return y?d(r.HEAPU8,y,_):""}const m={emscripten_get_now:Qce,emscripten_memcpy_big:i,emscripten_resize_heap:c,fd_write:()=>0};async function g(){const _=await t({env:m,wasi_snapshot_preview1:m});e=_.memory,s(e.buffer),Object.assign(r,_),r.UTF8ToString=h}return await g(),r}var nue=Object.defineProperty,rue=(t,e,n)=>e in t?nue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qt=(t,e,n)=>rue(t,typeof e!="symbol"?e+"":e,n);let cn=null;function sue(t){throw new W1(t.UTF8ToString(t.getLastOnigError()))}class Ny{constructor(e){Qt(this,"utf16Length"),Qt(this,"utf8Length"),Qt(this,"utf16Value"),Qt(this,"utf8Value"),Qt(this,"utf16OffsetToUtf8"),Qt(this,"utf8OffsetToUtf16");const n=e.length,r=Ny._utf8ByteLength(e),s=r!==n,i=s?new Uint32Array(n+1):null;s&&(i[n]=r);const a=s?new Uint32Array(r+1):null;s&&(a[r]=n);const c=new Uint8Array(r);let u=0;for(let d=0;d<n;d++){const h=e.charCodeAt(d);let m=h,g=!1;if(h>=55296&&h<=56319&&d+1<n){const y=e.charCodeAt(d+1);y>=56320&&y<=57343&&(m=(h-55296<<10)+65536|y-56320,g=!0)}s&&(i[d]=u,g&&(i[d+1]=u),m<=127?a[u+0]=d:m<=2047?(a[u+0]=d,a[u+1]=d):m<=65535?(a[u+0]=d,a[u+1]=d,a[u+2]=d):(a[u+0]=d,a[u+1]=d,a[u+2]=d,a[u+3]=d)),m<=127?c[u++]=m:m<=2047?(c[u++]=192|(m&1984)>>>6,c[u++]=128|(m&63)>>>0):m<=65535?(c[u++]=224|(m&61440)>>>12,c[u++]=128|(m&4032)>>>6,c[u++]=128|(m&63)>>>0):(c[u++]=240|(m&1835008)>>>18,c[u++]=128|(m&258048)>>>12,c[u++]=128|(m&4032)>>>6,c[u++]=128|(m&63)>>>0),g&&d++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=c,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=a}static _utf8ByteLength(e){let n=0;for(let r=0,s=e.length;r<s;r++){const i=e.charCodeAt(r);let a=i,c=!1;if(i>=55296&&i<=56319&&r+1<s){const u=e.charCodeAt(r+1);u>=56320&&u<=57343&&(a=(i-55296<<10)+65536|u-56320,c=!0)}a<=127?n+=1:a<=2047?n+=2:a<=65535?n+=3:n+=4,c&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const jy=class Bs{constructor(e){if(Qt(this,"id",++Bs.LAST_ID),Qt(this,"_onigBinding"),Qt(this,"content"),Qt(this,"utf16Length"),Qt(this,"utf8Length"),Qt(this,"utf16OffsetToUtf8"),Qt(this,"utf8OffsetToUtf16"),Qt(this,"ptr"),!cn)throw new W1("Must invoke loadWasm first.");this._onigBinding=cn,this.content=e;const n=new Ny(e);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!Bs._sharedPtrInUse?(Bs._sharedPtr||(Bs._sharedPtr=cn.omalloc(1e4)),Bs._sharedPtrInUse=!0,cn.HEAPU8.set(n.utf8Value,Bs._sharedPtr),this.ptr=Bs._sharedPtr):this.ptr=n.createString(cn)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Bs._sharedPtr?Bs._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Qt(jy,"LAST_ID",0);Qt(jy,"_sharedPtr",0);Qt(jy,"_sharedPtrInUse",!1);let P6=jy;class iue{constructor(e){if(Qt(this,"_onigBinding"),Qt(this,"_ptr"),!cn)throw new W1("Must invoke loadWasm first.");const n=[],r=[];for(let c=0,u=e.length;c<u;c++){const d=new Ny(e[c]);n[c]=d.createString(cn),r[c]=d.utf8Length}const s=cn.omalloc(4*e.length);cn.HEAPU32.set(n,s/4);const i=cn.omalloc(4*e.length);cn.HEAPU32.set(r,i/4);const a=cn.createOnigScanner(s,i,e.length);for(let c=0,u=e.length;c<u;c++)cn.ofree(n[c]);cn.ofree(i),cn.ofree(s),a===0&&sue(cn),this._onigBinding=cn,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let s=0;if(typeof r=="number"&&(s=r),typeof e=="string"){e=new P6(e);const i=this._findNextMatchSync(e,n,!1,s);return e.dispose(),i}return this._findNextMatchSync(e,n,!1,s)}_findNextMatchSync(e,n,r,s){const i=this._onigBinding,a=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),s);if(a===0)return null;const c=i.HEAPU32;let u=a/4;const d=c[u++],h=c[u++],m=[];for(let g=0;g<h;g++){const y=e.convertUtf8OffsetToUtf16(c[u++]),_=e.convertUtf8OffsetToUtf16(c[u++]);m[g]={start:y,end:_,length:_-y}}return{index:d,captureIndices:m}}}function oue(t){return typeof t.instantiator=="function"}function aue(t){return typeof t.default=="function"}function lue(t){return typeof t.data<"u"}function cue(t){return typeof Response<"u"&&t instanceof Response}function uue(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let pm;function fue(t){if(pm)return pm;async function e(){cn=await tue(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),oue(r)?r=await r.instantiator(n):aue(r)?r=await r.default(n):(lue(r)&&(r=r.data),cue(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await due(r)(n):r=await hue(r)(n):uue(r)?r=await T_(r)(n):r instanceof WebAssembly.Module?r=await T_(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await T_(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return pm=e(),pm}function T_(t){return e=>WebAssembly.instantiate(t,e)}function due(t){return e=>WebAssembly.instantiateStreaming(t,e)}function hue(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}async function pue(t){return t&&await fue(t),{createScanner(e){return new iue(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new P6(e)}}}const mue=Hce({langs:Yce,themes:Jce,engine:()=>pue(N(()=>import("./wasm2.js"),[]))}),{getSingletonHighlighter:xO}=Gce(mue,{guessEmbeddedLanguages:oce});async function gue(t,e){try{return await xO({langs:[t],themes:e})}catch(n){if(n instanceof Error&&n.message.includes("Language"))return await xO({langs:["plaintext"],themes:e});throw n}}var I6=(t,e,n,r={})=>uae(t,e,n,gue,r),yue=dae(I6),bue=yue;const L6=({code:t,language:e,theme:n={dark:"kanagawa-wave",light:"kanagawa-lotus"},className:r,addDefaultStyles:s=!0,showLanguage:i=!1,...a})=>{const c="aui-shiki-base [&_pre]:overflow-x-auto [&_pre]:rounded-b-lg [&_pre]:!bg-muted/75 [&_pre]:p-4";return I6(t,e,n)?w.jsx(bue,{...a,language:e,theme:n,addDefaultStyles:s,showLanguage:i,defaultColor:"light-dark()",className:Fe(c,r),children:t.trim()}):w.jsx("div",{className:"px-[12px] pb-[12px] bg-[var(--chat-message-code-block-background-color)] rounded-b-[12px]",children:w.jsx("pre",{className:Fe("overflow-x-auto bg-[var(--chat-message-code-block-pre-background-color)] border border-[var(--chat-message-code-block-border-color)] rounded-[4px] p-[6px]",r),children:t.trim()})})};L6.displayName="SyntaxHighlighter";const Ug="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5%2010.0078C18.3284%2010.0078%2019%2010.6794%2019%2011.5078V17.5039C18.9999%2018.3323%2018.3284%2019.0039%2017.5%2019.0039H11.5C10.6716%2019.0039%2010.0001%2018.3323%2010%2017.5039V11.5078C10%2010.6794%2010.6716%2010.0078%2011.5%2010.0078H17.5ZM11.5%2011.0078C11.2239%2011.0078%2011%2011.2317%2011%2011.5078V17.5039C11.0001%2017.78%2011.2239%2018.0039%2011.5%2018.0039H17.5C17.7761%2018.0039%2017.9999%2017.78%2018%2017.5039V11.5078C18%2011.2317%2017.7761%2011.0078%2017.5%2011.0078H11.5ZM12.5%205.00781C13.3284%205.00781%2014%205.67939%2014%206.50781V8.50391C13.9999%208.77999%2013.7761%209.00391%2013.5%209.00391C13.2239%209.00391%2013.0001%208.77999%2013%208.50391V6.50781C13%206.23167%2012.7761%206.00781%2012.5%206.00781H6.5C6.22386%206.00781%206%206.23167%206%206.50781V12.5039C6.00006%2012.78%206.22389%2013.0039%206.5%2013.0039H8.5C8.77614%2013.0039%209%2013.2278%209%2013.5039C8.99993%2013.78%208.7761%2014.0039%208.5%2014.0039H6.5C5.67161%2014.0039%205.00006%2013.3323%205%2012.5039V6.50781C5%205.67939%205.67157%205.00781%206.5%205.00781H12.5Z'%20fill='%23383838'/%3e%3c/svg%3e";var vue=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_ue="VisuallyHidden",D6=C.forwardRef((t,e)=>w.jsx(Xe.span,{...t,ref:e,style:{...vue,...t.style}}));D6.displayName=_ue;var wue=D6,[By]=Oi("Tooltip",[ry]),$y=ry(),N6="TooltipProvider",xue=700,mx="tooltip.open",[Sue,K1]=By(N6),j6=t=>{const{__scopeTooltip:e,delayDuration:n=xue,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=C.useRef(!0),c=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),w.jsx(Sue,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:C.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};j6.displayName=N6;var Ed="Tooltip",[Eue,Yd]=By(Ed),B6=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:c}=t,u=K1(Ed,t.__scopeTooltip),d=$y(e),[h,m]=C.useState(null),g=Ro(),y=C.useRef(0),_=a??u.disableHoverableContent,x=c??u.delayDuration,E=C.useRef(!1),[S,T]=xc({prop:r,defaultProp:s??!1,onChange:j=>{j?(u.onOpen(),document.dispatchEvent(new CustomEvent(mx))):u.onClose(),i?.(j)},caller:Ed}),k=C.useMemo(()=>S?E.current?"delayed-open":"instant-open":"closed",[S]),L=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E.current=!1,T(!0)},[T]),I=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,T(!1)},[T]),P=C.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{E.current=!0,T(!0),y.current=0},x)},[x,T]);return C.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),w.jsx(QP,{...d,children:w.jsx(Eue,{scope:e,contentId:g,open:S,stateAttribute:k,trigger:h,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?P():L()},[u.isOpenDelayedRef,P,L]),onTriggerLeave:C.useCallback(()=>{_?I():(window.clearTimeout(y.current),y.current=0)},[I,_]),onOpen:L,onClose:I,disableHoverableContent:_,children:n})})};B6.displayName=Ed;var gx="TooltipTrigger",$6=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yd(gx,n),i=K1(gx,n),a=$y(n),c=C.useRef(null),u=vt(e,c,s.onTriggerChange),d=C.useRef(!1),h=C.useRef(!1),m=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),w.jsx(eI,{asChild:!0,...a,children:w.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:ke(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ke(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ke(t.onBlur,s.onClose),onClick:ke(t.onClick,s.onClose)})})});$6.displayName=gx;var Y1="TooltipPortal",[Cue,Tue]=By(Y1,{forceMount:void 0}),V6=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:s}=t,i=Yd(Y1,e);return w.jsx(Cue,{scope:e,forceMount:n,children:w.jsx(ws,{present:n||i.open,children:w.jsx(sy,{asChild:!0,container:s,children:r})})})};V6.displayName=Y1;var vc="TooltipContent",U6=C.forwardRef((t,e)=>{const n=Tue(vc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Yd(vc,t.__scopeTooltip);return w.jsx(ws,{present:r||a.open,children:a.disableHoverableContent?w.jsx(F6,{side:s,...i,ref:e}):w.jsx(Aue,{side:s,...i,ref:e})})}),Aue=C.forwardRef((t,e)=>{const n=Yd(vc,t.__scopeTooltip),r=K1(vc,t.__scopeTooltip),s=C.useRef(null),i=vt(e,s),[a,c]=C.useState(null),{trigger:u,onClose:d}=n,h=s.current,{onPointerInTransitChange:m}=r,g=C.useCallback(()=>{c(null),m(!1)},[m]),y=C.useCallback((_,x)=>{const E=_.currentTarget,S={x:_.clientX,y:_.clientY},T=Pue(S,E.getBoundingClientRect()),k=Iue(S,T),L=Lue(x.getBoundingClientRect()),I=Nue([...k,...L]);c(I),m(!0)},[m]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(u&&h){const _=E=>y(E,h),x=E=>y(E,u);return u.addEventListener("pointerleave",_),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",x)}}},[u,h,y,g]),C.useEffect(()=>{if(a){const _=x=>{const E=x.target,S={x:x.clientX,y:x.clientY},T=u?.contains(E)||h?.contains(E),k=!Due(S,a);T?g():k&&(g(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,h,a,d,g]),w.jsx(F6,{...t,ref:i})}),[Rue,kue]=By(Ed,{isInside:!1}),Mue=f7("TooltipContent"),F6=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=t,u=Yd(vc,n),d=$y(n),{onClose:h}=u;return C.useEffect(()=>(document.addEventListener(mx,h),()=>document.removeEventListener(mx,h)),[h]),C.useEffect(()=>{if(u.trigger){const m=g=>{g.target?.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),w.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:w.jsxs(tI,{"data-state":u.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(Mue,{children:r}),w.jsx(Rue,{scope:n,isInside:!0,children:w.jsx(wue,{id:u.contentId,role:"tooltip",children:s||r})})]})})});U6.displayName=vc;var z6="TooltipArrow",Oue=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$y(n);return kue(z6,n).isInside?null:w.jsx(nI,{...s,...r,ref:e})});Oue.displayName=z6;function Pue(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Iue(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Lue(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Due(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],u=e[a],d=c.x,h=c.y,m=u.x,g=u.y;h>r!=g>r&&n<(m-d)*(r-h)/(g-h)+d&&(s=!s)}return s}function Nue(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jue(e)}function jue(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Bue=j6,$ue=B6,Vue=$6,Uue=V6,Fue=U6;const zue=({delayDuration:t=0,...e})=>w.jsx(Bue,{"data-slot":"tooltip-provider",delayDuration:t,...e}),Hue=({...t})=>w.jsx(zue,{children:w.jsx($ue,{"data-slot":"tooltip",...t})}),que=({...t})=>w.jsx(Vue,{"data-slot":"tooltip-trigger",...t}),Gue=({className:t,sideOffset:e=0,children:n,...r})=>w.jsx(Uue,{container:document.getElementById("app"),children:w.jsx(Fue,{"data-slot":"tooltip-content",sideOffset:e,className:Fe("mt-[4px]","bg-[var(--tooltip-background-color)] text-[var(--tooltip-text-color)] p-[4px] rounded-[4px] text-[12px] font-[400] leading-[16px]",t),...r,children:n})}),ki=C.forwardRef(({children:t,tooltip:e,side:n="bottom",visible:r=!0,className:s,...i},a)=>w.jsxs(Hue,{children:[w.jsx(que,{asChild:!0,children:w.jsx("div",{className:Fe("flex items-center gap-2",s),ref:a,...i,children:t})}),w.jsx(Gue,{className:r?"":"hidden",side:n,children:e})]}));ki.displayName="TooltipIconButton";const Wue=({copiedDuration:t=3e3}={})=>{const[e,n]=C.useState(!1);return{isCopied:e,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),t)})}}},Kue=({language:t,code:e})=>{const{isCopied:n,copyToClipboard:r}=Wue(),s=()=>{!e||n||r(e)};return w.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4 rounded-t-lg bg-[var(--chat-message-code-block-background-color)] text-[var(--chat-message-code-block-header-color)] text-[14px] leading-[20px] px-[12px] pt-[12px] pb-[8px]",children:[w.jsx("span",{className:"lowercase",children:t}),w.jsxs(ki,{tooltip:"Copy",onClick:s,visible:!n,children:[!n&&w.jsx(Ht,{className:"cursor-pointer",src:Ug}),n&&w.jsx(Ht,{src:pc})]})]})},Yue=Hoe({SyntaxHighlighter:L6,h1:({className:t,...e})=>w.jsx("h1",{className:Fe("mb-8 scroll-m-20 text-[28px] leading-[36px] font-bold last:mb-0",t),...e}),h2:({className:t,...e})=>w.jsx("h2",{className:Fe("mb-4 mt-8 scroll-m-20 text-[24px] leading-[32px] font-bold first:mt-0 last:mb-0",t),...e}),h3:({className:t,...e})=>w.jsx("h3",{className:Fe("mb-4 mt-6 scroll-m-20 text-[20px] leading-[28px] font-bold first:mt-0 last:mb-0",t),...e}),h4:({className:t,...e})=>w.jsx("h4",{className:Fe("mb-4 mt-6 scroll-m-20 text-[18px] leading-[24px] font-bold first:mt-0 last:mb-0",t),...e}),h5:({className:t,...e})=>w.jsx("h5",{className:Fe("my-4 text-[16px] leading-[22px] font-bold first:mt-0 last:mb-0",t),...e}),h6:({className:t,...e})=>w.jsx("h6",{className:Fe("my-4 text-[14px] leading-[20px] font-bold first:mt-0 last:mb-0",t),...e}),p:({className:t,...e})=>w.jsx("p",{className:Fe("mb-5 mt-5 text-[14px] font-normal leading-[20px] first:mt-0 last:mb-0",t),...e}),a:({className:t,...e})=>w.jsx("a",{className:Fe("text-[var(--chat-link-color)] font-medium underline underline-offset-4",t),...e}),blockquote:({className:t,...e})=>w.jsx("blockquote",{className:Fe("border-l-2 pl-6 italic",t),...e}),ul:({className:t,...e})=>w.jsx("ul",{className:Fe("my-5 ml-6 list-disc [&>li]:mt-[4px]",t),...e}),ol:({className:t,...e})=>w.jsx("ol",{className:Fe("my-5 ml-6 list-decimal [&>li]:mt-[4px]",t),...e}),hr:({className:t,...e})=>w.jsx("hr",{className:Fe("my-5 border-b border-[var(--chat-message-divider-color)]",t),...e}),table:({className:t,...e})=>w.jsx("table",{className:Fe("my-5 w-full border-separate border-spacing-0 overflow-y-auto",t),...e}),th:({className:t,...e})=>w.jsx("th",{className:Fe("px-4 py-2 border-b border-[var(--chat-message-divider-color)] text-left text-[var(--chat-message-th-color)] text-[14px] leading-[20px] font-bold [&[align=center]]:text-center [&[align=right]]:text-right",t),...e}),td:({className:t,...e})=>w.jsx("td",{className:Fe("border-b border-[var(--chat-message-divider-color)] text-[var(--chat-message-td-color)] text-[14px] leading-[20px] px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",t),...e}),tr:({className:t,...e})=>w.jsx("tr",{className:Fe("m-0 border-b border-[var(--chat-message-divider-color)]",t),...e}),sup:({className:t,...e})=>w.jsx("sup",{className:Fe("[&>a]:text-xs [&>a]:no-underline",t),...e}),pre:({className:t,...e})=>w.jsx("div",{className:"px-[12px] pb-[12px] bg-[var(--chat-message-code-block-background-color)] rounded-[12px]",children:w.jsx("pre",{className:Fe("overflow-x-auto bg-[var(--chat-message-code-block-pre-background-color)] border border-[var(--chat-message-code-block-border-color)] rounded-[4px] p-[6px]",t),...e})}),code:function({className:e,...n}){const r=Zj();return w.jsx("code",{className:Fe(!r&&"font-bold italic",e),...n})},CodeHeader:Kue}),Xue=()=>w.jsx(oae,{remarkPlugins:[fse],className:"aui-md",components:Yue}),H6=C.memo(Xue),Jue=()=>{const e=mP().content.filter(n=>n.type==="file").map(n=>({type:JSON.parse(n.mimeType).type,content:n.data,path:JSON.parse(n.mimeType).path}));return w.jsx(Bx,{asChild:!0,children:w.jsxs(v1.div,{className:"mx-auto grid w-full max-w-[var(--thread-max-width)] auto-rows-auto grid-cols-[minmax(72px,1fr)_auto] gap-y-1 px-[var(--thread-padding-x)] py-4 [&:where(>*)]:col-start-2",initial:{y:5,opacity:0},animate:{y:0,opacity:1},"data-role":"user",children:[e.length>0?w.jsx("div",{className:"flex w-full flex-row gap-[8px] col-span-full col-start-1 row-start-1 justify-end mb-[8px]",children:e.map(n=>w.jsx(F5,{file:n,withoutClose:!0},n.path))}):null,w.jsx("div",{className:"bg-[var(--chat-user-message-background)] text-[var(--chat-user-message-color)] col-start-2 break-words rounded-[16px] rounded-br-[0px] px-[12px] py-[8px]",children:w.jsx($x,{components:{Text:H6}})})]})})},q6="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.5%2017.5V18.5C6.5%2019.0523%206.94772%2019.5%207.5%2019.5L17.5%2019.5C18.0523%2019.5%2018.5%2019.0523%2018.5%2018.5V17.5M12.5%2016.5L16.5%2012.5M12.5%2016.5L8.5%2012.5M12.5%2016.5L12.5%204.5'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zue="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='8'%20cy='8'%20r='7'%20fill='%234A87E7'/%3e%3cpath%20d='M11.5%205.5L7.5%2010.5L5%208'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Que="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%208L3%2012L7%2016M17%208L21%2012L17%2016M14%204L10%2020'%20stroke='%23444444'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",G6=({toolName:t,argsText:e,result:n})=>{const{t:r}=Nt(),[s,i]=C.useState(!0),[a,c]=C.useState(!1),[u,d]=C.useState(!1);C.useEffect(()=>{a&&setTimeout(()=>{c(!1)},2e3)},[a]),C.useEffect(()=>{u&&setTimeout(()=>{d(!1)},2e3)},[u]);const h=t.split("_")[0],m=t.replace(h+"_",""),g=n===void 0;return w.jsxs("div",{className:"my-[16px] flex w-full flex-col gap-3",children:[w.jsxs("div",{className:"flex items-center gap-[10px] cursor-pointer",onClick:()=>i(!s),children:[g?w.jsx(U5,{size:16}):w.jsx(Ht,{src:Zue}),g?w.jsx("p",{className:"text-[var(--chat-message-tool-call-header-color)] text-[14px] font-normal leading-[16px]",children:r("ToolExecuted")}):null,w.jsxs("span",{className:"flex items-center gap-[8px] rounded-[4px] ps-[4px] pe-[8px] text-[14px] leading-[20px] font-normal text-[var(--chat-message-tool-call-name-color)] bg-[var(--chat-message-tool-call-name-background-color)]",children:[w.jsx(Ht,{src:Que}),m]}),w.jsx(Ht,{src:s?V3:o4})]}),!s&&w.jsxs("div",{className:"flex flex-col gap-[24px] mt-[8px] p-[12px] bg-[var(--chat-message-tool-call-body-background-color)] rounded-[12px]",children:[w.jsxs("div",{className:"",children:[w.jsxs("p",{className:"flex flex-row items-center justify-between text-[var(--chat-message-tool-call-header-color)] text-[14px] font-bold leading-[20px]",children:[r("ToolCallArguments"),w.jsx(Ht,{src:a?pc:Ug,onClick:()=>c(!0)})]}),w.jsx("pre",{className:"max-h-[200px] overflow-y-auto whitespace-pre-wrap text-[var(--chat-message-tool-call-pre-color)] border border-[var(--chat-message-tool-call-pre-border-color)] bg-[var(--chat-message-tool-call-pre-background-color)] px-[8px] py-[2px] rounded-[4px]",children:e||"{}"})]}),n!==void 0&&w.jsxs("div",{className:"",children:[w.jsxs("p",{className:"flex flex-row items-center justify-between text-[var(--chat-message-tool-call-header-color)] text-[14px] font-bold leading-[20px]",children:[r("ToolCallResult"),w.jsx(Ht,{src:u?pc:Ug,onClick:()=>d(!0)})]}),w.jsx("pre",{className:"max-h-[200px] overflow-y-auto whitespace-pre-wrap text-[var(--chat-message-tool-call-pre-color)] border border-[var(--chat-message-tool-call-pre-border-color)] bg-[var(--chat-message-tool-call-pre-background-color)] px-[8px] py-[2px] rounded-[4px]",children:typeof n=="string"?n:JSON.stringify(n,null,2)})]})]})]})},efe=()=>w.jsx(gI,{children:w.jsx(xI,{className:"border border-[var(--chat-message-error-border-color)] rounded-[4px] p-[6px]",children:w.jsx(SI,{className:"text-[var(--chat-message-error-color)] text-[14px] leading-[20px] font-normal"})})}),tfe=()=>{const{isStreamRunning:t}=Cc(),n=mP(),r=$N([n]),s=()=>{window.AscDesktopEditor.SaveFilenameDialog("Message.md",i=>{if(i){const a=i.split("/").pop()??"";window.AscDesktopEditor.openTemplate(i,a)}},r)};return w.jsxs(SP,{hidden:t,className:"col-start-3 row-start-2 ml-3 mt-3 flex gap-[8px]",children:[w.jsx(EP,{asChild:!0,children:w.jsxs(ki,{tooltip:"Copy",children:[w.jsx(B_,{copied:!0,children:w.jsx(un,{iconName:pc,size:24,isStroke:!0,disabled:!0})}),w.jsx(B_,{copied:!1,children:w.jsx(un,{iconName:Ug,size:24})})]})}),w.jsx("div",{children:w.jsx(ki,{tooltip:"Download",children:w.jsx(un,{iconName:q6,size:20,onClick:s,isStroke:!0})})})]})},nfe=()=>w.jsx(Bx,{asChild:!0,children:w.jsxs(v1.div,{className:"relative mx-auto grid w-full max-w-[var(--thread-max-width)] grid-cols-[auto_auto_1fr] grid-rows-[auto_1fr] px-[var(--thread-padding-x)] py-4",initial:{y:5,opacity:0},animate:{y:0,opacity:1},"data-role":"assistant",children:[w.jsxs("div",{className:"leading-[20px] text-[14px] col-span-2 col-start-2 row-start-1 ml-4 break-words leading-7",children:[w.jsx($x,{components:{Text:H6,tools:{Fallback:G6}}}),w.jsx(efe,{})]}),w.jsx(tfe,{})]})}),Xd=Mi(t=>({currentModel:null,isInitLoading:!1,initCurrentModel:()=>{try{const e=localStorage.getItem(Mv);if(!e)return;const n=JSON.parse(e);t({currentModel:n})}catch(e){console.error("Failed to initialize current model:",e)}},selectModel:e=>{t({currentModel:e}),wt.setCurrentProviderModel(e.id),localStorage.setItem(Mv,JSON.stringify(e))},deleteSelectedModel:()=>{t({currentModel:null}),localStorage.removeItem(Mv),wt.setCurrentProviderModel("")}})),rfe="data:image/svg+xml,%3csvg%20width='12'%20height='16'%20viewBox='0%200%2012%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.5%200C2.77614%201.40922e-07%203%200.223858%203%200.5V8C3%208.01656%202.99669%208.03268%202.99512%208.04883C4.13869%208.27856%205%209.28878%205%2010.5C5%2011.7112%204.13859%2012.7204%202.99512%2012.9502C2.99675%2012.9667%203%2012.9831%203%2013V15.5C3%2015.7761%202.77614%2016%202.5%2016C2.22386%2016%202%2015.7761%202%2015.5V13C2%2012.9831%202.00228%2012.9666%202.00391%2012.9502C0.860897%2012.72%20-2.86384e-08%2011.7108%200%2010.5C1.05859e-07%209.28911%200.860803%208.27892%202.00391%208.04883C2.00234%208.03271%202%208.01653%202%208V0.5C2%200.223858%202.22386%201.76916e-07%202.5%200ZM9.5%200C9.77614%202.41411e-08%2010%200.223858%2010%200.5V3C10%203.01656%209.99669%203.03268%209.99512%203.04883C11.1387%203.27856%2012%204.28878%2012%205.5C12%206.71115%2011.1386%207.72039%209.99512%207.9502C9.99675%207.96665%2010%207.98311%2010%208V15.5C10%2015.7761%209.77614%2016%209.5%2016C9.22386%2016%209%2015.7761%209%2015.5V8C9%207.98314%209.00228%207.96662%209.00391%207.9502C7.8609%207.72003%207%206.71082%207%205.5C7%204.28911%207.8608%203.27892%209.00391%203.04883C9.00234%203.03271%209%203.01653%209%203V0.5C9%200.223858%209.22386%20-5.17733e-10%209.5%200ZM2.5%209C1.67157%209%201%209.67157%201%2010.5C1%2011.3284%201.67157%2012%202.5%2012C3.32843%2012%204%2011.3284%204%2010.5C4%209.67157%203.32843%209%202.5%209ZM9.5%204C8.67157%204%208%204.67157%208%205.5C8%206.32843%208.67157%207%209.5%207C10.3284%207%2011%206.32843%2011%205.5C11%204.67157%2010.3284%204%209.5%204Z'%20fill='%23383838'/%3e%3c/svg%3e",sfe=()=>{const{servers:t,changeToolStatus:e}=Tc(),[n,r]=C.useState(!1),{t:s}=Nt(),i=C.useMemo(()=>w.jsx(ki,{visible:!n,tooltip:s("MCPServers"),children:w.jsx(un,{iconName:rfe,size:24,color:"var(--chat-composer-action-servers-color)",isActive:n})}),[n,s]),a=C.useMemo(()=>Object.entries(t).map(([d,h])=>({text:d,onClick:()=>{},subMenu:h.map(m=>({text:m.name,onClick:()=>{},withToggle:!0,toggleChecked:m.enabled,onToggleChange:g=>{e(d,m.name,g)}}))})).filter(d=>d.subMenu.length>0),[t,e]),c=C.useMemo(()=>[...a],[a]);if(!t||!a.length)return null;const u=d=>{r(d)};return w.jsx(kc,{trigger:i,items:c,onOpenChange:u})},ife="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.01953%2013.2344L12.1596%206.09434C12.5297%205.71639%2012.9711%205.41559%2013.4582%205.20932C13.9453%205.00305%2014.4684%204.89541%2014.9974%204.89263C15.5264%204.88986%2016.0506%204.99199%2016.5399%205.19314C17.0291%205.39428%2017.4736%205.69044%2017.8476%206.06448C18.2217%206.43852%2018.5178%206.88301%2018.719%207.37224C18.9201%207.86148%2019.0223%208.38574%2019.0195%208.9147C19.0167%209.44366%2018.9091%209.96683%2018.7028%2010.4539C18.4965%2010.941%2018.1957%2011.3824%2017.8178%2011.7525L11.1485%2018.4202C10.7353%2018.82%2010.1816%2019.0414%209.60671%2019.0367C9.03182%2019.0319%208.48182%2018.8014%208.07531%2018.3949C7.66879%2017.9884%207.43831%2017.4384%207.43358%2016.8635C7.42884%2016.2886%207.65022%2015.7349%208.04999%2015.3218L14.4487%208.92226'%20stroke='%23444444'%20stroke-width='1.14645'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ofe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%204C2%202.89543%202.89543%202%204%202H20C21.1046%202%2022%202.89543%2022%204V20C22%2021.1046%2021.1046%2022%2020%2022H4C2.89543%2022%202%2021.1046%202%2020V4Z'%20fill='%232D8DBF'/%3e%3cpath%20d='M7%207.66699H17C17.1841%207.66699%2017.333%207.8159%2017.333%208C17.333%208.18409%2017.1841%208.33301%2017%208.33301H7C6.81591%208.33301%206.66699%208.1841%206.66699%208C6.66699%207.81591%206.81591%207.66699%207%207.66699Z'%20stroke='white'%20stroke-width='1.33333'/%3e%3cpath%20d='M7%2015.667H13C13.1841%2015.667%2013.333%2015.8159%2013.333%2016C13.333%2016.1841%2013.1841%2016.333%2013%2016.333H7C6.81591%2016.333%206.66699%2016.1841%206.66699%2016C6.66699%2015.8159%206.81591%2015.667%207%2015.667Z'%20stroke='white'%20stroke-width='1.33333'/%3e%3cpath%20d='M7%2011.667H17C17.1841%2011.667%2017.333%2011.8159%2017.333%2012C17.333%2012.1841%2017.1841%2012.333%2017%2012.333H7C6.81591%2012.333%206.66699%2012.1841%206.66699%2012C6.66699%2011.8159%206.81591%2011.667%207%2011.667Z'%20stroke='white'%20stroke-width='1.33333'/%3e%3c/svg%3e",afe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%204C2%202.89543%202.89543%202%204%202H20C21.1046%202%2022%202.89543%2022%204V20C22%2021.1046%2021.1046%2022%2020%2022H4C2.89543%2022%202%2021.1046%202%2020V4Z'%20fill='%235BB514'/%3e%3cpath%20d='M9%2014V16H7V14H9ZM17%2014V16H13V14H17ZM17%208V10H13V8H17ZM9%208V10H7V8H9Z'%20fill='white'%20stroke='white'%20stroke-width='2'/%3e%3c/svg%3e",lfe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%204C2%202.89543%202.89543%202%204%202H20C21.1046%202%2022%202.89543%2022%204V20C22%2021.1046%2021.1046%2022%2020%2022H4C2.89543%2022%202%2021.1046%202%2020V4Z'%20fill='%23F36653'/%3e%3cpath%20d='M13%208C13%207.44772%2013.4477%207%2014%207H17C17.5523%207%2018%207.44772%2018%208C18%208.55228%2017.5523%209%2017%209H14C13.4477%209%2013%208.55228%2013%208Z'%20fill='white'/%3e%3cpath%20d='M6%2016C6%2015.4477%206.44772%2015%207%2015H17C17.5523%2015%2018%2015.4477%2018%2016C18%2016.5523%2017.5523%2017%2017%2017H7C6.44772%2017%206%2016.5523%206%2016Z'%20fill='white'/%3e%3cpath%20d='M13%2012C13%2011.4477%2013.4477%2011%2014%2011H17C17.5523%2011%2018%2011.4477%2018%2012C18%2012.5523%2017.5523%2013%2017%2013H14C13.4477%2013%2013%2012.5523%2013%2012Z'%20fill='white'/%3e%3cpath%20d='M6%2010C6%208.34315%207.34315%207%209%207C10.6569%207%2012%208.34315%2012%2010C12%2011.6569%2010.6569%2013%209%2013C7.34315%2013%206%2011.6569%206%2010Z'%20fill='white'/%3e%3c/svg%3e",SO=[".docx",".pdf",".xlsx"],cfe=()=>{const[t,e]=Ee.useState(!1),{addAttachmentFile:n}=Ay(),r=h=>{e(h)},s=(h,m)=>{window.AscDesktopEditor.convertFileExternal(h,69,(g,y)=>{if(y){console.log("Error:",y);return}const _=new Uint8Array(g.content),E=new TextDecoder("utf-8").decode(_);n({path:h,content:E,type:m})})},i=()=>{window.AscDesktopEditor.OpenFilenameDialog([...SO].join(" , "),!0,h=>{Array.isArray(h)&&h.forEach(m=>{const g=m.split(".").pop()??"";SO.includes(`.${g}`)&&window.AscDesktopEditor.convertFileExternal(m,69,(y,_)=>{if(_){console.log("Error:",_);return}const x=new Uint8Array(y.content),S=new TextDecoder("utf-8").decode(x);n({path:m,content:S,type:g==="pdf"?87:g==="docx"?65:257})})})})},a=JSON.parse(window.AscDesktopEditor?.callToolFunction("recent_files_reader")??"{}")?.files?.filter(h=>!h.path.includes("http")).filter(h=>{const m=h.type===65,g=h.type===87,y=h.type===257;return m||g||y})?.map(h=>{let m=ofe;return h.type===87?m=lfe:h.type===257&&(m=afe),{text:h.path.split("/").pop()??"",key:h.path,id:h.path,icon:w.jsx(Ht,{src:m}),onClick:()=>s(h.path,h.type)}}).filter(Boolean),{t:c}=Nt(),u=w.jsx(ki,{tooltip:c("Attachments"),visible:!t,children:w.jsx(un,{iconName:ife,size:24,className:"cursor-pointer rounded-[4px] outline-none",color:"var(--chat-composer-action-attachments-color)",isStroke:!0,isActive:t})}),d=[{text:c("AddLocalFile"),onClick:()=>i()},{text:"",onClick:()=>{},isSeparator:!0},{text:c("RecentFiles"),onClick:()=>{},subMenu:a}];return w.jsx(kc,{trigger:u,items:d,onOpenChange:r})},ufe=()=>{const{currentModel:t,selectModel:e}=Xd(),{providers:n,providersModels:r,currentProvider:s,setCurrentProvider:i}=xs(),{tools:a}=Tc(),{messages:c}=Cc(),{t:u}=Nt(),d=Ee.useCallback((m,g)=>{if(t?.id===g&&wt.currentProviderInfo?.name===m.name)return;const y=r.get(m.name)?.find(_=>_.id===g);y&&(wt.currentProviderInfo?.name!==m.name&&(i(m),wt.setCurrentProviderModel(g),wt.setCurrentProviderTools(a),wt.setCurrentProviderPrevMessages(c)),e(y))},[r,c,a,t,e,i]),h=n.map(m=>({text:m.name,id:m.name,onClick:()=>{},subMenu:r.get(m.name)?.map(g=>({text:g.name,id:g.id,onClick:()=>d(m,g.id),isActive:!1,checked:g.id===t?.id&&m.name===wt.currentProviderInfo?.name}))||[]})).filter(m=>m.subMenu.length>0);return w.jsx(V2,{placeholder:u("SelectModel"),value:s&&t?.name||"",items:h,withoutBg:!0})},ffe="data:image/svg+xml,%3csvg%20width='12'%20height='14'%20viewBox='0%200%2012%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.00092%2012.6467C5.00092%2013.1989%205.44863%2013.6467%206.00092%2013.6467C6.5532%2013.6467%207.00092%2013.1989%207.00092%2012.6467H6.00092H5.00092ZM9.52911%206.29494C9.91963%206.68546%2010.5528%206.68546%2010.9433%206.29494C11.3338%205.90442%2011.3338%205.27125%2010.9433%204.88073L10.2362%205.58783L9.52911%206.29494ZM1.05852%204.88073C0.667994%205.27125%200.667994%205.90442%201.05852%206.29494C1.44904%206.68546%202.08221%206.68546%202.47273%206.29494L1.76562%205.58783L1.05852%204.88073ZM6.25049%201.60211L6.95759%200.894999L6.25049%201.60211ZM5.75135%201.60211L5.04425%200.894999L5.75135%201.60211ZM6.25049%201.60211L5.54338%202.30921L9.52911%206.29494L10.2362%205.58783L10.9433%204.88073L6.95759%200.894999L6.25049%201.60211ZM5.75135%201.60211L5.04425%200.894999L1.05852%204.88073L1.76562%205.58783L2.47273%206.29494L6.45846%202.30921L5.75135%201.60211ZM6.00092%202.05842H5.00092V12.6467H6.00092H7.00092V2.05842H6.00092ZM6.25049%201.60211L6.95759%200.894999C6.42924%200.366643%205.5726%200.366643%205.04425%200.894999L5.75135%201.60211L6.45846%202.30921C6.20577%202.56191%205.79607%202.56191%205.54338%202.30921L6.25049%201.60211Z'%20fill='white'/%3e%3c/svg%3e",dfe="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='12'%20height='12'%20rx='4'%20fill='white'/%3e%3c/svg%3e",EO="rounded-[4px] cursor-pointer disabled:cursor-not-allowed flex items-center justify-center bg-[var(--chat-composer-action-send-background-color)] hover:enabled:bg-[var(--chat-composer-action-send-background-hover-color)] active:enabled:bg-[var(--chat-composer-action-send-background-pressed-color)] disabled:opacity-[0.5]",hfe=()=>{const{isStreamRunning:t}=Cc(),{currentModel:e}=Xd(),{currentProvider:n}=xs();return t?w.jsx(SF,{asChild:!0,children:w.jsx(un,{iconName:dfe,size:24,color:"var(--chat-composer-action-send-color)",className:EO})}):w.jsx(eg,{running:!1,children:w.jsx(iF,{asChild:!0,disabled:!e||!n,children:w.jsx(un,{iconName:ffe,size:24,color:"var(--chat-composer-action-send-color)",className:EO})})})},pfe=()=>w.jsx("div",{className:"relative flex flex-col",children:w.jsxs("div",{className:"relative flex items-center justify-between h-[24px]",children:[w.jsxs("div",{className:"flex items-center gap-[12px] flex-row",children:[w.jsx(cfe,{}),w.jsx(sfe,{})]}),w.jsxs("div",{className:"flex items-center gap-[12px] flex-row",children:[w.jsx(ufe,{}),w.jsx(hfe,{})]})]})}),CO=()=>{const{attachmentFiles:t}=Ay(),{currentProvider:e}=xs(),{currentModel:n}=Xd(),{t:r}=Nt();return w.jsx("div",{className:"relative mx-auto flex w-full max-w-[var(--thread-max-width)] flex-col gap-4 px-[var(--thread-padding-x)] pb-4 md:pb-6",children:w.jsxs(bI,{className:"composer-root relative flex w-full flex-col gap-[16px] rounded-[16px] border px-[24px] py-[16px] box-border",children:[t.length?w.jsx("div",{className:"flex flex-row gap-[8px]",children:t.map(s=>w.jsx(F5,{file:s},s.path))}):null,w.jsx(wI,{placeholder:r("AskAI"),className:"composer-input max-h-[calc(50dvh)] min-h-[16px] w-full resize-none outline-none",rows:1,autoFocus:!0,"aria-label":"Message input",disabled:!e||!n}),w.jsx(pfe,{})]})})},mfe=()=>{const{isStreamRunning:t,isRequestRunning:e}=Cc(),{t:n}=Nt();return w.jsxs(EI,{className:"flex h-full flex-col",style:{"--thread-max-width":"687px","--thread-padding-x":"1rem"},children:[w.jsx(eg,{empty:!0,children:w.jsx($_,{className:"relative flex min-w-0 flex-1 flex-col overflow-y-auto justify-center items-center",children:w.jsxs("div",{className:"flex flex-col gap-[24px] w-full",children:[w.jsx(bee,{}),w.jsx(CO,{})]})})}),w.jsxs(eg,{empty:!1,children:[w.jsxs($_,{className:"relative flex min-w-0 flex-1 flex-col gap-6 overflow-y-auto",children:[w.jsx(MF,{components:{UserMessage:Jue,AssistantMessage:nfe}}),!e&&t?w.jsx("div",{className:"flex items-center justify-center",children:w.jsxs("div",{className:"flex items-center gap-[8px] w-[var(--thread-max-width)] max-w-[var(--thread-max-width)] ps-[var(--thread-padding-x)]",children:[w.jsx(U5,{}),w.jsx("p",{className:"text-[14px] leading-[20px] font-normal text-[var(--chat-message-analyze-color)]",children:n("Analyzing")})]})}):null,w.jsx(v1.div,{className:"min-h-6 min-w-6 shrink-0"})]}),w.jsx(CO,{})]})]})},gfe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%2015.5C16.5%2014.3954%2015.6046%2013.5%2014.5%2013.5C13.3954%2013.5%2012.5%2014.3954%2012.5%2015.5M16.5%2015.5C16.5%2016.6046%2015.6046%2017.5%2014.5%2017.5C13.3954%2017.5%2012.5%2016.6046%2012.5%2015.5M16.5%2015.5L19.5%2015.5M12.5%2015.5L4.5%2015.5M11.5%208.5C11.5%207.39543%2010.6046%206.5%209.5%206.5C8.39543%206.5%207.5%207.39543%207.5%208.5M11.5%208.5C11.5%209.60457%2010.6046%2010.5%209.5%2010.5C8.39543%2010.5%207.5%209.60457%207.5%208.5M11.5%208.5L19.5%208.5M7.5%208.5H4.5'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",yfe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5%205.5V11.5M11.5%2011.5V17.5M11.5%2011.5H17.5M11.5%2011.5H5.5'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bfe=async(t,e)=>{const n=Qs.getDB(),r={threadId:t,title:e,lastEditDate:Date.now()};return new Promise((s,i)=>{const u=n.transaction(["threads"],"readwrite").objectStore("threads").put(r);u.onerror=()=>i(u.error),u.onsuccess=()=>s()})},vfe=async()=>{const t=Qs.getDB();return new Promise((e,n)=>{const i=t.transaction(["threads"],"readonly").objectStore("threads").getAll();i.onerror=()=>n(i.error),i.onsuccess=()=>{const a=i.result.sort((c,u)=>u.lastEditDate-c.lastEditDate);e(a)}})},_fe=async(t,e)=>{const n=Qs.getDB();return new Promise((r,s)=>{const a=n.transaction(["threads"],"readwrite").objectStore("threads"),c=a.get(t);c.onerror=()=>s(c.error),c.onsuccess=()=>{const u=c.result;if(!u){s(new Error("Thread not found"));return}const d={...u,...e&&{title:e},lastEditDate:Date.now()},h=a.put(d);h.onerror=()=>s(h.error),h.onsuccess=()=>r()}})},wfe=async t=>{const e=Qs.getDB();return new Promise((n,r)=>{const i=e.transaction(["threads"],"readwrite").objectStore("threads"),a=i.get(t);a.onerror=()=>r(a.error),a.onsuccess=()=>{const c=a.result;if(!c){r(new Error("Thread not found"));return}const u={...c,lastEditDate:Date.now()},d=i.put(u);d.onerror=()=>r(d.error),d.onsuccess=()=>n()}})},xfe=async t=>{const e=Qs.getDB();return new Promise((n,r)=>{const a=e.transaction(["threads"],"readwrite").objectStore("threads").delete(t);a.onerror=()=>r(a.error),a.onsuccess=()=>n()})},Jd=Mi((t,e)=>({threadId:crypto.randomUUID(),threads:[],initThreads:async()=>{const n=await vfe();t({threads:n})},insertThread:n=>{const r=e();t({threads:[{threadId:r.threadId,title:n},...r.threads]}),bfe(r.threadId,n)},insertNewMessageToThread:()=>{const n=e();wfe(n.threadId),t({threads:n.threads.map(r=>r.threadId===n.threadId?{...r,lastEditDate:Date.now()}:r)})},onSwitchToNewThread:()=>{t({threadId:crypto.randomUUID()})},onSwitchToThread:n=>{t({threadId:n})},onDownloadThread:async n=>{const s=e().threads.find(u=>u.threadId===n),i=await EN(n),a=s?.title||"Chat Export";let c=`# ${a}

`;c+=`*Exported on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}*

`,c+=`---

`,c+=$N(i),window.AscDesktopEditor.SaveFilenameDialog(`${a}.md`,u=>{if(u==="")return;const d=u.split("/").pop();d&&window.AscDesktopEditor.openTemplate(u,d)},c)},onRenameThread:(n,r)=>{const s=e();t({threads:s.threads.map(i=>i.threadId===n?{...i,title:r}:i)}),_fe(n,r)},onDeleteThread:n=>{const r=e();r.threadId===n&&r.onSwitchToNewThread(),t({threads:r.threads.filter(s=>s.threadId!==n)}),xfe(n)}})),Sfe=()=>{const{t}=Nt(),{currentPage:e,setCurrentPage:n}=T2(),{providers:r}=xs(),{onSwitchToNewThread:s}=Jd();return w.jsxs("nav",{className:"w-full flex justify-between items-center h-[56px] min-h-[56px] box-border border-b-[1px] border-[var(--header-border-color)] bg-[var(--header-background-color)] px-[32px]",children:[w.jsxs("div",{className:"flex items-center gap-[12px]",children:[w.jsx("h3",{className:"text-[var(--header-color)] font-bold text-[16px] leading-[24px]",children:t("AIAgent")}),w.jsx(ki,{tooltip:t("NewChat"),children:w.jsx(un,{iconName:yfe,size:24,color:"var(--header-color)",isStroke:!0,disabled:!r.length,onClick:()=>{n("chat"),s()}})})]}),w.jsx(ki,{tooltip:t("Settings"),children:w.jsx(un,{iconName:gfe,size:24,color:"var(--header-color)",isStroke:!0,isActive:e==="settings",onClick:()=>n("settings")})})]})},Efe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.0315%2016.6276C18.2814%2017.3778%2017.264%2017.7992%2016.2031%2017.7992C15.1422%2017.7992%2014.1248%2017.3778%2013.3747%2016.6276C12.6245%2015.8775%2012.2031%2014.8601%2012.2031%2013.7992C12.2031%2012.7384%2012.6245%2011.7209%2013.3747%2010.9708C14.1248%2010.2206%2015.1422%209.79922%2016.2031%209.79922C17.264%209.79922%2018.2814%2010.2206%2019.0315%2010.9708C19.7817%2011.7209%2020.2031%2012.7384%2020.2031%2013.7992C20.2031%2014.8601%2019.7817%2015.8775%2019.0315%2016.6276ZM19.0315%2016.6276L22.2031%2019.7992M4.20312%204.19922H19.8029M4.20312%208.99922H9.0029M4.20312%2013.7992H9.00313M4.20312%2018.5992H9.00313'%20stroke='%23383838'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Cfe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.57%206.42969L8%2011.9995L13.57%2017.5694'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Tfe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5002%2017.5002L13.881%2013.881M13.881%2013.881C14.5001%2013.2619%2014.9912%2012.527%2015.3262%2011.7181C15.6612%2010.9093%2015.8337%2010.0423%2015.8337%209.16684C15.8337%208.29134%2015.6612%207.42441%2015.3262%206.61555C14.9912%205.80669%2014.5001%205.07174%2013.881%204.45267C13.2619%203.8336%2012.527%203.34252%2011.7181%203.00748C10.9093%202.67244%2010.0423%202.5%209.16684%202.5C8.29134%202.5%207.42441%202.67244%206.61555%203.00748C5.80669%203.34252%205.07174%203.8336%204.45267%204.45267C3.2024%205.70295%202.5%207.39868%202.5%209.16684C2.5%2010.935%203.2024%2012.6307%204.45267%2013.881C5.70295%2015.1313%207.39868%2015.8337%209.16684%2015.8337C10.935%2015.8337%2012.6307%2015.1313%2013.881%2013.881Z'%20stroke='%23383838'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Afe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.5%207C19.3284%207%2020%207.67157%2020%208.5V15.5C20%2016.3284%2019.3284%2017%2018.5%2017H5.5C4.67157%2017%204%2016.3284%204%2015.5V8.5C4%207.67157%204.67157%207%205.5%207H18.5ZM5.5%208C5.22386%208%205%208.22386%205%208.5V15.5C5%2015.7761%205.22386%2016%205.5%2016H18.5C18.7761%2016%2019%2015.7761%2019%2015.5V8.5C19%208.22386%2018.7761%208%2018.5%208H5.5Z'%20fill='%23383838'/%3e%3cpath%20d='M8.5%209C8.77614%209%209%209.22386%209%209.5C9%209.77614%208.77614%2010%208.5%2010H8V14H8.5C8.77614%2014%209%2014.2239%209%2014.5C9%2014.7761%208.77614%2015%208.5%2015H6.5C6.22386%2015%206%2014.7761%206%2014.5C6%2014.2239%206.22386%2014%206.5%2014H7V10H6.5C6.22386%2010%206%209.77614%206%209.5C6%209.22386%206.22386%209%206.5%209H8.5Z'%20fill='%23446ECA'/%3e%3c/svg%3e",Rfe=({id:t,onClose:e})=>{const{onDeleteThread:n}=Jd(),{t:r}=Nt(),s=Ee.useCallback(async()=>{await n(t),e()},[t,n,e]);return Ee.useEffect(()=>{const i=a=>{a.key==="Enter"&&(a.preventDefault(),s())};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[s]),w.jsx(Bd,{open:!0,children:w.jsx($d,{header:r("Warning"),onClose:e,withWarningIcon:!0,children:w.jsxs("div",{className:"flex flex-col justify-between h-full",children:[w.jsx("p",{className:"select-none h-[40px] flex items-center text-[12px] leading-[16px]",children:r("WantDeleteChat?")}),w.jsxs("div",{className:"flex flex-row justify-end items-center gap-[8px] h-[48px]",children:[w.jsx(Pr,{size:"small",variant:"default",onClick:e,children:r("No")}),w.jsx(Pr,{size:"small",onClick:s,children:r("Yes")})]})]})})})},kfe=()=>w.jsx(Ht,{src:q6,beforeInjection:t=>{const e=t.querySelector("path");e&&e.setAttribute("stroke","var(--chat-list-item-icon-color)")}}),Mfe=()=>w.jsx(Ht,{src:Afe,beforeInjection:t=>{const e=t.querySelector("path");e&&e.setAttribute("fill","var(--chat-list-item-icon-color)")}}),Ofe=()=>w.jsx(Ht,{src:i3,beforeInjection:t=>{const e=t.querySelector("path");e&&e.setAttribute("fill","var(--chat-list-item-icon-color)")}}),Pfe=({thread:t,isActive:e,onSwitchToThread:n,onRenameThread:r,onDownloadThread:s,setCurrentPage:i})=>{const[a,c]=Ee.useState(!1),[u,d]=Ee.useState(!1),[h,m]=Ee.useState(!1),[g,y]=Ee.useState(!1),[_,x]=Ee.useState(t.title),E=Ee.useRef(null),S=Ee.useRef(null),{t:T}=Nt();Ee.useEffect(()=>{const j=$=>{h&&($.key==="Escape"?($.preventDefault(),m(!1),x(t.title)):$.key==="Enter"&&($.preventDefault(),S.current?.blur()))};return h&&document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[h,t.title]);const k=()=>{a||h||g||(n(t.threadId),i("chat"))},L=()=>{y(!0),c(!1)},I=()=>{m(!0),c(!1)},P=()=>{s(t.threadId),c(!1)};return w.jsxs("div",{ref:E,className:`cursor-pointer rounded-[4px] h-[36px] min-h-[36px] flex items-center justify-between ${h?"":`px-[12px] ${e||a?"bg-[var(--chat-list-item-active-background-color)]":"hover:bg-[var(--chat-list-item-hover-background-color)] active:bg-[var(--chat-list-item-active-background-color)]"}`}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>{a||d(!1)},onClick:k,children:[h?w.jsx(Si,{ref:S,value:_,onChange:j=>x(j.target.value),onBlur:()=>{m(!1),_&&r(t.threadId,_)},autoFocus:!0,className:"w-full"}):w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"text-[var(--chat-list-item-color)] font-normal text-[14px] leading-[20px] truncate",children:t.title}),u&&!h?w.jsx(kc,{open:a,onOpenChange:c,trigger:w.jsx(un,{iconName:s3,color:"var(--ai-provider-item-icon-color)",size:20,isActive:a}),items:[{icon:w.jsx(kfe,{}),text:T("Download"),onClick:P},{icon:w.jsx(Mfe,{}),text:T("Rename"),onClick:I},{icon:w.jsx(Ofe,{}),text:T("Delete"),onClick:L}],side:"right",align:"start",sideOffset:0,containerRef:E.current}):null]}),g?w.jsx(Rfe,{id:t.threadId,onClose:()=>y(!1)}):null]},t.threadId)},Ife=()=>{const{threads:t,threadId:e,onSwitchToThread:n,onRenameThread:r,onDownloadThread:s}=Jd(),{setCurrentPage:i}=T2(),[a,c]=Ee.useState(!1),[u,d]=Ee.useState(""),[h,m]=Ee.useState(t),{t:g}=Nt(),y=x=>{const E=x.target.value;d(E)};Ee.useEffect(()=>{const x=t.filter(E=>E.title?.toLowerCase().includes(u.toLowerCase()));m(x)},[t,u]);const _=t.length===0;return a?w.jsxs("div",{className:`w-[264px] min-w-[264px] h-full max-h-full border-r-[1px] border-[var(--chat-list-border-right)] p-[24px] flex flex-col gap-[${_?24:32}px]`,style:{maxHeight:"calc(100% - 24px)"},children:[w.jsxs("div",{className:"flex items-center justify-between px-[8px]",children:[w.jsx("h4",{className:"text-[14px] leading-[20px] font-bold text-[var(--chat-list-color)]",children:g("ChatHistory")}),w.jsx(un,{iconName:Cfe,size:24,color:"var(--chat-list-color)",isStroke:!0,onClick:()=>c(!1)})]}),w.jsx("div",{className:"flex flex-col",style:{maxHeight:"100%"},children:_?w.jsx("p",{className:"text-[var(--chat-list-empty-color)] font-normal text-[14px] leading-[20px] w-full text-center",children:g("NoChatYet")}):w.jsxs("div",{className:"flex flex-col mt-[24px]",style:{maxHeight:"calc(100% - 24px)"},children:[w.jsx(Si,{className:"w-full",type:"search",placeholder:g("Search"),icon:Tfe,iconColor:"",value:u,onChange:y}),w.jsx("div",{className:"flex flex-col mt-[16px] overflow-y-scroll",style:{maxHeight:"calc(100% - 24px)"},children:h.length?h.map(x=>{const E=x.threadId===e;return w.jsx(Pfe,{thread:x,isActive:E,onSwitchToThread:n,setCurrentPage:i,onRenameThread:r,onDownloadThread:s},x.threadId)}):w.jsx("p",{className:"text-[var(--chat-list-empty-color)] font-normal text-[14px] leading-[20px] w-full",children:g("NoChatYet")})})]})})]}):w.jsx("div",{className:"ml-[32px] mt-[24px]",children:w.jsx(ki,{tooltip:g("ChatHistory"),children:w.jsx(un,{iconName:Efe,size:24,color:"var(--chat-list-color)",isStroke:!0,onClick:()=>{i("chat"),c(!0)}})})})},TO=({children:t})=>{const[e,n]=Ee.useState(`theme-${window.RendererProcessVariable?.theme.type??"light"}`),{i18n:r}=Nt();return Ee.useLayoutEffect(()=>{if(window.RendererProcessVariable){const s=window.RendererProcessVariable.lang??new URLSearchParams(window.location.search).get("lang");s?.includes("en")?r.changeLanguage("en"):s?.includes("ru")?r.changeLanguage("ru"):r.changeLanguage("en"),n(`theme-${window.RendererProcessVariable.theme.type}`)}else r.changeLanguage("en"),n("theme-light");window.on_update_plugin_info=s=>{s?.lang?.includes("en")?r.changeLanguage("en"):s?.lang?.includes("ru")?r.changeLanguage("ru"):r.changeLanguage("en"),s?.theme==="theme-white"||s?.theme==="theme-gray"||s?.theme==="theme-classic-light"||s?.theme==="theme-light"?n("theme-light"):n("theme-dark")}},[r]),w.jsx("div",{className:`h-dvh ${e}`,children:w.jsxs("main",{id:"app",className:"h-dvh bg-[var(--layout-background-color)] flex flex-col",children:[w.jsx(Sfe,{}),w.jsxs("div",{className:"flex flex-row flex-1",style:{height:"calc(100dvh - 56px)"},children:[w.jsx(Ife,{}),w.jsx("div",{className:"w-full",children:t})]})]})})},Lfe=({checked:t=!1,onChange:e,disabled:n=!1,id:r,className:s="","aria-label":i})=>{const a=c=>{e&&!n&&e(c.target.checked)};return w.jsxs("div",{className:`inline-flex items-center relative ${s}`,children:[w.jsx("input",{type:"checkbox",id:r,checked:t,onChange:a,disabled:n,className:"absolute opacity-0 cursor-pointer w-4 h-4 m-0 disabled:cursor-not-allowed","aria-label":i}),w.jsx("label",{htmlFor:r,className:"inline-flex items-center cursor-pointer select-none disabled:cursor-not-allowed disabled:opacity-60",children:w.jsx("div",{className:`w-4 h-4 rounded-[2px] flex items-center justify-center transition-all duration-200 box-border ${t?"bg-[var(--checkbox-active-color)]":"bg-transparent border border-[var(--checkbox-color)]"} focus-within:outline-none`,children:t&&w.jsx(Ht,{src:pc,className:"flex items-center justify-center",beforeInjection:c=>{const u=c.querySelector("path");u&&u.setAttribute("stroke","var(--heckbox-active-icon-color)")}})})})]})},Dfe=({onAllow:t,onDeny:e,onClose:n})=>{const{t:r}=Nt(),{manageToolData:s}=Tc(),[i,a]=C.useState(!1),c=()=>{t(i),n()},u=()=>{e(),n()},d=s?.message?.content[s.idx];if(!(!d||typeof d!="object"||!("type"in d)||d.type!=="tool-call"))return w.jsx(Bd,{open:!0,children:w.jsxs($d,{header:r("Confirmation"),onClose:e,isHuge:!0,children:[w.jsxs("div",{className:"flex flex-col justify-between h-full mb-[16px] text-[var(--tool-fallback-color)]",children:[w.jsx("p",{className:"mt-[8px] font-[14px] leading-[20px] font-normal text-[var(--tool-fallback-color)]",children:r("AIWouldLikeUseThisTool")}),w.jsx(G6,{type:"tool-call",toolCallId:d.toolCallId,args:d.args??{},toolName:d.toolName,argsText:d.argsText??"{}",result:d.result,status:{type:"running"},addResult:()=>{}}),w.jsx("p",{className:"font-[14px] leading-[20px] font-normal text-[var(--tool-fallback-color)]",children:r("ReviewEachAction")}),w.jsxs("p",{className:"flex items-center gap-[8px] mt-[24px] font-[14px] leading-[20px] font-normal text-[var(--tool-fallback-color)]",children:[w.jsx(Lfe,{checked:i,onChange:a,id:"allow-always-checkbox"}),r("AlwaysAllow")]})]}),w.jsxs("div",{className:"flex flex-row justify-end items-center gap-[8px] h-[64px] border-t-[1px] border-[var(--border-divider)] mx-[-32px] px-[32px]",children:[w.jsx(Pr,{variant:"default",onClick:u,children:r("Deny")}),w.jsx(Pr,{onClick:c,children:r("Allow")})]})]})})},Nfe=({isReady:t})=>{const{messages:e,setIsStreamRunning:n,setIsRequestRunning:r,addMessage:s,updateLastMessage:i,fetchPrevMessages:a}=Cc(),{threadId:c,insertThread:u,insertNewMessageToThread:d}=Jd(),{manageToolData:h,callTools:m,checkAllowAlways:g,setAllowAlways:y,setManageToolData:_}=Tc(),{attachmentFiles:x,clearAttachmentFiles:E}=Ay(),{currentProvider:S}=xs(),{currentModel:T}=Xd();C.useEffect(()=>{t&&(a(c),E())},[c,t,a,E]);const k=H=>H,L=H=>{h&&(H&&y(),P(h.message,h.idx,h.messageUID,!0,!1),_(void 0))},I=()=>{h&&(P(h.message,h.idx,h.messageUID,!1,!0),_(void 0))},P=async(H,B,Y,ne,re)=>{const Z=H.content[B];if(!(!Z||typeof Z!="object"||!("type"in Z)||Z.type!=="tool-call"))if(g()||ne||re){const ae=re?"User deny tool call":await m(Z.toolName,Z.args),U=Array.isArray(H.content)?H.content.map((le,A)=>A===B?{...Z,result:ae}:le):H.content,X={...H,content:U};if(i(X),!wt)return;const z=wt.sendMessageAfterToolCall(X);z&&j(z,!0,Y)}else _({message:H,idx:B,messageUID:Y})},j=async(H,B,Y)=>{n(!0);let ne=!!B;const re=B&&Y?Y:crypto.randomUUID();if(e)for await(const Z of H){if("isEnd"in Z){if(Z.responseMessage.status?.type==="incomplete"){s(Z.responseMessage),n(!1),r(!1);return}const ae=Z.responseMessage;if(ae?.role==="assistant"&&Array.isArray(ae.content)){const U=ae.content.findIndex(X=>X.type==="tool-call"&&!X.result);if(U!==-1){P(ae,U,re);return}}n(!1),r(!1);return}ne?(Xq(re,Z),i(Z)):(B||r(!0),s(Z),PR(c,re,Z),ne=!0)}};return{convertMessage:k,onNew:async H=>{if(!wt||!S||!T||H.content[0].type!=="text")return;let B=[];x.length>0&&(B=x.map(Z=>({type:"file",mimeType:JSON.stringify({path:Z.path,type:Z.type}),data:Z.content})),E());const ne={role:"user",content:[...B,{type:"text",text:H.content[0].text}],attachments:H.attachments};e.length===0?u(H.content[0].text.substring(0,25)):d(),PR(c,crypto.randomUUID(),ne),s(ne);const re=wt.sendMessage([ne]);re&&j(re)},handleStream:j,approveToolCall:L,denyToolCall:I}},jfe=({isReady:t})=>{const{initThreads:e}=Jd();return C.useEffect(()=>{t&&e()},[t,e]),{}},Bfe=()=>{const{initCurrentModel:t,currentModel:e}=Xd();return C.useEffect(()=>{e&&wt.setCurrentProviderModel(e.id)},[e]),C.useEffect(()=>{t()},[t]),{}},$fe=({isReady:t})=>{const{initServers:e,tools:n}=Tc(),{currentProvider:r}=xs();return C.useEffect(()=>{t&&e()},[t,e]),C.useEffect(()=>{!n||!r||wt.setCurrentProviderTools(n)},[n,r]),{}},Ve=t=>typeof t=="string",ff=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},AO=t=>t==null?"":""+t,Vfe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Ufe=/###/g,RO=t=>t&&t.indexOf("###")>-1?t.replace(Ufe,"."):t,kO=t=>!t||Ve(t),ed=(t,e,n)=>{const r=Ve(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(kO(t))return{};const i=RO(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return kO(t)?{}:{obj:t,k:RO(r[s])}},MO=(t,e,n)=>{const{obj:r,k:s}=ed(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),c=ed(t,a,Object);for(;c.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),c=ed(t,a,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Ffe=(t,e,n,r)=>{const{obj:s,k:i}=ed(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Fg=(t,e)=>{const{obj:n,k:r}=ed(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},zfe=(t,e,n)=>{const r=Fg(t,n);return r!==void 0?r:Fg(e,n)},W6=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ve(t[r])||t[r]instanceof String||Ve(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):W6(t[r],e[r],n):t[r]=e[r]);return t},$l=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Hfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qfe=t=>Ve(t)?t.replace(/[&<>"'\/]/g,e=>Hfe[e]):t;class Gfe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Wfe=[" ",",","?","!",";"],Kfe=new Gfe(20),Yfe=(t,e,n)=>{e=e||"",n=n||"";const r=Wfe.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=Kfe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},yx=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,c="";for(let u=i;u<r.length;++u)if(u!==i&&(c+=n),c+=r[u],a=s[c],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=a}return s},Cd=t=>t?.replace("_","-"),Xfe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class zg{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Xfe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(Ve(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new zg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zg(this.logger,e)}}var zs=new zg;class Vy{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...n])})}}class OO extends Vy{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):Ve(r)&&i?c.push(...r.split(i)):c.push(r)));const u=Fg(this.data,c);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),u||!a||!Ve(r)?u:yx(this.data?.[e]?.[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),MO(this.data,c,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(Ve(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,a={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=n,n=c[1]),this.addNamespaces(n);let u=Fg(this.data,c)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?W6(u,r,i):u={...u,...r},MO(this.data,c,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var K6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,s)??e}),e}};const Y6=Symbol("i18next/PATH_KEY");function Jfe(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>(n?.revoke?.(),s===Y6?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function bx(t,e){const{[Y6]:n}=t(Jfe());return n.join(e?.keySeparator??".")}const PO={},IO=t=>!Ve(t)&&typeof t!="boolean"&&typeof t!="number";class Hg extends Vy{constructor(e,n={}){super(),Vfe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Yfe(e,r,s);if(a&&!c){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Ve(i)?[i]:i};const d=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(s)}return{key:e,namespaces:Ve(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=bx(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(e[e.length-1],s),d=u[u.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const m=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return g?i?{res:`${d}${h}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${h}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:c;const y=this.resolve(e,s);let _=y?.res;const x=y?.usedKey||c,E=y?.exactUsedKey||c,S=["[object Number]","[object Function]","[object RegExp]"],T=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,L=s.count!==void 0&&!Ve(s.count),I=Hg.hasDefaultValue(s),P=L?this.pluralResolver.getSuffix(m,s.count,s):"",j=s.ordinal&&L?this.pluralResolver.getSuffix(m,s.count,{ordinal:!1}):"",$=L&&!s.ordinal&&s.count===0,H=$&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${P}`]||s[`defaultValue${j}`]||s.defaultValue;let B=_;k&&!_&&I&&(B=H);const Y=IO(B),ne=Object.prototype.toString.apply(B);if(k&&B&&Y&&S.indexOf(ne)<0&&!(Ve(T)&&Array.isArray(B))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const re=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,B,{...s,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(y.res=re,y.usedParams=this.getUsedParamsDetails(s),y):re}if(a){const re=Array.isArray(B),Z=re?[]:{},ae=re?E:x;for(const U in B)if(Object.prototype.hasOwnProperty.call(B,U)){const X=`${ae}${a}${U}`;I&&!_?Z[U]=this.translate(X,{...s,defaultValue:IO(H)?H[U]:void 0,joinArrays:!1,ns:u}):Z[U]=this.translate(X,{...s,joinArrays:!1,ns:u}),Z[U]===X&&(Z[U]=B[U])}_=Z}}else if(k&&Ve(T)&&Array.isArray(_))_=_.join(T),_&&(_=this.extendTranslation(_,e,s,r));else{let re=!1,Z=!1;!this.isValidLookup(_)&&I&&(re=!0,_=H),this.isValidLookup(_)||(Z=!0,_=c);const U=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:_,X=I&&H!==_&&this.options.updateMissing;if(Z||re||X){if(this.logger.log(X?"updateKey":"missingKey",m,d,c,X?H:_),a){const ee=this.resolve(c,{...s,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let ee=0;ee<le.length;ee++)z.push(le[ee]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(s.lng||this.language):z.push(s.lng||this.language);const A=(ee,fe,O)=>{const me=I&&O!==_?O:U;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,d,fe,me,X,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ee,d,fe,me,X,s),this.emit("missingKey",ee,d,fe,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?z.forEach(ee=>{const fe=this.pluralResolver.getSuffixes(ee,s);$&&s[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(O=>{A([ee],c+O,s[`defaultValue${O}`]||H)})}):A(z,c,H))}_=this.extendTranslation(_,e,s,y,r),Z&&_===c&&this.options.appendNamespaceToMissingKey&&(_=`${d}${h}${c}`),(Z||re)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${c}`:c,re?_:void 0,s))}return i?(y.res=_,y.usedParams=this.getUsedParamsDetails(s),y):_}extendTranslation(e,n,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Ve(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let h=r.replace&&!Ve(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;d<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,c=Ve(a)?[a]:a;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=K6.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,a,c;return Ve(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(u,n),h=d.key;s=h;let m=d.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const g=n.count!==void 0&&!Ve(n.count),y=g&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(Ve(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(E=>{this.isValidLookup(r)||(c=E,!PO[`${x[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(PO[`${x[0]}-${E}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{if(this.isValidLookup(r))return;a=S;const T=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(T,h,S,E,n);else{let L;g&&(L=this.pluralResolver.getSuffix(S,n.count,n));const I=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(n.ordinal&&L.indexOf(P)===0&&T.push(h+L.replace(P,this.options.pluralSeparator)),T.push(h+L),y&&T.push(h+I)),_){const j=`${h}${this.options.contextSeparator||"_"}${n.context}`;T.push(j),g&&(n.ordinal&&L.indexOf(P)===0&&T.push(j+L.replace(P,this.options.pluralSeparator)),T.push(j+L),y&&T.push(j+I))}}let k;for(;k=T.pop();)this.isValidLookup(r)||(i=k,r=this.getResource(S,E,k,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ve(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class LO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zs.create("languageUtils")}getScriptPartFromCode(e){if(e=Cd(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Cd(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ve(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ve(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Ve(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const DO={zero:0,one:1,two:2,few:3,many:4,other:5},NO={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Zfe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=zs.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Cd(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),NO;if(!e.match(/-|_/))return NO;const u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,n)}return this.pluralRulesCache[i]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>DO[s]-DO[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const jO=(t,e,n,r=".",s=!0)=>{let i=zfe(t,e,n);return!i&&s&&Ve(n)&&(i=yx(t,n,r),i===void 0&&(i=yx(e,n,r))),i},A_=t=>t.replace(/\$/g,"$$$$");class Qfe{constructor(e={}){this.logger=zs.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:c,suffixEscaped:u,formatSeparator:d,unescapeSuffix:h,unescapePrefix:m,nestingPrefix:g,nestingPrefixEscaped:y,nestingSuffix:_,nestingSuffixEscaped:x,nestingOptionsSeparator:E,maxReplaces:S,alwaysFormat:T}=e.interpolation;this.escape=n!==void 0?n:qfe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?$l(i):a||"{{",this.suffix=c?$l(c):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?$l(g):y||$l("$t("),this.nestingSuffix=_?$l(_):x||$l(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=S||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=y=>{if(y.indexOf(this.formatSeparator)<0){const S=jO(n,u,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...s,...n,interpolationkey:y}):S}const _=y.split(this.formatSeparator),x=_.shift().trim(),E=_.join(this.formatSeparator).trim();return this.format(jO(n,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...s,...n,interpolationkey:x})};this.resetRegExp();const h=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>A_(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?A_(this.escape(y)):A_(y)}].forEach(y=>{for(c=0;i=y.regex.exec(e);){const _=i[1].trim();if(a=d(_),a===void 0)if(typeof h=="function"){const E=h(e,i,s);a=Ve(E)?E:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))a="";else if(m){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!Ve(a)&&!this.useRawValueToEscape&&(a=AO(a));const x=y.safeValue(a);if(e=e.replace(i[0],x),m?(y.regex.lastIndex+=a.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,a;const c=(u,d)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const m=u.split(new RegExp(`${h}[ ]*{`));let g=`{${m[1]}`;u=m[0],g=this.interpolate(g,a);const y=g.match(/'/g),_=g.match(/"/g);((y?.length??0)%2===0&&!_||_.length%2!==0)&&(g=g.replace(/'/g,'"'));try{a=JSON.parse(g),d&&(a={...d,...a})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,x),`${u}${h}${g}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!Ve(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=n(c.call(this,s[1].trim(),a),a),i&&s[0]===e&&!Ve(i))return i;Ve(i)||(i=AO(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u.length&&(i=u.reduce((h,m)=>this.format(h,m,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const ede=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[c,...u]=a.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),h=c.trim();n[h]||(n[h]=d),d==="false"&&(n[h]=!1),d==="true"&&(n[h]=!0),isNaN(d)||(n[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},BO=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let c=e[a];return c||(c=t(Cd(r),s),e[a]=c),c(n)}},tde=t=>(e,n,r)=>t(Cd(n),r)(e);class nde{constructor(e={}){this.logger=zs.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?BO:tde;this.formats={number:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return c=>a.format(c)}),currency:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return c=>a.format(c)}),datetime:r((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return c=>a.format(c)}),relativetime:r((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return c=>a.format(c,i.range||"day")}),list:r((s,i)=>{const a=new Intl.ListFormat(s,{...i});return c=>a.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=BO(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,u)=>{const{formatName:d,formatOptions:h}=ede(u);if(this.formats[d]){let m=c;try{const g=s?.formatParams?.[s.interpolationkey]||{},y=g.locale||g.lng||s.locale||s.lng||r;m=this.formats[d](c,y,{...h,...s,...g})}catch(g){this.logger.warn(g)}return m}else this.logger.warn(`there was no format function for ${d}`);return c},e)}}const rde=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class sde extends Vy{constructor(e,n,r,s={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=zs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},c={},u={};return e.forEach(d=>{let h=!0;n.forEach(m=>{const g=`${d}|${m}`;!r.reload&&this.store.hasResourceBundle(d,m)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?a[g]===void 0&&(a[g]=!0):(this.state[g]=1,h=!1,a[g]===void 0&&(a[g]=!0),i[g]===void 0&&(i[g]=!0),u[m]===void 0&&(u[m]=!0)))}),h||(c[d]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(u=>{Ffe(u.loaded,[i],a),rde(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{c[d]||(c[d]={});const h=u.loaded[d];h.length&&h.forEach(m=>{c[d][m]===void 0&&(c[d][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const c=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(d&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(d,h)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const d=u(e,n);d&&typeof d.then=="function"?d.then(h=>c(null,h)).catch(c):c(null,d)}catch(d){c(d)}return}return u(e,n,c)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ve(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,c)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,c),this.loaded(e,a,c)})}saveMissing(e,n,r,s,i,a={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...a,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let h;d.length===5?h=d(e,n,r,s,u):h=d(e,n,r,s),h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}else d(e,n,r,s,c,u)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const $O=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ve(t[1])&&(e.defaultValue=t[1]),Ve(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),VO=t=>(Ve(t.ns)&&(t.ns=[t.ns]),Ve(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ve(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),mm=()=>{},ide=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Td extends Vy{constructor(e={},n){if(super(),this.options=VO(e),this.services={},this.logger=zs,this.modules={external:[]},ide(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ve(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=$O();this.options={...r,...this.options,...VO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?zs.init(s(this.modules.logger),this.options):zs.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=nde;const h=new LO(this.options);this.store=new OO(this.options.resources,this.options);const m=this.services;m.logger=zs,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new Zfe(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=s(d),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Qfe(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new sde(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Hg(this.services,this.options),this.translator.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,n||(n=mm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const c=ff(),u=()=>{const d=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),n(h,m)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e,n=mm){let r=n;const s=Ve(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(c=>a(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const s=ff();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=mm),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&K6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=ff();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?this.isLanguageChangingTo===e&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(c,(...d)=>this.t(...d))},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=Ve(c)?c:c&&c[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Ve(c)?[c]:c);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,h=>{i(h,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const s=(i,a,...c)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([i,a].concat(c)):u={...a},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const d=this.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(i)?h=i.map(m=>(typeof m=="function"&&(m=bx(m,{...this.options,...a})),`${u.keyPrefix}${d}${m}`)):(typeof i=="function"&&(i=bx(i,{...this.options,...a})),h=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(h,u)};return Ve(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(c,u)=>{const d=this.services.backendConnector.state[`${c}|${u}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,a);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=ff();return this.options.ns?(Ve(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ff();Ve(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new LO($O());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Td(e,n)}cloneInstance(e={},n=mm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Td(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const c=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((h,m)=>(h[m]={...u[d][m]},h),u[d]),u),{});i.store=new OO(c,s),i.services.resourceStore=i.store}return i.translator=new Hg(i.services,s),i.translator.on("*",(c,...u)=>{i.emit(c,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $n=Td.createInstance();$n.createInstance=Td.createInstance;$n.createInstance;$n.dir;$n.init;$n.loadResources;$n.reloadResources;$n.use;$n.changeLanguage;$n.getFixedT;$n.t;$n.exists;$n.setDefaultNamespace;$n.hasLoadedNamespace;$n.loadNamespaces;$n.loadLanguages;const ode="AI Agent",ade="AI Agent Settings",lde="Settings",cde="Connect an AI Model to Get Started",ude="No AI model is connected yet. Link a model to start interacting with it right here in the interface.",fde="Connect an AI Model",dde="Chat history",hde="There is no chat history yet...",pde="Choose how to connect AI",mde="Select how you want to enable AI features in ONLYOFFICE.",gde="You can either use the built-in Wallet for a quick start or connect your own AI model using an API key or a locally hosted model.",yde="ONLYOFFICE Wallet",bde="Top up your balance with a card and instantly use all AI features.",vde="Your AI provider",_de="Connect your own AI source  either via API key from a provider or a locally hosted model.",wde="Register & Connect Wallet",xde="Add provider",Sde="Connection",Ede="MCP Servers",Cde="AI Provider",Tde="Edit AI Provider",Ade="Provider",Rde="Name",kde="URL",Mde="Enter name",Ode="Enter URL",Pde="API key",Ide="Enter API key",Lde="Cancel",Dde="Save",Nde="Edit",jde="Delete",Bde="Warning",$de="Yes",Vde="No",Ude="How can I help?",Fde="Free Al chat, writing assistant & idea generator",zde="Rename",Hde="Download",qde="Search...",Gde="Add local file...",Wde="Recent files",Kde="Attachments",Yde="API key",Xde="New chat",Jde="Ask AI",Zde="Analyzing...",Qde="Al would like to use this tool:",ehe=`Review each action carefully before approving
 We cannot guarantee the security or privacy practices of third-party integrations.`,the="Always allow this tool to perform this action without asking again",nhe="Deny",rhe="Allow",she="Tool call arguments",ihe="Tool call result",ohe="Tool executed",ahe="Confirmation",lhe="Select model",che={AIAgent:ode,AIAgentSettings:ade,Settings:lde,ConnectAIModel:cde,ConnectAIModelDescription:ude,ConnectAIModelBtn:fde,ChatHistory:dde,NoChatYet:hde,ChooseHowConnect:pde,SelectHowConnect:mde,SelectHowConnectDescription:gde,ONLYOFFICEWallet:yde,ONLYOFFICEWalletDescription:bde,AIProviders:vde,AIProvidersDescription:_de,RegisterConnectWallet:wde,AddProvider:xde,Connection:Sde,MCPServers:Ede,AIProvider:Cde,EditAIProvider:Tde,Provider:Ade,Name:Rde,URL:kde,EnterName:Mde,EnterURL:Ode,Key:Pde,EnterKey:Ide,Cancel:Lde,Save:Dde,Edit:Nde,Delete:jde,Warning:Bde,"WantDeleteProvider?":"Are you sure you want to delete this provider?","WantDeleteChat?":"Are you sure you want to delete this chat?",Yes:$de,No:Vde,WelcomeTitle:Ude,WelcomeDescription:Fde,Rename:zde,Download:Hde,Search:qde,AddLocalFile:Gde,RecentFiles:Wde,Attachments:Kde,APIKey:Yde,NewChat:Xde,AskAI:Jde,Analyzing:Zde,AIWouldLikeUseThisTool:Qde,ReviewEachAction:ehe,AlwaysAllow:the,Deny:nhe,Allow:rhe,ToolCallArguments:she,ToolCallResult:ihe,ToolExecuted:ohe,Confirmation:ahe,SelectModel:lhe},uhe=" ",fhe="  ",dhe="",hhe="     ",phe="    .  ,         .",mhe=" ",ghe=" ",yhe="   ",bhe=",   ",vhe=",         ONLYOFFICE.",_he="        ,          API-    .",whe="ONLYOFFICE ",xhe="           .",She="   ",Ehe="         API-  ,    .",Che="   ",The=" ",Ahe="",Rhe="MCP ",khe=" ",Mhe="  ",Ohe="",Phe="",Ihe="URL",Lhe=" ",Dhe=" URL",Nhe="API ",jhe=" API ",Bhe="",$he="",Vhe="",Uhe="",Fhe="",zhe="",Hhe="",qhe="",Ghe="",Whe="...",Khe="API ",Yhe="",Xhe="   ?",Jhe="    ,      ",Zhe=" ",Qhe=" ",epe="  ...",tpe=" ",npe="...",rpe="    :",spe=`    
          .`,ipe="         ",ope="",ape="",lpe="  ",cpe="  ",upe=" ",fpe="",dpe=" ",hpe={AIAgent:uhe,AIAgentSettings:fhe,Settings:dhe,ConnectAIModel:hhe,ConnectAIModelDescription:phe,ConnectAIModelBtn:mhe,ChatHistory:ghe,NoChatYet:yhe,ChooseHowConnect:bhe,SelectHowConnect:vhe,SelectHowConnectDescription:_he,ONLYOFFICEWallet:whe,ONLYOFFICEWalletDescription:xhe,AIProviders:She,AIProvidersDescription:Ehe,RegisterConnectWallet:Che,AddProvider:The,Connection:Ahe,MCPServers:Rhe,AIProvider:khe,EditAIProvider:Mhe,Provider:Ohe,Name:Phe,URL:Ihe,EnterName:Lhe,EnterURL:Dhe,Key:Nhe,EnterKey:jhe,Cancel:Bhe,Save:$he,Edit:Vhe,Delete:Uhe,Warning:Fhe,"WantDeleteProvider?":" ,     ?","WantDeleteChat?":" ,     ?",Rename:zhe,Download:Hhe,Yes:qhe,No:Ghe,Search:Whe,APIKey:Khe,Attachments:Yhe,WelcomeTitle:Xhe,WelcomeDescription:Jhe,NewChat:Zhe,AskAI:Qhe,AddLocalFile:epe,RecentFiles:tpe,Analyzing:npe,AIWouldLikeUseThisTool:rpe,ReviewEachAction:spe,AlwaysAllow:ipe,Deny:ope,Allow:ape,ToolCallArguments:lpe,ToolCallResult:cpe,ToolExecuted:upe,Confirmation:fpe,SelectModel:dpe};$n.use(uG).init({resources:{en:{translation:che},ru:{translation:hpe}},fallbackLng:"en",interpolation:{escapeValue:!1}});const ppe=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),{messages:s,stopMessage:i}=Cc(),{providers:a,fetchProvidersModels:c}=xs(),{currentPage:u,setCurrentPage:d}=T2(),{manageToolData:h}=Tc();jfe({isReady:t}),Bfe(),$fe({isReady:t});const{onNew:m,convertMessage:g,approveToolCall:y,denyToolCall:_}=Nfe({isReady:t});C.useEffect(()=>{a.length&&c()},[a,c]),C.useEffect(()=>{h&&r(!0)},[h]),C.useEffect(()=>(Yq().then(()=>e(!0)),()=>{Qs.close()}),[]);const x=Y9({messages:s,onNew:m,onCancel:async()=>{i()},convertMessage:g,adapters:{attachments:new j9([new I9,new D9])}});return u!=="settings"&&!a.length?w.jsx(TO,{children:w.jsx(JG,{onConnect:()=>{d("settings")}})}):w.jsxs(TO,{children:[w.jsx(H$,{runtime:x,children:u==="settings"?w.jsx($Y,{}):w.jsx(mfe,{})}),n?w.jsx(Dfe,{onAllow:y,onDeny:_,onClose:()=>r(!1)}):null]})},UO=()=>{let t=document.getElementById("root");if(!t){const e=window.parent.document.querySelector('iframe[name="system_asc.{9DC93CDB-B576-4F0C-B55E-FCC9C48DD777}"]');e&&e.contentDocument&&(t=e.contentDocument.getElementById("root"))}t||(t=document.createElement("div"),t.id="root",document.body.appendChild(t)),t&&!t.hasAttribute("data-react-root")&&(t.setAttribute("data-react-root","true"),t9.createRoot(t).render(w.jsx(C.StrictMode,{children:w.jsx(ppe,{})})))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",UO):UO();
