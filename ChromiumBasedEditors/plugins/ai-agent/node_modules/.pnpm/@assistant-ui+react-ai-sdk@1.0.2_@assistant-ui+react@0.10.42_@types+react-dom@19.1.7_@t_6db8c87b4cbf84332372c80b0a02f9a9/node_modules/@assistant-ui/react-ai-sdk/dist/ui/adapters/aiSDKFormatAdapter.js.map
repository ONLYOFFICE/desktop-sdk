{"version":3,"sources":["../../../src/ui/adapters/aiSDKFormatAdapter.ts"],"sourcesContent":["import { UIMessage } from \"ai\";\nimport {\n  MessageFormatAdapter,\n  MessageFormatItem,\n  MessageStorageEntry,\n} from \"@assistant-ui/react\";\n\n// Storage format for AI SDK messages - just the UIMessage\nexport type AISDKStorageFormat = Omit<UIMessage, \"id\">;\n\nexport const aiSDKV5FormatAdapter: MessageFormatAdapter<\n  UIMessage,\n  AISDKStorageFormat\n> = {\n  format: \"ai-sdk/v5\",\n\n  encode({\n    message: { id, parts, ...message },\n  }: MessageFormatItem<UIMessage>): AISDKStorageFormat {\n    // Filter out FileContentParts until they are supported\n    return {\n      ...message,\n      parts: parts.filter((part) => part.type !== \"file\"),\n    };\n  },\n\n  decode(\n    stored: MessageStorageEntry<AISDKStorageFormat>,\n  ): MessageFormatItem<UIMessage> {\n    return {\n      parentId: stored.parent_id,\n      message: {\n        id: stored.id,\n        ...stored.content,\n      },\n    };\n  },\n\n  getId(message: UIMessage): string {\n    return message.id;\n  },\n};\n"],"mappings":";AAUO,IAAM,uBAGT;AAAA,EACF,QAAQ;AAAA,EAER,OAAO;AAAA,IACL,SAAS,EAAE,IAAI,OAAO,GAAG,QAAQ;AAAA,EACnC,GAAqD;AAEnD,WAAO;AAAA,MACL,GAAG;AAAA,MACH,OAAO,MAAM,OAAO,CAAC,SAAS,KAAK,SAAS,MAAM;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,OACE,QAC8B;AAC9B,WAAO;AAAA,MACL,UAAU,OAAO;AAAA,MACjB,SAAS;AAAA,QACP,IAAI,OAAO;AAAA,QACX,GAAG,OAAO;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAM,SAA4B;AAChC,WAAO,QAAQ;AAAA,EACjB;AACF;","names":[]}